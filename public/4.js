(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[4],{

/***/ "./node_modules/drag-event-service/dist/drag-event-service.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/drag-event-service/dist/drag-event-service.es.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helper-js */ \"./node_modules/helper-js/dist/helper-js.esm.js\");\n/*!\n * drag-event-service v0.0.6\n * (c) 2018-present phphe <phphe@outlook.com> (https://github.com/phphe)\n * Released under the MIT License.\n */\n\n\n// support desktop and mobile\nvar events = {\n  start: ['mousedown', 'touchstart'],\n  move: ['mousemove', 'touchmove'],\n  end: ['mouseup', 'touchend']\n};\nvar index = {\n  isTouch: function isTouch(e) {\n    return e.type && e.type.startsWith('touch');\n  },\n  _getStore: function _getStore(el) {\n    if (!el._wrapperStore) {\n      el._wrapperStore = [];\n    }\n\n    return el._wrapperStore;\n  },\n  on: function on(el, name, handler) {\n    var _hp$onDOM, _hp$onDOM2;\n\n    var store = this._getStore(el);\n\n    var ts = this;\n\n    var wrapper = function wrapper(e) {\n      var mouse;\n      var isTouch = ts.isTouch(e);\n\n      if (isTouch) {\n        // touch\n        mouse = {\n          x: e.changedTouches[0].pageX,\n          y: e.changedTouches[0].pageY\n        };\n      } else {\n        // mouse\n        mouse = {\n          x: e.pageX,\n          y: e.pageY\n        };\n\n        if (name === 'start' && e.which !== 1) {\n          // not left button mousedown\n          return;\n        }\n      }\n\n      return handler.call(this, e, mouse);\n    };\n\n    store.push({\n      handler: handler,\n      wrapper: wrapper\n    }); // follow format will cause big bundle size\n    // 以下写法将会使打包工具认为hp是上下文, 导致打包整个hp\n    // hp.onDOM(el, events[name][0], wrapper, ...args)\n\n    for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n      args[_key - 3] = arguments[_key];\n    }\n\n    (_hp$onDOM = helper_js__WEBPACK_IMPORTED_MODULE_0__[\"onDOM\"]).call.apply(_hp$onDOM, [null, el, events[name][0], wrapper].concat(args));\n\n    (_hp$onDOM2 = helper_js__WEBPACK_IMPORTED_MODULE_0__[\"onDOM\"]).call.apply(_hp$onDOM2, [null, el, events[name][1], wrapper].concat(args));\n  },\n  off: function off(el, name, handler) {\n    var store = this._getStore(el);\n\n    for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n      args[_key2 - 3] = arguments[_key2];\n    }\n\n    for (var i = store.length - 1; i >= 0; i--) {\n      var _store$i = store[i],\n          handler2 = _store$i.handler,\n          wrapper = _store$i.wrapper;\n\n      if (handler === handler2) {\n        var _hp$offDOM, _hp$offDOM2;\n\n        (_hp$offDOM = helper_js__WEBPACK_IMPORTED_MODULE_0__[\"offDOM\"]).call.apply(_hp$offDOM, [null, el, events[name][0], wrapper].concat(args));\n\n        (_hp$offDOM2 = helper_js__WEBPACK_IMPORTED_MODULE_0__[\"offDOM\"]).call.apply(_hp$offDOM2, [null, el, events[name][1], wrapper].concat(args));\n\n        store.splice(i, 1);\n      }\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (index);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJhZy1ldmVudC1zZXJ2aWNlL2Rpc3QvZHJhZy1ldmVudC1zZXJ2aWNlLmVzLmpzPzMyZGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFO0FBQ1A7QUFDQTs7QUFFQSwwRkFBMEYsYUFBYTtBQUN2RztBQUNBOztBQUVBLGlCQUFpQiwrQ0FBSzs7QUFFdEIsa0JBQWtCLCtDQUFLO0FBQ3ZCLEdBQUc7QUFDSDtBQUNBOztBQUVBLDhGQUE4RixlQUFlO0FBQzdHO0FBQ0E7O0FBRUEsa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsc0JBQXNCLGdEQUFNOztBQUU1Qix1QkFBdUIsZ0RBQU07O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsb0VBQUssRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kcmFnLWV2ZW50LXNlcnZpY2UvZGlzdC9kcmFnLWV2ZW50LXNlcnZpY2UuZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGRyYWctZXZlbnQtc2VydmljZSB2MC4wLjZcbiAqIChjKSAyMDE4LXByZXNlbnQgcGhwaGUgPHBocGhlQG91dGxvb2suY29tPiAoaHR0cHM6Ly9naXRodWIuY29tL3BocGhlKVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBvbkRPTSwgb2ZmRE9NIH0gZnJvbSAnaGVscGVyLWpzJztcblxuLy8gc3VwcG9ydCBkZXNrdG9wIGFuZCBtb2JpbGVcbnZhciBldmVudHMgPSB7XG4gIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gIG1vdmU6IFsnbW91c2Vtb3ZlJywgJ3RvdWNobW92ZSddLFxuICBlbmQ6IFsnbW91c2V1cCcsICd0b3VjaGVuZCddXG59O1xudmFyIGluZGV4ID0ge1xuICBpc1RvdWNoOiBmdW5jdGlvbiBpc1RvdWNoKGUpIHtcbiAgICByZXR1cm4gZS50eXBlICYmIGUudHlwZS5zdGFydHNXaXRoKCd0b3VjaCcpO1xuICB9LFxuICBfZ2V0U3RvcmU6IGZ1bmN0aW9uIF9nZXRTdG9yZShlbCkge1xuICAgIGlmICghZWwuX3dyYXBwZXJTdG9yZSkge1xuICAgICAgZWwuX3dyYXBwZXJTdG9yZSA9IFtdO1xuICAgIH1cblxuICAgIHJldHVybiBlbC5fd3JhcHBlclN0b3JlO1xuICB9LFxuICBvbjogZnVuY3Rpb24gb24oZWwsIG5hbWUsIGhhbmRsZXIpIHtcbiAgICB2YXIgX2hwJG9uRE9NLCBfaHAkb25ET00yO1xuXG4gICAgdmFyIHN0b3JlID0gdGhpcy5fZ2V0U3RvcmUoZWwpO1xuXG4gICAgdmFyIHRzID0gdGhpcztcblxuICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gd3JhcHBlcihlKSB7XG4gICAgICB2YXIgbW91c2U7XG4gICAgICB2YXIgaXNUb3VjaCA9IHRzLmlzVG91Y2goZSk7XG5cbiAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgIC8vIHRvdWNoXG4gICAgICAgIG1vdXNlID0ge1xuICAgICAgICAgIHg6IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVgsXG4gICAgICAgICAgeTogZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbW91c2VcbiAgICAgICAgbW91c2UgPSB7XG4gICAgICAgICAgeDogZS5wYWdlWCxcbiAgICAgICAgICB5OiBlLnBhZ2VZXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdGFydCcgJiYgZS53aGljaCAhPT0gMSkge1xuICAgICAgICAgIC8vIG5vdCBsZWZ0IGJ1dHRvbiBtb3VzZWRvd25cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhbmRsZXIuY2FsbCh0aGlzLCBlLCBtb3VzZSk7XG4gICAgfTtcblxuICAgIHN0b3JlLnB1c2goe1xuICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICAgIHdyYXBwZXI6IHdyYXBwZXJcbiAgICB9KTsgLy8gZm9sbG93IGZvcm1hdCB3aWxsIGNhdXNlIGJpZyBidW5kbGUgc2l6ZVxuICAgIC8vIOS7peS4i+WGmeazleWwhuS8muS9v+aJk+WMheW3peWFt+iupOS4umhw5piv5LiK5LiL5paHLCDlr7zoh7TmiZPljIXmlbTkuKpocFxuICAgIC8vIGhwLm9uRE9NKGVsLCBldmVudHNbbmFtZV1bMF0sIHdyYXBwZXIsIC4uLmFyZ3MpXG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMyA/IF9sZW4gLSAzIDogMCksIF9rZXkgPSAzOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICAoX2hwJG9uRE9NID0gb25ET00pLmNhbGwuYXBwbHkoX2hwJG9uRE9NLCBbbnVsbCwgZWwsIGV2ZW50c1tuYW1lXVswXSwgd3JhcHBlcl0uY29uY2F0KGFyZ3MpKTtcblxuICAgIChfaHAkb25ET00yID0gb25ET00pLmNhbGwuYXBwbHkoX2hwJG9uRE9NMiwgW251bGwsIGVsLCBldmVudHNbbmFtZV1bMV0sIHdyYXBwZXJdLmNvbmNhdChhcmdzKSk7XG4gIH0sXG4gIG9mZjogZnVuY3Rpb24gb2ZmKGVsLCBuYW1lLCBoYW5kbGVyKSB7XG4gICAgdmFyIHN0b3JlID0gdGhpcy5fZ2V0U3RvcmUoZWwpO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMyA/IF9sZW4yIC0gMyA6IDApLCBfa2V5MiA9IDM7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTIgLSAzXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IHN0b3JlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgX3N0b3JlJGkgPSBzdG9yZVtpXSxcbiAgICAgICAgICBoYW5kbGVyMiA9IF9zdG9yZSRpLmhhbmRsZXIsXG4gICAgICAgICAgd3JhcHBlciA9IF9zdG9yZSRpLndyYXBwZXI7XG5cbiAgICAgIGlmIChoYW5kbGVyID09PSBoYW5kbGVyMikge1xuICAgICAgICB2YXIgX2hwJG9mZkRPTSwgX2hwJG9mZkRPTTI7XG5cbiAgICAgICAgKF9ocCRvZmZET00gPSBvZmZET00pLmNhbGwuYXBwbHkoX2hwJG9mZkRPTSwgW251bGwsIGVsLCBldmVudHNbbmFtZV1bMF0sIHdyYXBwZXJdLmNvbmNhdChhcmdzKSk7XG5cbiAgICAgICAgKF9ocCRvZmZET00yID0gb2ZmRE9NKS5jYWxsLmFwcGx5KF9ocCRvZmZET00yLCBbbnVsbCwgZWwsIGV2ZW50c1tuYW1lXVsxXSwgd3JhcHBlcl0uY29uY2F0KGFyZ3MpKTtcblxuICAgICAgICBzdG9yZS5zcGxpY2UoaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/drag-event-service/dist/drag-event-service.es.js\n");

/***/ }),

/***/ "./node_modules/draggable-helper/dist/draggable-helper.es.js":
/*!*******************************************************************!*\
  !*** ./node_modules/draggable-helper/dist/draggable-helper.es.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helper-js */ \"./node_modules/helper-js/dist/helper-js.esm.js\");\n/* harmony import */ var drag_event_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drag-event-service */ \"./node_modules/drag-event-service/dist/drag-event-service.es.js\");\n/*!\n * draggable-helper v1.0.20\n * (c) 2018-present phphe <phphe@outlook.com> (https://github.com/phphe)\n * Released under the MIT License.\n */\n\n\n\n/***\nconst destroy = draggableHelper(HTMLElement dragHandlerEl, Object opt = {})\nopt.drag(e, opt, store)\n[Object] opt.style || opt.getStyle(opt) set style of moving el style\n[Boolean] opt.clone\nopt.draggingClass, default dragging\nopt.moving(e, opt, store) return false can prevent moving\nopt.drop(e, opt, store)\nopt.getEl(dragHandlerEl, opt) get the el that will be moved. default is dragHandlerEl\nopt.minTranslate default 10, unit px\nadd other prop into opt, you get opt in callback\nstore{\n  el\n  initialMouse\n  initialPosition\n  mouse\n  move\n  movedCount // start from 0\n}\ne.g.\ndraggable(this.$el, {\n  vm: this,\n  data: this.data,\n  drag: (e, opt, store) => {\n    dplh.style.height = store.el.querySelector('.TreeNodeSelf').offsetHeight + 'px'\n    th.insertAfter(dplh, opt.data)\n  },\n  moving: (e, opt, store) => {\n    hp.arrayRemove(dplh.parent.children, dplh)\n  },\n  drop: (e, opt, store) => {\n    hp.arrayRemove(dplh.parent.children, dplh)\n  },\n})\n***/\n\nfunction index (dragHandlerEl) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (opt.minTranslate == null) {\n    opt.minTranslate = 10;\n  }\n\n  var store = getPureStore();\n\n  var destroy = function destroy() {\n    drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].off(dragHandlerEl, 'end', dragHandlerEl._draggbleEventHandler);\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"offDOM\"])(dragHandlerEl, 'selectstart', preventSelect);\n    delete dragHandlerEl._draggbleEventHandler;\n  };\n\n  if (dragHandlerEl._draggbleEventHandler) {\n    destroy();\n  }\n\n  dragHandlerEl._draggbleEventHandler = start;\n  drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].on(dragHandlerEl, 'start', dragHandlerEl._draggbleEventHandler);\n  Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"onDOM\"])(dragHandlerEl, 'selectstart', preventSelect);\n  return destroy;\n\n  function start(e, mouse) {\n    // e.stopPropagation()\n    store.mouse = {\n      x: mouse.x,\n      y: mouse.y\n    };\n    store.initialMouse = Object.assign({}, store.mouse);\n    drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].on(document, 'move', moving, {\n      passive: false\n    }); // passive: false is for touchmove event\n\n    drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].on(window, 'end', drop);\n  }\n\n  function drag(e) {\n    var _resolveDragedElAndIn = resolveDragedElAndInitialPosition(),\n        el = _resolveDragedElAndIn.el,\n        position = _resolveDragedElAndIn.position;\n\n    store.el = el;\n    store.initialPosition = Object.assign({}, position);\n    var r = opt.drag && opt.drag(e, opt, store);\n\n    if (r === false) {\n      return false;\n    } // dom actions\n\n\n    var size = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getElSize\"])(el);\n    var style = Object.assign({\n      width: \"\".concat(size.width, \"px\"),\n      height: \"\".concat(size.height, \"px\"),\n      zIndex: 9999,\n      opacity: 0.6,\n      position: 'absolute',\n      left: position.x + 'px',\n      top: position.y + 'px'\n    }, opt.style || opt.getStyle && opt.getStyle(opt) || {});\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"backupAttr\"])(el, 'style');\n\n    for (var key in style) {\n      el.style[key] = style[key];\n    } // add class\n\n\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"backupAttr\"])(el, 'class');\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"addClass\"])(el, opt.draggingClass);\n  }\n\n  function moving(e, mouse) {\n    store.mouse = {\n      x: mouse.x,\n      y: mouse.y\n    };\n    var move = store.move = {\n      x: store.mouse.x - store.initialMouse.x,\n      y: store.mouse.y - store.initialMouse.y\n    };\n\n    if (store.movedCount === 0 && opt.minTranslate) {\n      var x2 = Math.pow(store.move.x, 2);\n      var y2 = Math.pow(store.move.y, 2);\n      var dtc = Math.pow(x2 + y2, 0.5);\n\n      if (dtc < opt.minTranslate) {\n        return;\n      }\n    }\n\n    var canMove = true;\n\n    if (store.movedCount === 0) {\n      if (drag(e) === false) {\n        canMove = false;\n      }\n    } // move started\n    // e.preventDefault() to prevent text selection and page scrolling when touch\n\n\n    e.preventDefault();\n\n    if (canMove && opt.moving) {\n      if (opt.moving(e, opt, store) === false) {\n        canMove = false;\n      }\n    }\n\n    if (canMove) {\n      if (!store || !store.el) {\n        return;\n      }\n\n      Object.assign(store.el.style, {\n        left: store.initialPosition.x + move.x + 'px',\n        top: store.initialPosition.y + move.y + 'px'\n      });\n      store.movedCount++;\n    }\n  }\n\n  function drop(e) {\n    drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].off(document, 'move', moving, {\n      passive: false\n    });\n    drag_event_service__WEBPACK_IMPORTED_MODULE_1__[\"default\"].off(window, 'end', drop); // drag executed if movedCount > 0\n\n    if (store.movedCount > 0) {\n      store.movedCount = 0;\n      var _store = store,\n          el = _store.el;\n\n      if (opt.clone) {\n        el.parentElement.removeChild(el);\n      } else {\n        Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"restoreAttr\"])(el, 'style');\n        Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"restoreAttr\"])(el, 'class');\n      }\n\n      opt.drop && opt.drop(e, opt, store);\n    }\n\n    store = getPureStore();\n  }\n\n  function resolveDragedElAndInitialPosition() {\n    var el0 = opt.getEl ? opt.getEl(dragHandlerEl, opt) : dragHandlerEl;\n    var el = el0;\n\n    if (opt.clone) {\n      store.triggerEl = el0;\n      el = el0.cloneNode(true);\n      el0.parentElement.appendChild(el);\n    }\n\n    return {\n      position: Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getPosition\"])(el),\n      el: el\n    };\n  }\n\n  function getPureStore() {\n    return {\n      movedCount: 0\n    };\n  }\n\n  function preventSelect(e) {\n    e.preventDefault();\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (index);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZHJhZ2dhYmxlLWhlbHBlci9kaXN0L2RyYWdnYWJsZS1oZWxwZXIuZXMuanM/ZjJmYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FHO0FBQ25EOztBQUVsRDtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLElBQUksMERBQWdCO0FBQ3BCLElBQUksd0RBQU07QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUUsMERBQWdCO0FBQ2xCLEVBQUUsdURBQUs7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsSUFBSSwwREFBZ0I7QUFDcEI7QUFDQSxLQUFLLEVBQUU7O0FBRVAsSUFBSSwwREFBZ0I7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEM7QUFDNUM7O0FBRUE7QUFDQTtBQUNBLEtBQUs7OztBQUdMLGVBQWUsMkRBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0RBQXNEO0FBQzNELElBQUksNERBQVU7O0FBRWQ7QUFDQTtBQUNBLEtBQUs7OztBQUdMLElBQUksNERBQVU7QUFDZCxJQUFJLDBEQUFRO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDBEQUFnQjtBQUNwQjtBQUNBLEtBQUs7QUFDTCxJQUFJLDBEQUFnQiwwQkFBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUSw2REFBVztBQUNuQixRQUFRLDZEQUFXO0FBQ25COztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQiw2REFBVztBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxvRUFBSyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2RyYWdnYWJsZS1oZWxwZXIvZGlzdC9kcmFnZ2FibGUtaGVscGVyLmVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBkcmFnZ2FibGUtaGVscGVyIHYxLjAuMjBcbiAqIChjKSAyMDE4LXByZXNlbnQgcGhwaGUgPHBocGhlQG91dGxvb2suY29tPiAoaHR0cHM6Ly9naXRodWIuY29tL3BocGhlKVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBvZmZET00sIG9uRE9NLCBnZXRFbFNpemUsIGJhY2t1cEF0dHIsIGFkZENsYXNzLCByZXN0b3JlQXR0ciwgZ2V0UG9zaXRpb24gfSBmcm9tICdoZWxwZXItanMnO1xuaW1wb3J0IERyYWdFdmVudFNlcnZpY2UgZnJvbSAnZHJhZy1ldmVudC1zZXJ2aWNlJztcblxuLyoqKlxuY29uc3QgZGVzdHJveSA9IGRyYWdnYWJsZUhlbHBlcihIVE1MRWxlbWVudCBkcmFnSGFuZGxlckVsLCBPYmplY3Qgb3B0ID0ge30pXG5vcHQuZHJhZyhlLCBvcHQsIHN0b3JlKVxuW09iamVjdF0gb3B0LnN0eWxlIHx8IG9wdC5nZXRTdHlsZShvcHQpIHNldCBzdHlsZSBvZiBtb3ZpbmcgZWwgc3R5bGVcbltCb29sZWFuXSBvcHQuY2xvbmVcbm9wdC5kcmFnZ2luZ0NsYXNzLCBkZWZhdWx0IGRyYWdnaW5nXG5vcHQubW92aW5nKGUsIG9wdCwgc3RvcmUpIHJldHVybiBmYWxzZSBjYW4gcHJldmVudCBtb3Zpbmdcbm9wdC5kcm9wKGUsIG9wdCwgc3RvcmUpXG5vcHQuZ2V0RWwoZHJhZ0hhbmRsZXJFbCwgb3B0KSBnZXQgdGhlIGVsIHRoYXQgd2lsbCBiZSBtb3ZlZC4gZGVmYXVsdCBpcyBkcmFnSGFuZGxlckVsXG5vcHQubWluVHJhbnNsYXRlIGRlZmF1bHQgMTAsIHVuaXQgcHhcbmFkZCBvdGhlciBwcm9wIGludG8gb3B0LCB5b3UgZ2V0IG9wdCBpbiBjYWxsYmFja1xuc3RvcmV7XG4gIGVsXG4gIGluaXRpYWxNb3VzZVxuICBpbml0aWFsUG9zaXRpb25cbiAgbW91c2VcbiAgbW92ZVxuICBtb3ZlZENvdW50IC8vIHN0YXJ0IGZyb20gMFxufVxuZS5nLlxuZHJhZ2dhYmxlKHRoaXMuJGVsLCB7XG4gIHZtOiB0aGlzLFxuICBkYXRhOiB0aGlzLmRhdGEsXG4gIGRyYWc6IChlLCBvcHQsIHN0b3JlKSA9PiB7XG4gICAgZHBsaC5zdHlsZS5oZWlnaHQgPSBzdG9yZS5lbC5xdWVyeVNlbGVjdG9yKCcuVHJlZU5vZGVTZWxmJykub2Zmc2V0SGVpZ2h0ICsgJ3B4J1xuICAgIHRoLmluc2VydEFmdGVyKGRwbGgsIG9wdC5kYXRhKVxuICB9LFxuICBtb3Zpbmc6IChlLCBvcHQsIHN0b3JlKSA9PiB7XG4gICAgaHAuYXJyYXlSZW1vdmUoZHBsaC5wYXJlbnQuY2hpbGRyZW4sIGRwbGgpXG4gIH0sXG4gIGRyb3A6IChlLCBvcHQsIHN0b3JlKSA9PiB7XG4gICAgaHAuYXJyYXlSZW1vdmUoZHBsaC5wYXJlbnQuY2hpbGRyZW4sIGRwbGgpXG4gIH0sXG59KVxuKioqL1xuXG5mdW5jdGlvbiBpbmRleCAoZHJhZ0hhbmRsZXJFbCkge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICBpZiAob3B0Lm1pblRyYW5zbGF0ZSA9PSBudWxsKSB7XG4gICAgb3B0Lm1pblRyYW5zbGF0ZSA9IDEwO1xuICB9XG5cbiAgdmFyIHN0b3JlID0gZ2V0UHVyZVN0b3JlKCk7XG5cbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIERyYWdFdmVudFNlcnZpY2Uub2ZmKGRyYWdIYW5kbGVyRWwsICdlbmQnLCBkcmFnSGFuZGxlckVsLl9kcmFnZ2JsZUV2ZW50SGFuZGxlcik7XG4gICAgb2ZmRE9NKGRyYWdIYW5kbGVyRWwsICdzZWxlY3RzdGFydCcsIHByZXZlbnRTZWxlY3QpO1xuICAgIGRlbGV0ZSBkcmFnSGFuZGxlckVsLl9kcmFnZ2JsZUV2ZW50SGFuZGxlcjtcbiAgfTtcblxuICBpZiAoZHJhZ0hhbmRsZXJFbC5fZHJhZ2dibGVFdmVudEhhbmRsZXIpIHtcbiAgICBkZXN0cm95KCk7XG4gIH1cblxuICBkcmFnSGFuZGxlckVsLl9kcmFnZ2JsZUV2ZW50SGFuZGxlciA9IHN0YXJ0O1xuICBEcmFnRXZlbnRTZXJ2aWNlLm9uKGRyYWdIYW5kbGVyRWwsICdzdGFydCcsIGRyYWdIYW5kbGVyRWwuX2RyYWdnYmxlRXZlbnRIYW5kbGVyKTtcbiAgb25ET00oZHJhZ0hhbmRsZXJFbCwgJ3NlbGVjdHN0YXJ0JywgcHJldmVudFNlbGVjdCk7XG4gIHJldHVybiBkZXN0cm95O1xuXG4gIGZ1bmN0aW9uIHN0YXJ0KGUsIG1vdXNlKSB7XG4gICAgLy8gZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgIHN0b3JlLm1vdXNlID0ge1xuICAgICAgeDogbW91c2UueCxcbiAgICAgIHk6IG1vdXNlLnlcbiAgICB9O1xuICAgIHN0b3JlLmluaXRpYWxNb3VzZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0b3JlLm1vdXNlKTtcbiAgICBEcmFnRXZlbnRTZXJ2aWNlLm9uKGRvY3VtZW50LCAnbW92ZScsIG1vdmluZywge1xuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9KTsgLy8gcGFzc2l2ZTogZmFsc2UgaXMgZm9yIHRvdWNobW92ZSBldmVudFxuXG4gICAgRHJhZ0V2ZW50U2VydmljZS5vbih3aW5kb3csICdlbmQnLCBkcm9wKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYWcoZSkge1xuICAgIHZhciBfcmVzb2x2ZURyYWdlZEVsQW5kSW4gPSByZXNvbHZlRHJhZ2VkRWxBbmRJbml0aWFsUG9zaXRpb24oKSxcbiAgICAgICAgZWwgPSBfcmVzb2x2ZURyYWdlZEVsQW5kSW4uZWwsXG4gICAgICAgIHBvc2l0aW9uID0gX3Jlc29sdmVEcmFnZWRFbEFuZEluLnBvc2l0aW9uO1xuXG4gICAgc3RvcmUuZWwgPSBlbDtcbiAgICBzdG9yZS5pbml0aWFsUG9zaXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBwb3NpdGlvbik7XG4gICAgdmFyIHIgPSBvcHQuZHJhZyAmJiBvcHQuZHJhZyhlLCBvcHQsIHN0b3JlKTtcblxuICAgIGlmIChyID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gLy8gZG9tIGFjdGlvbnNcblxuXG4gICAgdmFyIHNpemUgPSBnZXRFbFNpemUoZWwpO1xuICAgIHZhciBzdHlsZSA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgd2lkdGg6IFwiXCIuY29uY2F0KHNpemUud2lkdGgsIFwicHhcIiksXG4gICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KHNpemUuaGVpZ2h0LCBcInB4XCIpLFxuICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgb3BhY2l0eTogMC42LFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBsZWZ0OiBwb3NpdGlvbi54ICsgJ3B4JyxcbiAgICAgIHRvcDogcG9zaXRpb24ueSArICdweCdcbiAgICB9LCBvcHQuc3R5bGUgfHwgb3B0LmdldFN0eWxlICYmIG9wdC5nZXRTdHlsZShvcHQpIHx8IHt9KTtcbiAgICBiYWNrdXBBdHRyKGVsLCAnc3R5bGUnKTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzdHlsZSkge1xuICAgICAgZWwuc3R5bGVba2V5XSA9IHN0eWxlW2tleV07XG4gICAgfSAvLyBhZGQgY2xhc3NcblxuXG4gICAgYmFja3VwQXR0cihlbCwgJ2NsYXNzJyk7XG4gICAgYWRkQ2xhc3MoZWwsIG9wdC5kcmFnZ2luZ0NsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmluZyhlLCBtb3VzZSkge1xuICAgIHN0b3JlLm1vdXNlID0ge1xuICAgICAgeDogbW91c2UueCxcbiAgICAgIHk6IG1vdXNlLnlcbiAgICB9O1xuICAgIHZhciBtb3ZlID0gc3RvcmUubW92ZSA9IHtcbiAgICAgIHg6IHN0b3JlLm1vdXNlLnggLSBzdG9yZS5pbml0aWFsTW91c2UueCxcbiAgICAgIHk6IHN0b3JlLm1vdXNlLnkgLSBzdG9yZS5pbml0aWFsTW91c2UueVxuICAgIH07XG5cbiAgICBpZiAoc3RvcmUubW92ZWRDb3VudCA9PT0gMCAmJiBvcHQubWluVHJhbnNsYXRlKSB7XG4gICAgICB2YXIgeDIgPSBNYXRoLnBvdyhzdG9yZS5tb3ZlLngsIDIpO1xuICAgICAgdmFyIHkyID0gTWF0aC5wb3coc3RvcmUubW92ZS55LCAyKTtcbiAgICAgIHZhciBkdGMgPSBNYXRoLnBvdyh4MiArIHkyLCAwLjUpO1xuXG4gICAgICBpZiAoZHRjIDwgb3B0Lm1pblRyYW5zbGF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNhbk1vdmUgPSB0cnVlO1xuXG4gICAgaWYgKHN0b3JlLm1vdmVkQ291bnQgPT09IDApIHtcbiAgICAgIGlmIChkcmFnKGUpID09PSBmYWxzZSkge1xuICAgICAgICBjYW5Nb3ZlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSAvLyBtb3ZlIHN0YXJ0ZWRcbiAgICAvLyBlLnByZXZlbnREZWZhdWx0KCkgdG8gcHJldmVudCB0ZXh0IHNlbGVjdGlvbiBhbmQgcGFnZSBzY3JvbGxpbmcgd2hlbiB0b3VjaFxuXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoY2FuTW92ZSAmJiBvcHQubW92aW5nKSB7XG4gICAgICBpZiAob3B0Lm1vdmluZyhlLCBvcHQsIHN0b3JlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2FuTW92ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjYW5Nb3ZlKSB7XG4gICAgICBpZiAoIXN0b3JlIHx8ICFzdG9yZS5lbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24oc3RvcmUuZWwuc3R5bGUsIHtcbiAgICAgICAgbGVmdDogc3RvcmUuaW5pdGlhbFBvc2l0aW9uLnggKyBtb3ZlLnggKyAncHgnLFxuICAgICAgICB0b3A6IHN0b3JlLmluaXRpYWxQb3NpdGlvbi55ICsgbW92ZS55ICsgJ3B4J1xuICAgICAgfSk7XG4gICAgICBzdG9yZS5tb3ZlZENvdW50Kys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZHJvcChlKSB7XG4gICAgRHJhZ0V2ZW50U2VydmljZS5vZmYoZG9jdW1lbnQsICdtb3ZlJywgbW92aW5nLCB7XG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH0pO1xuICAgIERyYWdFdmVudFNlcnZpY2Uub2ZmKHdpbmRvdywgJ2VuZCcsIGRyb3ApOyAvLyBkcmFnIGV4ZWN1dGVkIGlmIG1vdmVkQ291bnQgPiAwXG5cbiAgICBpZiAoc3RvcmUubW92ZWRDb3VudCA+IDApIHtcbiAgICAgIHN0b3JlLm1vdmVkQ291bnQgPSAwO1xuICAgICAgdmFyIF9zdG9yZSA9IHN0b3JlLFxuICAgICAgICAgIGVsID0gX3N0b3JlLmVsO1xuXG4gICAgICBpZiAob3B0LmNsb25lKSB7XG4gICAgICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdG9yZUF0dHIoZWwsICdzdHlsZScpO1xuICAgICAgICByZXN0b3JlQXR0cihlbCwgJ2NsYXNzJyk7XG4gICAgICB9XG5cbiAgICAgIG9wdC5kcm9wICYmIG9wdC5kcm9wKGUsIG9wdCwgc3RvcmUpO1xuICAgIH1cblxuICAgIHN0b3JlID0gZ2V0UHVyZVN0b3JlKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlRHJhZ2VkRWxBbmRJbml0aWFsUG9zaXRpb24oKSB7XG4gICAgdmFyIGVsMCA9IG9wdC5nZXRFbCA/IG9wdC5nZXRFbChkcmFnSGFuZGxlckVsLCBvcHQpIDogZHJhZ0hhbmRsZXJFbDtcbiAgICB2YXIgZWwgPSBlbDA7XG5cbiAgICBpZiAob3B0LmNsb25lKSB7XG4gICAgICBzdG9yZS50cmlnZ2VyRWwgPSBlbDA7XG4gICAgICBlbCA9IGVsMC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBlbDAucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uOiBnZXRQb3NpdGlvbihlbCksXG4gICAgICBlbDogZWxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHVyZVN0b3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtb3ZlZENvdW50OiAwXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXZlbnRTZWxlY3QoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/draggable-helper/dist/draggable-helper.es.js\n");

/***/ }),

/***/ "./node_modules/helper-js/dist/helper-js.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/helper-js/dist/helper-js.esm.js ***!
  \******************************************************/
/*! exports provided: Cache, CrossWindow, CrossWindowEventProcessor, EventProcessor, TreeData, URLHelper, addClass, addDate, appendTo, arrayAt, arrayDiff, arrayDistinct, arrayFirst, arrayFlat, arrayGet, arrayLast, arrayRemove, arrayRemoveBySortedIndexes, arraySibling, arrayWithoutEnd, assignIfDifferent, attachCache, backupAttr, binarySearch, camelCase, camelToWords, cloneDate, cloneObj, copyTextToClipboard, createElementFromHTML, debounce, debounceImmediate, debounceTrailing, depthFirstSearch, elementsFromPoint, empty, executeOnceInScopeByName, executePromiseGetters, executeWithCount, findNodeList, findNodeListReverse, findParent, forAll, getBorder, getBoundingClientRect, getCalendar, getCss3Prefix, getElSize, getElSizeEvenInvisible, getImageSizeByUrl, getLocalStorage2, getMonthEnd, getMonthStart, getOffset, getOffsetParent, getOuterAttachedHeight, getOuterAttachedWidth, getPosition, getPositionFromOffset, getScroll, getSessionStorage2, getUrlParam, getUserLanguage, getViewportPosition, glb, groupArray, hasClass, insertAfter, insertBefore, isArray, isBool, isDescendantOf, isDocumentExisted, isFunction, isIE, isIsoFormat, isNode, isNumber, isNumeric, isObject, isOffsetInEl, isPromise, isString, isWindowDefined, isset, iterateALL, iterateAll, joinFunctionsByNext, joinFunctionsByResult, joinMethods, jqFixedSize, jqMakeCarousel, kebabCase, makeStorageHelper, mapObjectTree, mapObjects, max, min, newArrayRemoveAt, numPad, numRand, objectExcept, objectGet, objectMap, objectMerge, objectOnly, objectSet, offDOM, offsetToViewportPosition, onDOM, onDOMMany, onQuickKeydown, openCenterWindow, openWindow, pairRows, parseISO, prependTo, promiseTimeout, removeClass, removeEl, replaceMultiple, resolveArgsByType, resolveValueOrGettter, restoreAttr, retry, setElChildByIndex, snakeCase, splitArray, store, store_executeOnceInScopeByName, strRand, studlyCase, titleCase, toArrayIfNot, uniqueId, unset, viewportPositionToOffset, waitFor, waitTime, walkTreeData, watchChange, windowLoaded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Cache\", function() { return Cache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrossWindow\", function() { return CrossWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrossWindowEventProcessor\", function() { return CrossWindowEventProcessor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventProcessor\", function() { return EventProcessor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeData\", function() { return TreeData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"URLHelper\", function() { return URLHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addClass\", function() { return addClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addDate\", function() { return addDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendTo\", function() { return appendTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayAt\", function() { return arrayAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayDiff\", function() { return arrayDiff; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayDistinct\", function() { return arrayDistinct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayFirst\", function() { return arrayFirst; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayFlat\", function() { return arrayFlat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayGet\", function() { return arrayGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayLast\", function() { return arrayLast; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayRemove\", function() { return arrayRemove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayRemoveBySortedIndexes\", function() { return arrayRemoveBySortedIndexes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arraySibling\", function() { return arraySibling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayWithoutEnd\", function() { return arrayWithoutEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignIfDifferent\", function() { return assignIfDifferent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attachCache\", function() { return attachCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"backupAttr\", function() { return backupAttr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"binarySearch\", function() { return binarySearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelCase\", function() { return camelCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelToWords\", function() { return camelToWords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneDate\", function() { return cloneDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneObj\", function() { return cloneObj; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copyTextToClipboard\", function() { return copyTextToClipboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElementFromHTML\", function() { return createElementFromHTML; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return debounce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounceImmediate\", function() { return debounceImmediate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounceTrailing\", function() { return debounceTrailing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"depthFirstSearch\", function() { return depthFirstSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"elementsFromPoint\", function() { return elementsFromPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"empty\", function() { return empty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executeOnceInScopeByName\", function() { return executeOnceInScopeByName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executePromiseGetters\", function() { return executePromiseGetters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executeWithCount\", function() { return executeWithCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findNodeList\", function() { return findNodeList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findNodeListReverse\", function() { return findNodeListReverse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findParent\", function() { return findParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forAll\", function() { return forAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBorder\", function() { return getBorder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBoundingClientRect\", function() { return getBoundingClientRect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCalendar\", function() { return getCalendar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCss3Prefix\", function() { return getCss3Prefix; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElSize\", function() { return getElSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElSizeEvenInvisible\", function() { return getElSizeEvenInvisible; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageSizeByUrl\", function() { return getImageSizeByUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLocalStorage2\", function() { return getLocalStorage2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthEnd\", function() { return getMonthEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthStart\", function() { return getMonthStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOffset\", function() { return getOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOffsetParent\", function() { return getOffsetParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOuterAttachedHeight\", function() { return getOuterAttachedHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOuterAttachedWidth\", function() { return getOuterAttachedWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPosition\", function() { return getPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPositionFromOffset\", function() { return getPositionFromOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScroll\", function() { return getScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSessionStorage2\", function() { return getSessionStorage2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUrlParam\", function() { return getUrlParam; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserLanguage\", function() { return getUserLanguage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getViewportPosition\", function() { return getViewportPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"glb\", function() { return glb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupArray\", function() { return groupArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasClass\", function() { return hasClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertAfter\", function() { return insertAfter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertBefore\", function() { return insertBefore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return isArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBool\", function() { return isBool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDescendantOf\", function() { return isDescendantOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDocumentExisted\", function() { return isDocumentExisted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFunction\", function() { return isFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIE\", function() { return isIE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIsoFormat\", function() { return isIsoFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNode\", function() { return isNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNumber\", function() { return isNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNumeric\", function() { return isNumeric; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return isObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOffsetInEl\", function() { return isOffsetInEl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPromise\", function() { return isPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return isString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWindowDefined\", function() { return isWindowDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isset\", function() { return isset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"iterateALL\", function() { return iterateALL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"iterateAll\", function() { return iterateAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinFunctionsByNext\", function() { return joinFunctionsByNext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinFunctionsByResult\", function() { return joinFunctionsByResult; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinMethods\", function() { return joinMethods; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jqFixedSize\", function() { return jqFixedSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jqMakeCarousel\", function() { return jqMakeCarousel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"kebabCase\", function() { return kebabCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeStorageHelper\", function() { return makeStorageHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapObjectTree\", function() { return mapObjectTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapObjects\", function() { return mapObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"max\", function() { return max; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"min\", function() { return min; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"newArrayRemoveAt\", function() { return newArrayRemoveAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numPad\", function() { return numPad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numRand\", function() { return numRand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectExcept\", function() { return objectExcept; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectGet\", function() { return objectGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectMap\", function() { return objectMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectMerge\", function() { return objectMerge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectOnly\", function() { return objectOnly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectSet\", function() { return objectSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"offDOM\", function() { return offDOM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"offsetToViewportPosition\", function() { return offsetToViewportPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onDOM\", function() { return onDOM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onDOMMany\", function() { return onDOMMany; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onQuickKeydown\", function() { return onQuickKeydown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openCenterWindow\", function() { return openCenterWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openWindow\", function() { return openWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pairRows\", function() { return pairRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseISO\", function() { return parseISO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prependTo\", function() { return prependTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"promiseTimeout\", function() { return promiseTimeout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeClass\", function() { return removeClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeEl\", function() { return removeEl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceMultiple\", function() { return replaceMultiple; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveArgsByType\", function() { return resolveArgsByType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveValueOrGettter\", function() { return resolveValueOrGettter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"restoreAttr\", function() { return restoreAttr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"retry\", function() { return retry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setElChildByIndex\", function() { return setElChildByIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"snakeCase\", function() { return snakeCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitArray\", function() { return splitArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"store\", function() { return store; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"store_executeOnceInScopeByName\", function() { return store_executeOnceInScopeByName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"strRand\", function() { return strRand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"studlyCase\", function() { return studlyCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"titleCase\", function() { return titleCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toArrayIfNot\", function() { return toArrayIfNot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uniqueId\", function() { return uniqueId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unset\", function() { return unset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"viewportPositionToOffset\", function() { return viewportPositionToOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitFor\", function() { return waitFor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitTime\", function() { return waitTime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"walkTreeData\", function() { return walkTreeData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"watchChange\", function() { return watchChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"windowLoaded\", function() { return windowLoaded; });\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/get.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/helper-js/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__);\n/*!\n * helper-js v1.4.38\n * (c) phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: undefined\n * Released under the MIT License.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { return function () { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _marked = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(iterateAll);\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// local store\nvar store = {}; // get global\n// `this` !== global or window because of build tool\n\nfunction glb() {\n  if (store.glb) {\n    return store.glb;\n  } else {\n    // resolve global\n    var t;\n\n    try {\n      t = global;\n    } catch (e) {\n      t = window;\n    }\n\n    store.glb = t;\n    return t;\n  }\n}\nfunction isDocumentExisted() {\n  try {\n    var t = document;\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n} // is 各种判断\n\nfunction isset(v) {\n  return typeof v !== 'undefined';\n}\nfunction isArray(v) {\n  return Object.prototype.toString.call(v) === '[object Array]';\n}\nfunction isBool(v) {\n  return Object.prototype.toString.call(v) === '[object Boolean]';\n}\nfunction isNumber(v) {\n  return Object.prototype.toString.call(v) === '[object Number]';\n}\nfunction isNumeric(v) {\n  return isFinite(v) && !isNaN(parseFloat(v));\n}\nfunction isString(v) {\n  return Object.prototype.toString.call(v) === '[object String]';\n}\nfunction isObject(v) {\n  return Object.prototype.toString.call(v) === '[object Object]';\n}\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isPromise(v) {\n  return Object.prototype.toString.call(v) === '[object Promise]';\n}\nfunction empty(v) {\n  if (v == null) {\n    return true;\n  } else if (v.length != null) {\n    return v.length === 0;\n  } else if (isBool(v)) {\n    return false;\n  } else if (isNumber(v)) {\n    return isNaN(v);\n  } else if (isObject(v)) {\n    return Object.keys(v).length === 0;\n  }\n} // num\n\nfunction numRand(min, max) {\n  if (arguments.length === 1) {\n    max = min;\n    min = 0;\n  }\n\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\nfunction numPad(num, n) {\n  var len = num.toString().length;\n\n  while (len < n) {\n    num = '0' + num;\n    len++;\n  }\n\n  return num;\n}\nfunction min(n, min) {\n  return n < min ? min : n;\n}\nfunction max(n, max) {\n  return n < max ? n : max;\n} // str 字符\n\nfunction studlyCase(str) {\n  return str && str[0].toUpperCase() + str.substr(1);\n}\nfunction kebabCase(str) {\n  return str.replace(/ /g, '-').replace(/_/g, '-').replace(/([A-Z])/g, '-$1').replace(/--+/g, '-').replace(/^-|-$|/g, '').toLowerCase();\n}\nfunction snakeCase(str) {\n  return kebabCase(str).replace(/-/g, '_');\n}\nfunction camelCase(str) {\n  var temp = str.toString().split(/[-_]/);\n\n  for (var i = 1; i < temp.length; i++) {\n    temp[i] = studlyCase(temp[i]);\n  }\n\n  return temp.join('');\n}\nfunction camelToWords(str) {\n  return str.toString().trim().split(/(?=[A-Z])/);\n}\nfunction titleCase(str) {\n  return camelToWords(studlyCase(camelCase(str))).join(' ').replace(/\\bid\\b/ig, 'ID');\n}\nfunction strRand() {\n  var len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n  var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var r = '';\n  var seeds = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < len; i++) {\n    r += seeds[numRand(seeds.length - 1)];\n  }\n\n  return prefix + r;\n}\nfunction replaceMultiple(mapObj, str) {\n  var reg = new RegExp(Object.keys(mapObj).join('|'), 'g');\n  return str.replace(reg, function (matchedKey) {\n    return mapObj[matchedKey];\n  });\n} // array\n\nfunction arrayRemove(arr, v) {\n  var index;\n  var count = 0;\n\n  while ((index = arr.indexOf(v)) > -1) {\n    arr.splice(index, 1);\n    count++;\n  }\n\n  return count;\n}\nfunction arrayRemoveBySortedIndexes(arr, sortedIndexes) {\n  for (var i = sortedIndexes.length - 1; i >= 0; i--) {\n    var index = sortedIndexes[i];\n    arr.splice(index, 1);\n  }\n}\nfunction newArrayRemoveAt(arr, indexes) {\n  indexes = toArrayIfNot(indexes);\n  var mapping = {};\n\n  var _iterator = _createForOfIteratorHelper(indexes),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var index = _step.value;\n      mapping[index] = true;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var newArr = [];\n  var len = arr.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!mapping[i]) {\n      newArr.push(arr[i]);\n    }\n  }\n\n  return newArr;\n}\nfunction arrayAt(arr, n) {\n  return arr[n >= 0 ? n : arr.length + n];\n}\nfunction arrayFirst(arr) {\n  return arr[0];\n}\nfunction arrayLast(arr) {\n  return arr[arr.length - 1];\n}\nfunction arrayDiff(arr1, arr2) {\n  var len = arr1.length;\n  var arr = [];\n\n  while (len--) {\n    if (arr2.indexOf(arr1[len]) < 0) {\n      arr.push(arr1[len]);\n    }\n  }\n\n  return arr;\n} // offset can be many\n\nfunction arraySibling(arr, item, offset) {\n  var index = arr.indexOf(item);\n\n  if (index === -1) {\n    throw 'item is not in array';\n  }\n\n  if (isArray(offset)) {\n    return offset.map(function (v) {\n      return arr[index + v];\n    });\n  }\n\n  return arr[index + offset];\n}\nfunction toArrayIfNot(arrOrNot) {\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot];\n} // n can be getter(number of times)\n// n可以是方法, 参数1是第几次分块\n\nfunction splitArray(arr, n) {\n  var r = [];\n\n  if (isFunction(n)) {\n    var getChunkLength = n;\n    var times = 1;\n    var i = 0;\n\n    while (i < arr.length) {\n      var _n = getChunkLength(times);\n\n      var end = i + _n;\n      r.push(arr.slice(i, end));\n      i = end;\n      times++;\n    }\n  } else {\n    var _i = 0;\n\n    while (_i < arr.length) {\n      var _end = _i + n;\n\n      r.push(arr.slice(_i, _end));\n      _i = _end;\n    }\n  }\n\n  return r;\n}\nfunction groupArray(arr, getMark) {\n  var groups = new Map();\n  arr.forEach(function (v) {\n    var mark = getMark(v);\n\n    if (!groups.has(mark)) {\n      groups.set(mark, []);\n    }\n\n    groups.get(mark).push(v);\n  });\n  var r = [];\n  groups.forEach(function (value, key) {\n    r.push([key, value]);\n  });\n  return r;\n}\nfunction arrayDistinct(arr) {\n  if (glb().Set) {\n    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(new Set(arr));\n  } else {\n    return arr.filter(function (v, i, a) {\n      return a.indexOf(v) === i;\n    });\n  }\n}\nfunction arrayGet(arr, index, endIndex) {\n  if (index < 0) {\n    index += arr.length;\n  }\n\n  if (endIndex == null) {\n    return arr[index];\n  } else {\n    if (endIndex < 0) {\n      endIndex += arr.length;\n    }\n\n    return arr.slice(index, endIndex - index + 1);\n  }\n}\nfunction arrayWithoutEnd(arr, len) {\n  return arr.slice(0, arr.length - len);\n}\nfunction arrayFlat(arr) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  var r = [];\n\n  var rec = function rec(arr, curentDepth) {\n    var _iterator2 = _createForOfIteratorHelper(arr),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var item = _step2.value;\n\n        if (isArray(item) && curentDepth < depth) {\n          rec(item, curentDepth + 1);\n        } else {\n          r.push(item);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  rec(arr, 0);\n  return r;\n} // object\n\nfunction assignIfDifferent(obj, key, val) {\n  if (obj[key] !== val) {\n    obj[key] = val;\n  }\n}\nfunction objectMerge(o1, o2) {\n  for (var k in o2) {\n    if (!o1.hasOwnProperty(k)) {\n      o1[k] = o2[k];\n    } else if (isObject(o1[k]) && isObject(o2[k])) {\n      Object.assign(o1[k], o2[k]);\n    } else {\n      o1[k] = o2[k];\n    }\n  }\n\n  return o1;\n}\nfunction objectMap(obj, func) {\n  var r = {};\n\n  for (var key in obj) {\n    r[key] = func(obj[key], key, obj);\n  }\n\n  return r;\n}\nfunction objectOnly(obj, keys) {\n  var r = {};\n\n  for (var key in obj) {\n    if (keys.indexOf(key) > -1) {\n      r[key] = obj[key];\n    }\n  }\n\n  return r;\n}\nfunction objectExcept(obj, keys) {\n  var r = {};\n\n  for (var key in obj) {\n    if (keys.indexOf(key) === -1) {\n      r[key] = obj[key];\n    }\n  }\n\n  return r;\n} // loop for all type\n// TODO change reverse to opt in next version\n\nfunction forAll(val, handler, reverse) {\n  if (!reverse) {\n    if (isArray(val) || isString(val) || val.hasOwnProperty('length')) {\n      for (var i = 0; i < val.length; i++) {\n        if (handler(val[i], i) === false) {\n          break;\n        }\n      }\n    } else if (isObject(val)) {\n      for (var _i2 = 0, _Object$keys = Object.keys(val); _i2 < _Object$keys.length; _i2++) {\n        var key = _Object$keys[_i2];\n\n        if (handler(val[key], key) === false) {\n          break;\n        }\n      }\n    } else if (Number.isInteger(val)) {\n      for (var _i3 = 0; _i3 < val; _i3++) {\n        if (handler(_i3, _i3) === false) {\n          break;\n        }\n      }\n    }\n  } else {\n    if (isArray(val) || isString(val) || val.hasOwnProperty('length')) {\n      for (var _i4 = val.length - 1; _i4 >= 0; _i4--) {\n        if (handler(val[_i4], _i4) === false) {\n          break;\n        }\n      }\n    } else if (isObject(val)) {\n      var keys = Object.keys(val);\n      keys.reverse();\n\n      for (var _i5 = 0, _keys = keys; _i5 < _keys.length; _i5++) {\n        var _key = _keys[_i5];\n\n        if (handler(val[_key], _key) === false) {\n          break;\n        }\n      }\n    } else if (Number.isInteger(val)) {\n      for (var _i6 = val - 1; _i6 >= 0; _i6--) {\n        if (handler(_i6, _i6) === false) {\n          break;\n        }\n      }\n    }\n  }\n} // loop for Array, Object, NodeList, String\n\nfunction iterateAll(val) {\n  var opt,\n      i,\n      info,\n      _i7,\n      _Object$keys2,\n      key,\n      _info,\n      _i8,\n      _info2,\n      keys,\n      _i9,\n      _keys2,\n      _key2,\n      _info3,\n      _args = arguments;\n\n  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function iterateAll$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          opt = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n          if (opt.reverse) {\n            _context.next = 30;\n            break;\n          }\n\n          if (!(val.length != null)) {\n            _context.next = 14;\n            break;\n          }\n\n          i = 0;\n\n        case 4:\n          if (!(i < val.length)) {\n            _context.next = 12;\n            break;\n          }\n\n          info = {\n            value: val[i],\n            index: i\n          };\n\n          if (!(!opt.exclude || !opt.exclude(info))) {\n            _context.next = 9;\n            break;\n          }\n\n          _context.next = 9;\n          return info;\n\n        case 9:\n          i++;\n          _context.next = 4;\n          break;\n\n        case 12:\n          _context.next = 28;\n          break;\n\n        case 14:\n          if (!isObject(val)) {\n            _context.next = 27;\n            break;\n          }\n\n          _i7 = 0, _Object$keys2 = Object.keys(val);\n\n        case 16:\n          if (!(_i7 < _Object$keys2.length)) {\n            _context.next = 25;\n            break;\n          }\n\n          key = _Object$keys2[_i7];\n          _info = {\n            value: val[key],\n            key: key\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info))) {\n            _context.next = 22;\n            break;\n          }\n\n          _context.next = 22;\n          return _info;\n\n        case 22:\n          _i7++;\n          _context.next = 16;\n          break;\n\n        case 25:\n          _context.next = 28;\n          break;\n\n        case 27:\n          throw 'Unsupported type';\n\n        case 28:\n          _context.next = 58;\n          break;\n\n        case 30:\n          if (!(val.length != null)) {\n            _context.next = 42;\n            break;\n          }\n\n          _i8 = val.length - 1;\n\n        case 32:\n          if (!(_i8 >= 0)) {\n            _context.next = 40;\n            break;\n          }\n\n          _info2 = {\n            value: val[_i8],\n            index: _i8\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info2))) {\n            _context.next = 37;\n            break;\n          }\n\n          _context.next = 37;\n          return _info2;\n\n        case 37:\n          _i8--;\n          _context.next = 32;\n          break;\n\n        case 40:\n          _context.next = 58;\n          break;\n\n        case 42:\n          if (!isObject(val)) {\n            _context.next = 57;\n            break;\n          }\n\n          keys = Object.keys(val);\n          keys.reverse();\n          _i9 = 0, _keys2 = keys;\n\n        case 46:\n          if (!(_i9 < _keys2.length)) {\n            _context.next = 55;\n            break;\n          }\n\n          _key2 = _keys2[_i9];\n          _info3 = {\n            value: val[_key2],\n            key: _key2\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info3))) {\n            _context.next = 52;\n            break;\n          }\n\n          _context.next = 52;\n          return _info3;\n\n        case 52:\n          _i9++;\n          _context.next = 46;\n          break;\n\n        case 55:\n          _context.next = 58;\n          break;\n\n        case 57:\n          throw 'Unsupported type';\n\n        case 58:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n} // Deprecated in next version\n\nvar iterateALL = iterateAll; // source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n\nfunction objectGet(obj, path, throwError) {\n  var paths = isArray(path) ? path : path.split('.');\n  var current = obj;\n\n  try {\n    var _iterator3 = _createForOfIteratorHelper(paths),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var key = _step3.value;\n        current = current[key];\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  } catch (e) {\n    if (throwError) {\n      throw \"Path does not exist\";\n    }\n  }\n\n  return current;\n}\nfunction objectSet(obj, path, value) {\n  var paths = isArray(path) ? path : path.split('.');\n  var lastKey = arrayLast(paths);\n  var parent = objectGet(obj, paths.slice(0, paths.length - 1));\n\n  if (!parent) {\n    throw \"Path does not exist\";\n  }\n\n  parent[lastKey] = value;\n}\nfunction unset(obj, prop) {\n  obj[prop] = undefined;\n\n  try {\n    delete obj[prop];\n  } catch (e) {}\n} // exclude: array or function\n\nfunction cloneObj(obj, exclude) {\n  var type = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_9___default()(obj);\n\n  switch (type) {\n    case 'undefined':\n    case 'boolean':\n    case 'nuber':\n    case 'string':\n    case 'function':\n      return obj;\n\n    case 'object':\n      if (obj === null) {\n        // null is object\n        return obj;\n      }\n\n      var r;\n\n      if (isArray(obj)) {\n        r = [];\n\n        var _iterator4 = _createForOfIteratorHelper(obj),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var item = _step4.value;\n            r.push(cloneObj(item, exclude));\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      } else {\n        r = {};\n\n        for (var _i10 = 0, _Object$keys3 = Object.keys(obj); _i10 < _Object$keys3.length; _i10++) {\n          var key = _Object$keys3[_i10];\n\n          if (!exclude || isArray(exclude) && !exclude.includes(key) || !exclude(key, obj[key], obj)) {\n            r[key] = cloneObj(obj[key], exclude);\n          }\n        }\n      }\n\n      return r;\n\n    default:\n      return obj;\n  }\n}\n/*\nreturn cloned obj\nhandler(value, key, parent, newParent)\nhandler can return null or an object.\nnull: don't change anything\nobject{\n  key: false, // delete. Deprecated, this will be removed in future, please use `delete` instead of it.\n  key: new key, // use a new key instead of old key. if key == null, the old key will be detected\n  delete,\n  value, // new value. if value not gived, the old value will be detected\n  skip, // skip children\n  stop,\n}\n{key: false}: delete\n{value}: change value\n{key, value}. change key and value\nlimit: to prevent circular reference.\n */\n\nfunction mapObjectTree(obj, handler) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10000;\n  var r;\n  var count = 0;\n  var stack = [{\n    value: obj\n  }];\n\n  var _loop2 = function _loop2() {\n    if (count >= limit) {\n      throw \"mapObjectTree: limit(\".concat(limit, \") reached, object may has circular reference\");\n    }\n\n    count++;\n\n    var _stack$shift = stack.shift(),\n        value = _stack$shift.value,\n        key = _stack$shift.key,\n        parent = _stack$shift.parent,\n        newParent = _stack$shift.newParent;\n\n    var t = handler(value, key, parent, newParent);\n\n    var assign = function assign(value, key, canPush) {\n      if (isArray(value)) {\n        value = [];\n      } else if (isObject(value)) {\n        value = {};\n      }\n\n      if (parent) {\n        if (isArray(newParent) && canPush) {\n          newParent.push(value);\n        } else {\n          newParent[key] = value;\n        }\n      } else {\n        r = value;\n      } // value may changed\n\n\n      return value;\n    };\n\n    var newVal = void 0,\n        val = void 0,\n        toDelete = void 0,\n        stop = void 0,\n        skip = void 0;\n\n    if (!t) {\n      // no change\n      val = value;\n      newVal = assign(value, key);\n    } else {\n      var key2 = t.key,\n          _value = t.value;\n      val = _value;\n\n      if (t.delete || key2 === false) {\n        // del\n        toDelete = true;\n      } else if (key2 == null) {\n        // don't change key\n        newVal = assign(_value, key, true);\n      } else if (t.hasOwnProperty('value')) {\n        newVal = assign(_value, key2);\n      }\n\n      stop = t.stop;\n      skip = t.skip;\n    }\n\n    if (toDelete) {\n      return \"continue\";\n    }\n\n    if (skip) {\n      return \"continue\";\n    }\n\n    if (stop) {\n      return \"break\";\n    }\n\n    if (isArray(val)) {\n      var len = val.length;\n\n      for (var i = 0; i < len; i++) {\n        stack.push({\n          value: val[i],\n          key: i,\n          parent: val,\n          newParent: newVal\n        });\n      }\n    } else if (isObject(val)) {\n      Object.keys(val).forEach(function (key) {\n        stack.push({\n          value: val[key],\n          key: key,\n          parent: val,\n          newParent: newVal\n        });\n      });\n    }\n  };\n\n  _loop: while (stack.length > 0) {\n    var _ret = _loop2();\n\n    switch (_ret) {\n      case \"continue\":\n        continue;\n\n      case \"break\":\n        break _loop;\n    }\n  }\n\n  return r;\n} // arr, idKey/getId\n\nfunction mapObjects(arr, idKey) {\n  var r = {};\n  var len = arr.length;\n\n  for (var i = 0; i < len; i++) {\n    var item = arr[i];\n    var id = isFunction(idKey) ? idKey(item, i) : item[idKey];\n    r[id] = item;\n  }\n\n  return r;\n} //\n\nfunction pairRows(rows1, rows2, key1, key2) {\n  if (!key2) {\n    key2 = key1;\n  }\n\n  var map = mapObjects(rows2, key2);\n  return rows1.map(function (row1) {\n    return [row1, map[row1[key1]]];\n  });\n} // 深度优先遍历\n// Depth-First-Search\n// TODO change args in next version\n\nfunction depthFirstSearch(obj, handler) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var reverse = arguments.length > 3 ? arguments[3] : undefined;\n  var rootChildren = isArray(obj) ? obj : [obj]; //\n\n  var StopException = function StopException() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, StopException);\n  };\n\n  var func = function func(children, parent, parentPath) {\n    if (reverse) {\n      children = children.slice();\n      children.reverse();\n    }\n\n    var len = children.length;\n\n    for (var i = 0; i < len; i++) {\n      var item = children[i];\n      var index = reverse ? len - i - 1 : i;\n      var path = parentPath ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(parentPath), [index]) : []; // TODO change args in next version\n\n      var r = handler(item, index, parent, path);\n\n      if (r === false) {\n        // stop\n        throw new StopException();\n      } else if (r === 'skip children') {\n        continue;\n      } else if (r === 'skip siblings') {\n        break;\n      }\n\n      if (item[childrenKey] != null) {\n        func(item[childrenKey], item, path);\n      }\n    }\n  };\n\n  try {\n    func(rootChildren, null, isArray(obj) ? [] : null);\n  } catch (e) {\n    if (e instanceof StopException) ; else {\n      throw e;\n    }\n  }\n}\nvar walkTreeData = depthFirstSearch;\nvar TreeData = /*#__PURE__*/function () {\n  // data = null;\n  function TreeData(data) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, TreeData);\n\n    this.childrenKey = 'children';\n    this.data = data;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(TreeData, [{\n    key: \"iteratePath\",\n    value: /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.mark(function iteratePath(path) {\n      var opt,\n          childrenKey,\n          rootChildren,\n          prevPath,\n          prevChildren,\n          _iterator5,\n          _step5,\n          index,\n          currentPath,\n          currentNode,\n          list,\n          _iterator6,\n          _step6,\n          _step6$value,\n          _path,\n          node,\n          _args2 = arguments;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_10___default.a.wrap(function iteratePath$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              opt = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n              childrenKey = this.childrenKey, rootChildren = this.rootChildren;\n\n              if (opt.reverse) {\n                _context2.next = 29;\n                break;\n              }\n\n              prevPath = [];\n              prevChildren = rootChildren;\n              _iterator5 = _createForOfIteratorHelper(path);\n              _context2.prev = 6;\n\n              _iterator5.s();\n\n            case 8:\n              if ((_step5 = _iterator5.n()).done) {\n                _context2.next = 19;\n                break;\n              }\n\n              index = _step5.value;\n              currentPath = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(prevPath), [index]);\n              currentNode = prevChildren[index];\n              _context2.next = 14;\n              return {\n                path: currentPath,\n                node: currentNode\n              };\n\n            case 14:\n              prevPath = currentPath;\n              prevChildren = currentNode[childrenKey];\n\n            case 17:\n              _context2.next = 8;\n              break;\n\n            case 19:\n              _context2.next = 24;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t0 = _context2[\"catch\"](6);\n\n              _iterator5.e(_context2.t0);\n\n            case 24:\n              _context2.prev = 24;\n\n              _iterator5.f();\n\n              return _context2.finish(24);\n\n            case 27:\n              _context2.next = 48;\n              break;\n\n            case 29:\n              list = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(this.iteratePath(path, _objectSpread({}, opt, {\n                reverse: false\n              })));\n              list.reverse();\n              _iterator6 = _createForOfIteratorHelper(list);\n              _context2.prev = 32;\n\n              _iterator6.s();\n\n            case 34:\n              if ((_step6 = _iterator6.n()).done) {\n                _context2.next = 40;\n                break;\n              }\n\n              _step6$value = _step6.value, _path = _step6$value.path, node = _step6$value.node;\n              _context2.next = 38;\n              return {\n                path: _path,\n                node: node\n              };\n\n            case 38:\n              _context2.next = 34;\n              break;\n\n            case 40:\n              _context2.next = 45;\n              break;\n\n            case 42:\n              _context2.prev = 42;\n              _context2.t1 = _context2[\"catch\"](32);\n\n              _iterator6.e(_context2.t1);\n\n            case 45:\n              _context2.prev = 45;\n\n              _iterator6.f();\n\n              return _context2.finish(45);\n\n            case 48:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, iteratePath, this, [[6, 21, 24, 27], [32, 42, 45, 48]]);\n    })\n  }, {\n    key: \"getAllNodes\",\n    value: function getAllNodes(path) {\n      var all = [];\n\n      var _iterator7 = _createForOfIteratorHelper(this.iteratePath(path)),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var node = _step7.value.node;\n          all.push(node);\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      return all;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode(path) {\n      return arrayLast(this.getAllNodes(path));\n    }\n  }, {\n    key: \"getNodeIndexAndParent\",\n    value: function getNodeIndexAndParent(path) {\n      var parentPath = path.slice();\n      var index = parentPath.pop();\n      return {\n        parent: this.getNode(parentPath),\n        index: index,\n        parentPath: parentPath\n      };\n    }\n  }, {\n    key: \"getNodeParent\",\n    value: function getNodeParent(path) {\n      return this.getNodeIndexAndParent(path).parent;\n    }\n  }, {\n    key: \"setPathNode\",\n    value: function setPathNode(path, node) {\n      if (path == null || path.length === 0) {\n        this.data = node;\n      } else {\n        var childrenKey = this.childrenKey,\n            rootChildren = this.rootChildren;\n\n        var _this$getNodeIndexAnd = this.getNodeIndexAndParent(path),\n            parent = _this$getNodeIndexAnd.parent,\n            index = _this$getNodeIndexAnd.index;\n\n        var parentChildren = path.length === 1 ? rootChildren : parent[childrenKey];\n        parentChildren[index] = node;\n      }\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(path) {\n      var childrenKey = this.childrenKey,\n          rootChildren = this.rootChildren;\n\n      var _this$getNodeIndexAnd2 = this.getNodeIndexAndParent(path),\n          parent = _this$getNodeIndexAnd2.parent,\n          index = _this$getNodeIndexAnd2.index;\n\n      var parentChildren = path.length === 1 ? rootChildren : parent[childrenKey];\n      var node = parentChildren[index];\n      parentChildren.splice(index, 1);\n      return node;\n    }\n  }, {\n    key: \"walk\",\n    value: function walk(handler) {\n      var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var childrenKey = this.childrenKey,\n          data = this.data; // TODO change args in next version\n\n      return walkTreeData(data, handler, childrenKey, opt.reverse);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // opt.afterNodeCreated(newNode, {oldNode: node, index, parent, path})\n      // TODO change args in next version\n      var childrenKey = this.childrenKey;\n      var td = new TreeData();\n      this.walk(function (node, index, parent, path) {\n        var newNode = Object.assign({}, node);\n\n        if (newNode[childrenKey]) {\n          newNode[childrenKey] = [];\n        }\n\n        if (opt.afterNodeCreated) {\n          opt.afterNodeCreated(newNode, {\n            oldNode: node,\n            index: index,\n            parent: parent,\n            path: path\n          });\n        }\n\n        td.setPathNode(path, newNode);\n      });\n      return td.data;\n    }\n  }, {\n    key: \"rootChildren\",\n    get: function get() {\n      var childrenKey = this.childrenKey;\n\n      if (!this.data) {\n        this.data = [];\n      }\n\n      var data = this.data;\n      return isArray(data) ? data : data[childrenKey];\n    }\n  }]);\n\n  return TreeData;\n}(); // function helper | method helper ============================\n\nfunction resolveValueOrGettter(valueOrGetter) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (isFunction(valueOrGetter)) {\n    return valueOrGetter.apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(args));\n  } else {\n    return valueOrGetter;\n  }\n}\nfunction executeWithCount(func) {\n  var count = 0;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key3 = 0; _key3 < _len; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return func.call.apply(func, [this, count++].concat(args));\n  };\n}\nfunction watchChange(getVal, handler) {\n  var oldVal;\n\n  var update = function update() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key4 = 0; _key4 < _len2; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    var newVal = getVal.apply(void 0, args);\n\n    if (oldVal !== newVal) {\n      handler.apply(void 0, [newVal].concat(args));\n    }\n\n    oldVal = newVal;\n  };\n\n  return update;\n}\nvar store_executeOnceInScopeByName = {};\nfunction executeOnceInScopeByName(name, action) {\n  var scope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : scope_executeOnceInScopeByName;\n  var storeResult = arguments.length > 3 ? arguments[3] : undefined;\n  name = \"executeOnceInScopeByName_\".concat(name);\n\n  if (!scope[name]) {\n    var value = action();\n\n    var destroy = function destroy() {\n      delete scope[name];\n    };\n\n    scope[name] = {\n      destroy: destroy\n    };\n\n    if (storeResult) {\n      scope[name].value = value;\n    }\n  }\n\n  return scope[name];\n}\nfunction debounceTrailing(action) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var t;\n  var delaying;\n  var lastArgs; // when trailing, use last args\n\n  var resolves = [];\n  var rejects = [];\n\n  var wrappedAction = function wrappedAction() {\n    var _this = this;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key5 = 0; _key5 < _len3; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    return new Promise(function (resolve, reject) {\n      resolves.push(resolve);\n      rejects.push(reject); //\n\n      lastArgs = args;\n\n      if (!delaying) {\n        delaying = true;\n        t = setTimeout(function () {\n          var result = action.call.apply(action, [_this].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(lastArgs)));\n          t = null;\n          delaying = false;\n          resolves.forEach(function (resolve) {\n            return resolve(result);\n          });\n          resolves = [];\n          rejects = [];\n        }, wait);\n      }\n    });\n  };\n\n  wrappedAction.stop = function () {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n\n    delaying = false;\n    resolves = [];\n    rejects.forEach(function (reject) {\n      return reject();\n    });\n    rejects = [];\n  };\n\n  return wrappedAction;\n}\nfunction debounceImmediate(action) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var t;\n  var delaying;\n  var result;\n\n  var wrappedAction = function wrappedAction() {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (delaying) {\n        resolve(result);\n      } else {\n        delaying = true;\n        result = action.call.apply(action, [_this2].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(lastArgs)));\n        resolve(result);\n        t = setTimeout(function () {\n          t = null;\n          delaying = false;\n          result = null;\n        }, wait);\n      }\n    });\n  };\n\n  wrappedAction.stop = function () {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n\n    delaying = false;\n  };\n\n  return wrappedAction;\n}\nfunction debounce(action) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (opt.immediate) {\n    return debounceImmediate(action, wait);\n  } else {\n    return debounceTrailing(action, wait);\n  }\n}\n/**\n * [joinMethods description]\n * @param  {[Function[]]} methods        [description]\n * @param  {String} [mode='value'] [value, pipeline]\n * @return {[Function]}                [description]\n */\n\nfunction joinMethods(methods) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'value';\n  var simpleJoinedMethod;\n\n  var _iterator8 = _createForOfIteratorHelper(methods),\n      _step8;\n\n  try {\n    var _loop3 = function _loop3() {\n      var method = _step8.value;\n      var old = simpleJoinedMethod;\n\n      if (old) {\n        simpleJoinedMethod = function simpleJoinedMethod() {\n          for (var _len4 = arguments.length, args = new Array(_len4), _key6 = 0; _key6 < _len4; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n\n          return method.call.apply(method, [this, mode === 'value' ? old.call.apply(old, [this].concat(args)) : old].concat(args));\n        };\n      } else {\n        simpleJoinedMethod = method;\n      }\n    };\n\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      _loop3();\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n\n  return simpleJoinedMethod;\n} // the returned function only accept one argument\n\nfunction joinFunctionsByResult(funcs) {\n  var wrappedFunc = funcs[0];\n\n  for (var i = 1; i < funcs.length; i++) {\n    wrappedFunc = join2func(wrappedFunc, funcs[i]);\n  }\n\n  return wrappedFunc;\n\n  function join2func(func1, func2) {\n    return function (arg) {\n      var result = args;\n      var result1 = func1(arg);\n      return func2(result1);\n    };\n  }\n} // must pass arguments to `next` manually\n\nfunction joinFunctionsByNext(funcs) {\n  var next = function next() {};\n\n  var _iterator9 = _createForOfIteratorHelper(iterateAll(funcs, {\n    reverse: true\n  })),\n      _step9;\n\n  try {\n    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n      var func = _step9.value.value;\n      var currentNext = next;\n      next = wrapFuncWithNext(func, currentNext);\n    }\n  } catch (err) {\n    _iterator9.e(err);\n  } finally {\n    _iterator9.f();\n  }\n\n  return next;\n\n  function wrapFuncWithNext(func, next) {\n    return function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key7 = 0; _key7 < _len5; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return func.apply(void 0, [next].concat(args));\n    };\n  }\n} // promise\n// execute promise in sequence\n\nfunction executePromiseGetters(getters) {\n  var concurrent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var stopped;\n  var promise = new Promise(function (resolve, reject) {\n    var r = [];\n    var chunks = splitArray(getters, concurrent);\n    var promise = Promise.resolve();\n    chunks.forEach(function (chunk) {\n      promise = promise.then(function (result) {\n        if (result) {\n          r.push.apply(r, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(result));\n        }\n\n        if (stopped) {\n          reject('stopped');\n        } else {\n          return Promise.all(chunk.map(function (v) {\n            return v();\n          }));\n        }\n      });\n    });\n    promise.then(function (result) {\n      r.push.apply(r, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(result));\n      resolve(r);\n    });\n  });\n  return {\n    promise: promise,\n    destroy: function destroy() {\n      stopped = true;\n    }\n  };\n}\nfunction promiseTimeout(promise, timeout) {\n  return new Promise(function (resolve, reject) {\n    var t, rejected;\n    promise.then(function () {\n      clearTimeout(t);\n      resolve.apply(void 0, arguments);\n    }, function () {\n      if (!rejected) {\n        clearTimeout(t);\n        reject.apply(void 0, arguments);\n      }\n    });\n    t = setTimeout(function () {\n      rejected = true;\n      var e = new Error('Promise timeout!');\n      e.name = 'timeout';\n      reject(e);\n    }, timeout);\n  });\n} // url\n\n/* eslint-disable */\n\nfunction getUrlParam(par) {\n  // 获取当前URL\n  var local_url = document.location.href; // 获取要取得的get参数位置\n\n  var get = local_url.indexOf(par + '=');\n\n  if (get == -1) {\n    return false;\n  } // 截取字符串\n\n\n  var get_par = local_url.slice(par.length + get + 1); // 判断截取后的字符串是否还有其他get参数\n\n  var nextPar = get_par.indexOf('&');\n\n  if (nextPar != -1) {\n    get_par = get_par.slice(0, nextPar);\n  }\n\n  return get_par;\n}\n/* eslint-enable */\n// dom =====================================================\n// return NodeList if there are multiple top-level nodes\n\nfunction createElementFromHTML(htmlString) {\n  var div = document.createElement('div');\n  div.innerHTML = htmlString.trim();\n\n  if (div.childNodes.length > 1) {\n    return div.childNodes;\n  } else {\n    return div.childNodes[0];\n  }\n}\nfunction uniqueId() {\n  var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'id_';\n  var id = prefix + strRand();\n  if (!store.uniqueId) store.uniqueId = {};\n  var generatedIds = store.uniqueId;\n\n  if (document.getElementById(id) || generatedIds[id]) {\n    return uniqueId(prefix);\n  } else {\n    generatedIds[id] = true;\n    return id;\n  }\n}\nfunction isDescendantOf(el, parent) {\n  while (true) {\n    if (el.parentElement == null) {\n      return false;\n    } else if (el.parentElement === parent) {\n      return true;\n    } else {\n      el = el.parentElement;\n    }\n  }\n}\nfunction removeEl(el) {\n  if (el.parentNode !== null) {\n    return el.parentNode.removeChild(el);\n  }\n} // refer: https://stackoverflow.com/questions/871399/cross-browser-method-for-detecting-the-scrolltop-of-the-browser-window\n\nfunction getScroll() {\n  if (typeof pageYOffset != 'undefined') {\n    //most browsers except IE before #9\n    return {\n      top: pageYOffset,\n      left: pageXOffset\n    };\n  } else {\n    var B = document.body; //IE 'quirks'\n\n    var D = document.documentElement; //IE with doctype\n\n    D = D.clientHeight ? D : B;\n    return {\n      top: D.scrollTop,\n      left: D.scrollLeft\n    };\n  }\n} // refer: https://gist.github.com/aderaaij/89547e34617b95ac29d1\n\nfunction getOffset(el) {\n  var rect = getBoundingClientRect(el);\n  var scroll = getScroll();\n  return {\n    x: rect.left + scroll.left,\n    y: rect.top + scroll.top\n  };\n} // there is some trap in el.offsetParent, so use this func to fix\n\nfunction getOffsetParent(el) {\n  var offsetParent = el.offsetParent;\n\n  if (!offsetParent || offsetParent === document.body && getComputedStyle(document.body).position === 'static') {\n    offsetParent = document.body.parentElement;\n  }\n\n  return offsetParent;\n} // get el current position. like jQuery.position\n// the position is relative to offsetParent viewport left top. it is for set absolute position, absolute position is relative to offsetParent viewport left top.\n// 相对于offsetParent可视区域左上角(el.offsetLeft或top包含父元素的滚动距离, 所以要减去). position一般用于设置绝对定位的情况, 而绝对定位就是以可视区域左上角为原点.\n\nfunction getPosition(el) {\n  var offsetParent = getOffsetParent(el);\n  var ps = {\n    x: el.offsetLeft,\n    y: el.offsetTop\n  };\n  var parent = el;\n\n  while (true) {\n    parent = parent.parentElement;\n\n    if (parent === offsetParent || !parent) {\n      break;\n    }\n\n    ps.x -= parent.scrollLeft;\n    ps.y -= parent.scrollTop;\n  }\n\n  return ps;\n} // get position of a el if its offset is given. like jQuery.offset.\n// 类似 jQuery.offset的设置功能, 但是它只返回计算的position, 不改变元素样式.\n\nfunction getPositionFromOffset(el, of) {\n  var offsetParent = getOffsetParent(el);\n  var parentOf = getOffset(offsetParent);\n  return {\n    x: of.x - parentOf.x,\n    y: of.y - parentOf.y\n  };\n}\nfunction getBoundingClientRect(el) {\n  // refer: http://www.51xuediannao.com/javascript/getBoundingClientRect.html\n  var xy = el.getBoundingClientRect();\n  var top = xy.top - document.documentElement.clientTop,\n      //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\n  bottom = xy.bottom,\n      left = xy.left - document.documentElement.clientLeft,\n      //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\n  right = xy.right,\n      width = xy.width || right - left,\n      //IE67不存在width 使用right - left获得\n  height = xy.height || bottom - top;\n  var x = left;\n  var y = top;\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}\nvar getViewportPosition = getBoundingClientRect; // TODO not tested\n\nfunction viewportPositionToOffset(position) {\n  var body = document.body;\n  var bodyOf = getOffset(body);\n  var bodyVP = getViewportPosition(body);\n  return {\n    x: position.x + bodyOf.x - bodyVP.x,\n    y: position.y + bodyOf.y - bodyVP.y\n  };\n} // TODO not tested\n\nfunction offsetToViewportPosition(offset) {\n  var body = document.body;\n  var bodyOf = getOffset(body);\n  var bodyVP = getViewportPosition(body);\n  return {\n    x: offset.x + bodyVP.x - bodyOf.x,\n    y: offset.y + bodyVP.y - bodyOf.y\n  };\n}\nfunction findParent(el, callback, opt) {\n  var cur = opt && opt.withSelf ? el : el.parentElement;\n\n  while (cur) {\n    var r = callback(cur);\n\n    if (r === 'break') {\n      return;\n    } else if (r) {\n      return cur;\n    } else {\n      cur = cur.parentElement;\n    }\n  }\n}\nfunction backupAttr(el, name) {\n  var key = \"original_\".concat(name);\n  el[key] = el.getAttribute(name);\n}\nfunction restoreAttr(el, name) {\n  var key = \"original_\".concat(name);\n  el.setAttribute(name, el[key]);\n} // source: http://youmightnotneedjquery.com/\n\nfunction hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n  }\n} // source: http://youmightnotneedjquery.com/\n\nfunction addClass(el, className) {\n  if (!hasClass(el, className)) {\n    if (el.classList) {\n      el.classList.add(className);\n    } else {\n      el.className += ' ' + className;\n    }\n  }\n} // source: http://youmightnotneedjquery.com/\n\nfunction removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  }\n} // TODO rename to getElSizeEvenInvisible in next version\n\nfunction getElSize(el) {\n  backupAttr(el, 'style');\n  el.style.display = 'block';\n  var t = getBoundingClientRect(el);\n  var size = {\n    width: t.width,\n    height: t.height\n  };\n  restoreAttr(el, 'style');\n  return size;\n}\nvar getElSizeEvenInvisible = getElSize;\n/**\n * [isOffsetInEl]\n * @param {Number} x\n * @param {Number} y\n * @param {Object} el HTML Element\n */\n\nfunction isOffsetInEl(x, y, el) {\n  var offset = getOffset(el);\n  return offset.x <= x && offset.x + el.offsetWidth >= x && offset.y <= y && offset.y + el.offsetHeight >= y;\n} // get border\n\nfunction getBorder(el) {\n  var body = document.body;\n  var workArea = findParent(el, function (v) {\n    return hasClass(v, 'work-area');\n  });\n  var of = getOffset(workArea);\n  return {\n    left: of.x,\n    right: of.x + workArea.offsetWidth,\n    top: of.y + 50,\n    bottom: body.offsetHeight < glb().innerHeight ? glb().innerHeight : body.offsetHeight\n  };\n}\nfunction setElChildByIndex(el, index, child) {\n  child.childComponentIndex = index;\n  var len = el.childNodes.length;\n\n  if (len === 0) {\n    el.appendChild(child);\n  } else if (index === 0) {\n    el.insertBefore(child, el.childNodes[0]);\n  } else {\n    var _binarySearch = binarySearch(el.childNodes, function (el) {\n      return el.childComponentIndex - index;\n    }, 0, max(index, len - 1), true),\n        nearestIndex = _binarySearch.index,\n        nearest = _binarySearch.value,\n        bigger = _binarySearch.bigger;\n\n    if (bigger) {\n      el.insertBefore(child, nearest);\n    } else {\n      var next = el.childNodes[nearestIndex + 1];\n\n      if (next) {\n        el.insertBefore(child, next);\n      } else {\n        el.appendChild(child);\n      }\n    }\n  }\n} // from https://blog.csdn.net/qq_30100043/article/details/74719534\n\nfunction getCss3Prefix() {\n  var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (opt.noCache || store.css3Prefix == null) {\n    store.css3Prefix = reget();\n  }\n\n  return store.css3Prefix;\n\n  function reget() {\n    var div = document.createElement('div');\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\n    div.style.cssText = cssText;\n    var style = div.style;\n\n    if (style.webkitTransition) {\n      return '-webkit-';\n    }\n\n    if (style.MozTransition) {\n      return '-moz-';\n    }\n\n    if (style.oTransition) {\n      return '-o-';\n    }\n\n    if (style.msTransition) {\n      return '-ms-';\n    }\n\n    return '';\n  }\n} // dom event\n\nfunction onDOM(el, name, handler) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key8 = 3; _key8 < _len6; _key8++) {\n    args[_key8 - 3] = arguments[_key8];\n  }\n\n  if (el.addEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.addEventListener.apply(el, [name, handler].concat(args));\n  } else if (el.attachEvent) {\n    // IE 8 及更早 IE 版本\n    el.attachEvent.apply(el, [\"on\".concat(name), handler].concat(args));\n  }\n}\nfunction offDOM(el, name, handler) {\n  for (var _len7 = arguments.length, args = new Array(_len7 > 3 ? _len7 - 3 : 0), _key9 = 3; _key9 < _len7; _key9++) {\n    args[_key9 - 3] = arguments[_key9];\n  }\n\n  if (el.removeEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.removeEventListener.apply(el, [name, handler].concat(args));\n  } else if (el.detachEvent) {\n    // IE 8 及更早 IE 版本\n    el.detachEvent.apply(el, [\"on\".concat(name), handler].concat(args));\n  }\n}\nfunction onDOMMany(els, names, handler) {\n  els = toArrayIfNot(els);\n  names = toArrayIfNot(names);\n\n  for (var _len8 = arguments.length, args = new Array(_len8 > 3 ? _len8 - 3 : 0), _key10 = 3; _key10 < _len8; _key10++) {\n    args[_key10 - 3] = arguments[_key10];\n  }\n\n  var _iterator10 = _createForOfIteratorHelper(els),\n      _step10;\n\n  try {\n    for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n      var el = _step10.value;\n\n      var _iterator13 = _createForOfIteratorHelper(names),\n          _step13;\n\n      try {\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n          var name = _step13.value;\n          onDOM.apply(void 0, [el, name, handler].concat(args));\n        }\n      } catch (err) {\n        _iterator13.e(err);\n      } finally {\n        _iterator13.f();\n      }\n    }\n  } catch (err) {\n    _iterator10.e(err);\n  } finally {\n    _iterator10.f();\n  }\n\n  var destroy = function destroy() {\n    var _iterator11 = _createForOfIteratorHelper(els),\n        _step11;\n\n    try {\n      for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n        var el = _step11.value;\n\n        var _iterator12 = _createForOfIteratorHelper(names),\n            _step12;\n\n        try {\n          for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n            var name = _step12.value;\n            offDOM(el, name, handler);\n          }\n        } catch (err) {\n          _iterator12.e(err);\n        } finally {\n          _iterator12.f();\n        }\n      }\n    } catch (err) {\n      _iterator11.e(err);\n    } finally {\n      _iterator11.f();\n    }\n  };\n\n  return destroy;\n}\nfunction getImageSizeByUrl(url) {\n  var image = document.createElement('img');\n  return new Promise(function (resolve, reject) {\n    onDOM(image, 'load', function () {\n      resolve({\n        width: image.width,\n        height: image.height\n      });\n    });\n    onDOM(image, 'error', function (e) {\n      reject(e);\n    });\n    image.src = url;\n  });\n}\nfunction findNodeList(list, callback) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var iterator = iterateAll(list, {\n    reverse: opt.reverse\n  });\n\n  var _iterator14 = _createForOfIteratorHelper(iterator),\n      _step14;\n\n  try {\n    for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n      var _step14$value = _step14.value,\n          value = _step14$value.value,\n          index = _step14$value.index;\n\n      if (callback(value, index)) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator14.e(err);\n  } finally {\n    _iterator14.f();\n  }\n}\nfunction findNodeListReverse(list, callback) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opt.reverse = true;\n  return findNodeList(list, callback, opt);\n}\nfunction elementsFromPoint() {\n  var func = document.elementsFromPoint || document.msElementsFromPoint || elementsFromPoint;\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key11 = 0; _key11 < _len9; _key11++) {\n    args[_key11] = arguments[_key11];\n  }\n\n  return func.apply(document, args);\n\n  function elementsFromPoint(x, y) {\n    var parents = [];\n    var parent = void 0;\n\n    do {\n      if (parent !== document.elementFromPoint(x, y)) {\n        parent = document.elementFromPoint(x, y);\n        parents.push(parent);\n        parent.style.pointerEvents = 'none';\n      } else {\n        parent = false;\n      }\n    } while (parent);\n\n    parents.forEach(function (parent) {\n      return parent.style.pointerEvents = 'all';\n    });\n    return parents;\n  }\n}\nfunction getOuterAttachedHeight(el) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = _objectSpread({\n    margin: true,\n    border: true\n  }, opt);\n  var stl = getComputedStyle(el);\n  var r = 0;\n  var arr = [];\n\n  if (opt.margin) {\n    arr.push('margin-top', 'margin-bottom');\n  }\n\n  if (opt.border) {\n    arr.push('border-top-width', 'border-bottom-width');\n  }\n\n  arr.forEach(function (key) {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\nfunction getOuterAttachedWidth(el) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = _objectSpread({\n    margin: true,\n    border: true\n  }, opt);\n  var stl = getComputedStyle(el);\n  var r = 0;\n  var arr = [];\n\n  if (opt.margin) {\n    arr.push('margin-left', 'margin-right');\n  }\n\n  if (opt.border) {\n    arr.push('border-left-width', 'border-right-width');\n  }\n\n  arr.forEach(function (key) {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n} // DOM structure\n\nfunction insertBefore(el, target) {\n  target.parentElement.insertBefore(el, target);\n}\nfunction insertAfter(el, target) {\n  target.parentElement.insertBefore(el, target.nextSibling);\n}\nfunction prependTo(el, target) {\n  target.insertBefore(el, target.firstChild);\n}\nfunction appendTo(el, target) {\n  target.appendChild(el);\n} // Date ===================================\n\nfunction cloneDate(dateObj) {\n  return new Date(dateObj.getTime());\n}\nfunction addDate(dateObj, n, type) {\n  if (!['year', 'month', 'day', 'date'].includes(type)) {\n    type += 's';\n  }\n\n  type = studlyCase(type);\n\n  if (type === 'Day') {\n    type = 'Date';\n  }\n\n  var setFuncName = 'set' + type;\n  var getFuncName = 'get' + type;\n  dateObj[setFuncName](dateObj[getFuncName]() + n);\n  return dateObj;\n}\nfunction getMonthStart(dateObj) {\n  var clonedObj = cloneDate(dateObj);\n  clonedObj.setDate(1);\n  return clonedObj;\n}\nfunction getMonthEnd(dateObj) {\n  var r = cloneDate(dateObj);\n  addDate(r, 1, 'month');\n  r.setDate(0);\n  return r;\n}\n/**\n * [getCalendar description]\n * @param  {[type]} year         [description]\n * @param  {[type]} month        [description]\n * @param  {Number} [startWeekDay=0] [0 is sunday]\n * @return {[type]}              [description]\n */\n\nfunction getCalendar(year, month) {\n  var startWeekDay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var results = [];\n  var date = new Date(year, month - 1);\n  year = date.getFullYear();\n  month = date.getMonth() + 1;\n  var monthStart = getMonthStart(date);\n  var monthStartDay = monthStart.getDay();\n  var calendarStart = addDate(cloneDate(monthStart), -(monthStartDay + startWeekDay), 'day');\n\n  if (monthStartDay > startWeekDay) {\n    var startDate = calendarStart.getDate();\n\n    var _year = calendarStart.getFullYear();\n\n    var _month = calendarStart.getMonth() + 1;\n\n    for (var i = startWeekDay; i < monthStartDay; i++) {\n      var _date = startDate + i;\n\n      results.push({\n        year: _year,\n        month: _month,\n        date: _date,\n        text: _date,\n        prevMonth: true\n      });\n    }\n  } //\n\n\n  var monthEnd = getMonthEnd(date);\n  var monthEndtDate = monthEnd.getDate();\n\n  for (var _i11 = 1; _i11 <= monthEndtDate; _i11++) {\n    var _date2 = _i11;\n    results.push({\n      year: year,\n      month: month,\n      date: _date2,\n      text: _date2,\n      currentMonth: true\n    });\n  } //\n\n\n  var monthEndDay = monthEnd.getDay();\n  var endWeekDay = 6 - startWeekDay;\n\n  if (monthEndDay < endWeekDay) {\n    var nextMonth = addDate(cloneDate(date), 1, 'month');\n\n    var _year2 = nextMonth.getFullYear();\n\n    var _month2 = nextMonth.getMonth() + 1;\n\n    for (var _i12 = monthEndDay + 1, _date3 = 1; _i12 <= endWeekDay; _i12++, _date3++) {\n      results.push({\n        year: _year2,\n        month: _month2,\n        date: _date3,\n        text: _date3,\n        nextMonth: true\n      });\n    }\n  } //\n\n\n  return splitArray(results, 7);\n} // eg: 2018-09-07T03:38:37.888Z\n// timezone must be UTC\n\nfunction isIsoFormat(str) {\n  return str.length > 15 && str.length < 30 && str.match(/^\\d{4}-\\d{2}-\\d{2}T.*Z$/);\n} // timestamp eg: 2018-09-07T03:38:37.888Z\n\nfunction parseISO(timestamp) {\n  var _timestamp$split = timestamp.split('T'),\n      _timestamp$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_timestamp$split, 2),\n      datePart = _timestamp$split2[0],\n      timePart = _timestamp$split2[1];\n\n  var y,\n      m,\n      d,\n      h = 0,\n      min = 0,\n      s = 0;\n\n  var _datePart$split$map = datePart.split('-').map(function (v) {\n    return parseInt(v);\n  });\n\n  var _datePart$split$map2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_datePart$split$map, 3);\n\n  y = _datePart$split$map2[0];\n  m = _datePart$split$map2[1];\n  d = _datePart$split$map2[2];\n  m = m - 1;\n\n  if (timePart) {\n    var t = timePart.split('-').map(function (v) {\n      return parseFloat(v);\n    });\n    h = t[0];\n\n    if (t[1] != null) {\n      min = t[1];\n    }\n\n    if (t[2] != null) {\n      s = t[2];\n    }\n  }\n\n  var dt = new Date(y, m, d, h, min, s); // the dt timezone is current, so reset hour with setUTCHours\n\n  dt.setUTCHours(h);\n  return dt;\n} // advance =================================\n// binarySearch 二分查找\n// callback(mid, i) should return mid - your_value\n\nfunction binarySearch(arr, callback, start, end, returnNearestIfNoHit) {\n  var max = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 1000;\n  var midNum;\n  var mid;\n\n  if (start == null) {\n    start = 0;\n    end = arr.length - 1;\n  }\n\n  var i = 0;\n  var r;\n\n  while (start >= 0 && start <= end) {\n    if (i >= max) {\n      throw Error(\"binarySearch: loop times is over \".concat(max, \", you can increase the limit.\"));\n    }\n\n    midNum = Math.floor((end - start) / 2 + start);\n    mid = arr[midNum];\n    r = callback(mid, i);\n\n    if (r > 0) {\n      end = midNum - 1;\n    } else if (r < 0) {\n      start = midNum + 1;\n    } else {\n      return {\n        index: midNum,\n        value: mid,\n        count: i + 1,\n        hit: true\n      };\n    }\n\n    i++;\n  }\n\n  return returnNearestIfNoHit ? {\n    index: midNum,\n    value: mid,\n    count: i + 1,\n    hit: false,\n    bigger: r > 0\n  } : null;\n} //\n\nfunction windowLoaded() {\n  return new Promise(function (resolve, reject) {\n    if (document && document.readyState === 'complete') {\n      resolve();\n    } else {\n      glb().addEventListener('load', function once() {\n        resolve();\n        glb().removeEventListener('load', once);\n      });\n    }\n  });\n}\nfunction waitTime(milliseconds, callback) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      callback && callback();\n      resolve();\n    }, milliseconds);\n  });\n} // overload waitFor(condition, time = 100, maxCount = 1000))\n\nfunction waitFor(name, condition) {\n  var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  var maxCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;\n\n  if (isFunction(name)) {\n    maxCount = time;\n    time = isNumeric(condition) ? condition : 100;\n    condition = name;\n    name = null;\n  }\n\n  if (!store.waitFor) store.waitFor = {};\n  var waits = store.waitFor;\n\n  if (name && isset(waits[name])) {\n    glb().clearInterval(waits[name]);\n    delete waits[name];\n  }\n\n  return new Promise(function (resolve, reject) {\n    var count = 0;\n\n    function judge(interval) {\n      if (count <= maxCount) {\n        if (condition()) {\n          stop(interval, name);\n          resolve();\n        }\n      } else {\n        stop(interval, name);\n        reject(new Error('waitFor: Limit is reached'));\n      }\n\n      count++;\n    }\n\n    function stop(interval, name) {\n      if (interval) {\n        if (name && isset(waits[name])) {\n          glb().clearInterval(waits[name]);\n          delete waits[name];\n        } else {\n          glb().clearInterval(interval);\n        }\n      }\n    }\n\n    var interval = glb().setInterval(function () {\n      judge(interval);\n    }, time);\n\n    if (name) {\n      waits[name] = interval;\n    }\n\n    judge();\n  });\n}\nfunction retry(func) {\n  var limitTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  if (!store.retry) store.retry = {};\n  var counters = retry;\n  var name = generateName();\n  counters[name] = 0;\n  return doFunc;\n\n  function doFunc(arg1, arg2, arg3) {\n    return func(arg1, arg2, arg3).then(function (data) {\n      delete counters[name];\n      return data;\n    }).catch(function (e) {\n      counters[name]++;\n\n      if (counters[name] >= limitTimes) {\n        delete counters[name];\n        return Promise.reject(e);\n      } else {\n        return doFunc(arg1, arg2, arg3);\n      }\n    });\n  }\n\n  function generateName() {\n    var name = Math.random() + '';\n\n    if (counters[name]) {\n      return generateName();\n    } else {\n      return name;\n    }\n  }\n} // 复制文字到剪贴板\n\nfunction copyTextToClipboard(text) {\n  try {\n    // use latest api\n    navigator.clipboard.writeText(text);\n    return;\n  } catch (e) {}\n\n  var textArea = document.createElement('textarea'); //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n  // Place in top-left corner of screen regardless of scroll position.\n\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0; // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n\n  textArea.style.width = '2em';\n  textArea.style.height = '2em'; // We don't need padding, reducing the size if it does flash render.\n\n  textArea.style.padding = 0; // Clean up any borders.\n\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none'; // Avoid flash of white box if rendered for any reason.\n\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    var msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Copying text command was ' + msg);\n  } catch (err) {\n    console.log('Oops, unable to copy');\n  }\n\n  document.body.removeChild(textArea);\n}\nfunction isWindowDefined() {\n  try {\n    return window && true;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isNode() {\n  return Boolean(typeof glb().module !== 'undefined' && glb().module.exports);\n}\nfunction isIE() {\n  return Boolean(window.ActiveXObject || \"ActiveXObject\" in window);\n} // jquery\n\nfunction jqFixedSize(sel) {\n  var $ = glb().jQuery;\n  $(sel).each(function () {\n    var t = $(this);\n    t.css({\n      width: t.width() + 'px',\n      height: t.height() + 'px'\n    });\n  });\n}\nfunction jqMakeCarousel(wrapperSel, listSel, itemSel) {\n  var speed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1000;\n  var space = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 16;\n  var dir = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'left';\n  var top = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n\n  if (space.toString().match(/^\\d+$/)) {\n    space = space + 'px';\n  }\n\n  var spaceNumber = parseFloat(space);\n  var $ = glb().jQuery;\n  var wrapper = $(wrapperSel);\n  var list = wrapper.find(listSel);\n  wrapper.css({\n    position: 'relative',\n    height: wrapper.height() + 'px'\n  });\n  var items0 = list.find(itemSel);\n  items0.css({\n    margin: '0',\n    marginRight: space\n  });\n  var width = (Math.ceil(items0.width()) + spaceNumber) * items0.length;\n  list.css({\n    position: 'absolute',\n    margin: '0',\n    width: width + 'px'\n  });\n  var height = list.height();\n  var list2 = list.clone();\n  var list3 = list.clone();\n  list.css({\n    left: 0\n  });\n  list2.css({\n    left: width + 'px'\n  });\n  list3.css({\n    left: width * 2 + 'px'\n  });\n  var lists = $('<div></div>');\n  lists.css({\n    position: 'absolute',\n    width: width * 3 + 'px',\n    height: height + 'px',\n    left: 0,\n    top: top\n  });\n  lists.append(list).append(list2).append(list3);\n  wrapper.append(lists);\n  var left = 0;\n\n  function animateLoop() {\n    if (dir === 'left') {\n      left -= 100;\n    } else {\n      left += 100;\n    }\n\n    lists.animate({\n      left: \"\".concat(left, \"px\")\n    }, speed, 'linear', function () {\n      if (Math.abs(left) > width) {\n        if (dir === 'left') {\n          left += width;\n        } else {\n          left -= width;\n        }\n\n        lists.css({\n          left: left + 'px'\n        });\n      }\n\n      animateLoop();\n    });\n  }\n\n  animateLoop();\n} // https://developer.mozilla.org/docs/Web/API/Window/open\n// http://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\n\nfunction openWindow(url, name) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  glb().open(url, name, Object.keys(opt).map(function (k) {\n    return \"\".concat(k, \"=\").concat(opt[k]);\n  }).join(','));\n}\nfunction openCenterWindow(url, name, width, height) {\n  var opt = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var t = {\n    width: width,\n    height: height,\n    top: (glb().screen.availHeight - 30 - height) / 2,\n    left: (glb().screen.availWidth - 30 - width) / 2\n  };\n  Object.assign(t, opt);\n  openWindow(url, name, t);\n}\nvar URLHelper = /*#__PURE__*/function () {\n  // protocol, hostname, port, pastname\n  function URLHelper(baseUrl) {\n    var _this3 = this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, URLHelper);\n\n    this.baseUrl = '';\n    this.search = {};\n    var t = decodeURI(baseUrl).split('?');\n    this.baseUrl = t[0];\n\n    if (t[1]) {\n      t[1].split('&').forEach(function (v) {\n        var t2 = v.split('=');\n        _this3.search[t2[0]] = t2[1] == null ? '' : decodeURIComponent(t2[1]);\n      });\n    }\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(URLHelper, [{\n    key: \"getHref\",\n    value: function getHref() {\n      var _this4 = this;\n\n      var t = [this.baseUrl];\n      var searchStr = Object.keys(this.search).map(function (k) {\n        return \"\".concat(k, \"=\").concat(encodeURIComponent(_this4.search[k]));\n      }).join('&');\n\n      if (searchStr) {\n        t.push(searchStr);\n      }\n\n      return t.join('?');\n    }\n  }]);\n\n  return URLHelper;\n}(); // 解析函数参数, 帮助重载\n// types eg: ['Object', (i) => i > 3, ['Number', default], null ]\n// null represent all types of argument\n\nfunction resolveArgsByType(args, types) {\n  var argIndex = 0;\n  return types.map(function (v) {\n    // make rule\n    var rule, dft;\n\n    if (isArray(v)) {\n      rule = v[0];\n      dft = v[1];\n    } else {\n      rule = v;\n      dft = undefined;\n    }\n\n    if (!isFunction(rule)) {\n      if (rule == null) {\n        rule = function rule() {\n          return true;\n        };\n      } else {\n        var t = rule;\n\n        rule = function rule(x) {\n          return Object.prototype.toString.call(x) === \"[object \".concat(t, \"]\");\n        };\n      }\n    }\n\n    var arg = args[argIndex];\n\n    if (rule(arg)) {\n      argIndex++;\n      return arg;\n    } else {\n      return dft;\n    }\n  });\n} // set null can remove a item\n\nfunction makeStorageHelper(storage) {\n  return {\n    storage: storage,\n    set: function set(name, value, minutes) {\n      if (value == null) {\n        this.storage.removeItem(name);\n      } else {\n        this.storage.setItem(name, JSON.stringify({\n          value: value,\n          expired_at: minutes ? new Date().getTime() + minutes * 60 * 1000 : null\n        }));\n      }\n    },\n    get: function get(name) {\n      var t = this.storage.getItem(name);\n\n      if (t) {\n        t = JSON.parse(t);\n\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\n          return t.value;\n        } else {\n          this.storage.removeItem(name);\n        }\n      }\n\n      return null;\n    },\n    clear: function clear() {\n      this.storage.clear();\n    }\n  };\n}\nfunction getLocalStorage2() {\n  if (!store.localStorage2) {\n    store.localStorage2 = makeStorageHelper(glb().localStorage);\n  }\n\n  return store.localStorage2;\n}\nfunction getSessionStorage2() {\n  if (!store.sessionStorage2) {\n    store.sessionStorage2 = makeStorageHelper(glb().sessionStorage);\n  }\n\n  return store.sessionStorage2;\n} // 事件处理\n\nvar EventProcessor = /*#__PURE__*/function () {\n  function EventProcessor() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, EventProcessor);\n\n    this.eventStore = [];\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(EventProcessor, [{\n    key: \"on\",\n    value: function on(name, handler) {\n      this.eventStore.push({\n        name: name,\n        handler: handler\n      });\n    }\n  }, {\n    key: \"once\",\n    value: function once(name, handler) {\n      var _this5 = this;\n\n      var off = function off() {\n        _this5.off(name, wrappedHandler);\n      };\n\n      var wrappedHandler = function wrappedHandler() {\n        handler.apply(void 0, arguments);\n        off();\n      };\n\n      this.on(name, wrappedHandler);\n      return off;\n    }\n  }, {\n    key: \"onceTimeout\",\n    value: function onceTimeout(name, handler, timeout) {\n      var _this6 = this;\n\n      var off;\n      var promise = new Promise(function (resolve, reject) {\n        var wrappedHandler = function wrappedHandler() {\n          handler.apply(void 0, arguments);\n          resolve();\n        };\n\n        off = _this6.once(name, wrappedHandler);\n        waitTime(timeout).then(function () {\n          off();\n          reject();\n        });\n      });\n\n      var off2 = function off2() {\n        off && off();\n      };\n\n      return {\n        off: off2,\n        promise: promise\n      };\n    }\n  }, {\n    key: \"off\",\n    value: function off(name, handler) {\n      var indexes = []; // to remove indexes; reverse; 倒序的\n\n      var len = this.eventStore.length;\n\n      for (var i = 0; i < len; i++) {\n        var item = this.eventStore[i];\n\n        if (item.name === name && item.handler === handler) {\n          indexes.unshift(i);\n        }\n      }\n\n      for (var _i13 = 0, _indexes = indexes; _i13 < _indexes.length; _i13++) {\n        var index = _indexes[_i13];\n        this.eventStore.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\n      var items = [];\n\n      var _iterator15 = _createForOfIteratorHelper(this.eventStore),\n          _step15;\n\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var _item = _step15.value;\n\n          if (_item.name === name) {\n            items.push(_item);\n          }\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n\n      for (var _len10 = arguments.length, args = new Array(_len10 > 1 ? _len10 - 1 : 0), _key12 = 1; _key12 < _len10; _key12++) {\n        args[_key12 - 1] = arguments[_key12];\n      }\n\n      for (var _i14 = 0, _items = items; _i14 < _items.length; _i14++) {\n        var item = _items[_i14];\n        item.handler.apply(item, args);\n      }\n    }\n  }]);\n\n  return EventProcessor;\n}();\nvar CrossWindowEventProcessor = /*#__PURE__*/function (_EventProcessor) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(CrossWindowEventProcessor, _EventProcessor);\n\n  var _super = _createSuper(CrossWindowEventProcessor);\n\n  // id\n  function CrossWindowEventProcessor(opt) {\n    var _this7;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, CrossWindowEventProcessor);\n\n    _this7 = _super.call(this);\n    _this7.storageName = '_crossWindow';\n    _this7.windows = [];\n    _this7.timeout = 200;\n    _this7.BROADCAST = '__BROADCAST__';\n\n    if (opt) {\n      Object.assign(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default()(_this7), opt);\n    }\n\n    onDOM(window, 'storage', function (ev) {\n      if (ev.key === _this7.storageName) {\n        var event = JSON.parse(ev.newValue);\n\n        if (!event.targets || event.targets.includes(_this7.id)) {\n          var _this8;\n\n          (_this8 = _this7).emitLocal.apply(_this8, [event.name].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_11___default()(event.args)));\n        }\n      }\n    }); // social parts 集体部分\n    // join\n\n    _this7.id = strRand();\n    _this7.windows = [_this7.id];\n    _this7.ready = new Promise(function (resolve, reject) {\n      _this7.onceTimeout('_windows_updated', function (_ref) {\n        var windows = _ref.windows;\n        _this7.windows = windows;\n      }, _this7.timeout).promise.then(function () {\n        resolve(); // responsed 被响应\n      }, function () {\n        // no response 无响应\n        resolve();\n      });\n\n      _this7.broadcast('_join', _this7.id);\n    });\n\n    _this7.ready.then(function () {\n      // on join\n      _this7.on('_join', function (id) {\n        _this7.windows.push(id);\n\n        if (_this7.isMain()) {\n          _this7.broadcast('_windows_updated', {\n            windows: _this7.windows,\n            type: 'join',\n            id: id\n          });\n        }\n      }); // on _windows_updated\n\n\n      _this7.on('_windows_updated', function (_ref2) {\n        var windows = _ref2.windows;\n        _this7.windows = windows;\n      }); // on exit\n\n\n      _this7.on('_exit', function (id) {\n        var oldMain = _this7.windows[0];\n        arrayRemove(_this7.windows, id);\n\n        if (_this7.isMain()) {\n          _this7.emit('_windows_updated', {\n            windows: _this7.windows,\n            type: 'exit',\n            id: id\n          });\n\n          if (oldMain != _this7.id) {\n            _this7.emit('_main_updated', {\n              windows: _this7.windows,\n              old: oldMain,\n              'new': _this7.id\n            });\n          }\n        }\n      });\n\n      onDOM(window, 'beforeunload', function () {\n        _this7.exitGroup();\n      });\n    });\n\n    return _this7;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(CrossWindowEventProcessor, [{\n    key: \"isMain\",\n    value: function isMain() {\n      return this.id === this.windows[0];\n    }\n  }, {\n    key: \"emitTo\",\n    value: function emitTo(name, targets) {\n      for (var _len11 = arguments.length, args = new Array(_len11 > 2 ? _len11 - 2 : 0), _key13 = 2; _key13 < _len11; _key13++) {\n        args[_key13 - 2] = arguments[_key13];\n      }\n\n      if (targets === this.BROADCAST) {\n        targets = null;\n      } else {\n        if (targets && !isArray(targets)) {\n          targets = [targets];\n        }\n\n        if (targets.includes(this.id)) {\n          var _get2;\n\n          (_get2 = _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(CrossWindowEventProcessor.prototype), \"emit\", this)).call.apply(_get2, [this, name].concat(args)); // emit to current window\n\n        }\n      }\n\n      glb().localStorage.setItem(this.storageName, JSON.stringify({\n        name: name,\n        targets: targets,\n        args: args,\n        // use random make storage event triggered every time\n        // 加入随机保证触发storage事件\n        random: Math.random()\n      }));\n    }\n  }, {\n    key: \"emitLocal\",\n    value: function emitLocal(name) {\n      for (var _len12 = arguments.length, args = new Array(_len12 > 1 ? _len12 - 1 : 0), _key14 = 1; _key14 < _len12; _key14++) {\n        args[_key14 - 1] = arguments[_key14];\n      }\n\n      this.emitTo.apply(this, [name, this.id].concat(args));\n    }\n  }, {\n    key: \"broadcast\",\n    value: function broadcast(name) {\n      for (var _len13 = arguments.length, args = new Array(_len13 > 1 ? _len13 - 1 : 0), _key15 = 1; _key15 < _len13; _key15++) {\n        args[_key15 - 1] = arguments[_key15];\n      }\n\n      this.emitTo.apply(this, [name, this.BROADCAST].concat(args));\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      for (var _len14 = arguments.length, args = new Array(_len14 > 1 ? _len14 - 1 : 0), _key16 = 1; _key16 < _len14; _key16++) {\n        args[_key16 - 1] = arguments[_key16];\n      }\n\n      this.emitTo.apply(this, [name, this.windows].concat(args));\n    }\n  }, {\n    key: \"exitGroup\",\n    value: function exitGroup() {\n      this.broadcast('_exit', this.id);\n    }\n  }]);\n\n  return CrossWindowEventProcessor;\n}(EventProcessor); // Deprecated in next version\n\nvar CrossWindow = CrossWindowEventProcessor;\nfunction onQuickKeydown(handler) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = _objectSpread({\n    timeout: 1000\n  }, opt);\n  var input = '';\n  var timeoutId;\n\n  var keydownHandler = function keydownHandler(e) {\n    if (e.key && e.key.length === 1) {\n      input = \"\".concat(input).concat(e.key);\n      handler(input);\n\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n\n      timeoutId = setTimeout(function () {\n        input = '';\n      }, opt.timeout);\n    }\n  };\n\n  onDOM(document, 'keydown', keydownHandler);\n  return function () {\n    offDOM(document, 'keydown', keydownHandler);\n  };\n}\nfunction getUserLanguage() {\n  return navigator.language || navigator.userLanguage;\n}\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default()(this, Cache);\n\n    this.store = {};\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Cache, [{\n    key: \"has\",\n    value: function has(name) {\n      return this.store.hasOwnProperty(name);\n    }\n  }, {\n    key: \"remember\",\n    value: function remember(name, getter) {\n      if (!this.has(name)) {\n        this.store[name] = {\n          value: getter()\n        };\n      }\n\n      return this.store[name].value;\n    }\n  }, {\n    key: \"forget\",\n    value: function forget(name) {\n      if (name) {\n        if (this.has(name)) {\n          delete this.store[name];\n        }\n      } else {\n        this.store = {};\n      }\n    }\n  }]);\n\n  return Cache;\n}(); // attach cached getters to an object; can attach to self\n\nfunction attachCache(obj, toCache) {\n  var cache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Cache();\n\n  var _loop4 = function _loop4(key) {\n    var getter = toCache[key];\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        var _this9 = this;\n\n        return cache.remember(key, function () {\n          return getter.call(_this9);\n        });\n      }\n    });\n  };\n\n  for (var key in toCache) {\n    _loop4(key);\n  }\n}\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL2Rpc3QvaGVscGVyLWpzLmVzbS5qcz8wZmE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0Y7QUFDcEM7QUFDVTtBQUNrQztBQUN0QjtBQUNGO0FBQ0U7QUFDTjtBQUNNO0FBQ2hCO0FBQ1M7QUFDYTs7QUFFMUUsZ0NBQWdDLHFCQUFxQixhQUFhLDRFQUFlLGtCQUFrQixtQ0FBbUMsaUJBQWlCLDRFQUFlLG1CQUFtQix5REFBeUQsRUFBRSxPQUFPLHVDQUF1QyxFQUFFLFFBQVEsdUZBQTBCLGVBQWUsR0FBRzs7QUFFeFYsc0NBQXNDLHdFQUF3RSwwQ0FBMEMsOENBQThDLE1BQU0sd0VBQXdFLEdBQUcsYUFBYSxFQUFFLFlBQVksY0FBYyxFQUFFOztBQUVsVSwwQ0FBMEMsZ0NBQWdDLG9DQUFvQyxvREFBb0QsOERBQThELGdFQUFnRSxFQUFFLEVBQUUsZ0NBQWdDLEVBQUUsYUFBYTs7QUFFblYsZ0NBQWdDLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsYUFBYSx1REFBdUQsQ0FBQyw0RUFBZSwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsNkNBQTZDLDJFQUEyRSxFQUFFLE9BQU8saURBQWlELGtGQUFrRixFQUFFLEVBQUUsRUFBRSxFQUFFLGVBQWU7O0FBRXBoQiwyQkFBMkIsa0VBQW1COztBQUU5Qyx3Q0FBd0MsbUVBQW1FLGdFQUFnRSxXQUFXLHlCQUF5QixTQUFTLHdCQUF3Qiw0QkFBNEIsY0FBYyxTQUFTLDhCQUE4QixFQUFFLHFCQUFxQixVQUFVLEVBQUUsU0FBUyxFQUFFLDhKQUE4SixFQUFFLHNEQUFzRCxTQUFTLGtCQUFrQiwyQkFBMkIsRUFBRSxtQkFBbUIsc0JBQXNCLDhCQUE4QixhQUFhLEVBQUUsc0JBQXNCLGVBQWUsV0FBVyxFQUFFLG1CQUFtQixNQUFNLHlEQUF5RCxFQUFFLFVBQVUsdUJBQXVCLEVBQUUsRUFBRSxHQUFHOztBQUVqNEIsaURBQWlELGdCQUFnQixnRUFBZ0Usd0RBQXdELDZEQUE2RCxzREFBc0Qsa0hBQWtIOztBQUU5WixzQ0FBc0MsdURBQXVELHVDQUF1QyxTQUFTLE9BQU8sa0JBQWtCLEVBQUUsYUFBYTs7QUFFckw7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLCtCQUErQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdGQUFrQjtBQUM3QixHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQixpQ0FBaUM7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHdEQUF3RCwyQkFBMkI7QUFDbkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLFdBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxVQUFVO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEscUNBQXFDLG9CQUFvQjtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2QkFBNkIsVUFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsa0VBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsaUNBQWlDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0EsYUFBYSxvRUFBTzs7QUFFcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsaUNBQWlDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7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R0gsc0RBQXNEOztBQUV0RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEI7O0FBRTFCLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtB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SSxFQUFFO0FBQzVFLENBQUM7O0FBRUQ7QUFDQTtBQUNBLDBCQUEwQiwyRUFBYztBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCw2QkFBNkIsMkVBQWM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDOztBQUV4QztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBLGdDQUFnQzs7QUFFaEMsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0Esb0NBQW9DOztBQUVwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksNEVBQWU7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUEsRUFBRSx5RUFBWTtBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUMsR0FBRztBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7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O0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRFQUFlOztBQUVuQjtBQUNBOztBQUVBLEVBQUUseUVBQVk7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQyxHQUFHLHVDQUF1Qzs7QUFFM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWs4RCIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvZGlzdC9oZWxwZXItanMuZXNtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBoZWxwZXItanMgdjEuNC4zOFxuICogKGMpIHBocGhlIDxwaHBoZUBvdXRsb29rLmNvbT4gKGh0dHBzOi8vZ2l0aHViLmNvbS9waHBoZSlcbiAqIEhvbWVwYWdlOiB1bmRlZmluZWRcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9nZXQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXQnO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mJztcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXknO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAnQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3InO1xuaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5JztcblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG52YXIgX21hcmtlZCA9IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoaXRlcmF0ZUFsbCk7XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8pIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKG8gPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpKSB7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIGl0LCBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4vLyBsb2NhbCBzdG9yZVxudmFyIHN0b3JlID0ge307IC8vIGdldCBnbG9iYWxcbi8vIGB0aGlzYCAhPT0gZ2xvYmFsIG9yIHdpbmRvdyBiZWNhdXNlIG9mIGJ1aWxkIHRvb2xcblxuZnVuY3Rpb24gZ2xiKCkge1xuICBpZiAoc3RvcmUuZ2xiKSB7XG4gICAgcmV0dXJuIHN0b3JlLmdsYjtcbiAgfSBlbHNlIHtcbiAgICAvLyByZXNvbHZlIGdsb2JhbFxuICAgIHZhciB0O1xuXG4gICAgdHJ5IHtcbiAgICAgIHQgPSBnbG9iYWw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdCA9IHdpbmRvdztcbiAgICB9XG5cbiAgICBzdG9yZS5nbGIgPSB0O1xuICAgIHJldHVybiB0O1xuICB9XG59XG5mdW5jdGlvbiBpc0RvY3VtZW50RXhpc3RlZCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9IGRvY3VtZW50O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59IC8vIGlzIOWQhOenjeWIpOaWrVxuXG5mdW5jdGlvbiBpc3NldCh2KSB7XG4gIHJldHVybiB0eXBlb2YgdiAhPT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc0FycmF5KHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmZ1bmN0aW9uIGlzQm9vbCh2KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5mdW5jdGlvbiBpc051bWVyaWModikge1xuICByZXR1cm4gaXNGaW5pdGUodikgJiYgIWlzTmFOKHBhcnNlRmxvYXQodikpO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcodikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNQcm9taXNlKHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nO1xufVxuZnVuY3Rpb24gZW1wdHkodikge1xuICBpZiAodiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAodi5sZW5ndGggIT0gbnVsbCkge1xuICAgIHJldHVybiB2Lmxlbmd0aCA9PT0gMDtcbiAgfSBlbHNlIGlmIChpc0Jvb2wodikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoaXNOdW1iZXIodikpIHtcbiAgICByZXR1cm4gaXNOYU4odik7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModikubGVuZ3RoID09PSAwO1xuICB9XG59IC8vIG51bVxuXG5mdW5jdGlvbiBudW1SYW5kKG1pbiwgbWF4KSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgbWF4ID0gbWluO1xuICAgIG1pbiA9IDA7XG4gIH1cblxuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcbn1cbmZ1bmN0aW9uIG51bVBhZChudW0sIG4pIHtcbiAgdmFyIGxlbiA9IG51bS50b1N0cmluZygpLmxlbmd0aDtcblxuICB3aGlsZSAobGVuIDwgbikge1xuICAgIG51bSA9ICcwJyArIG51bTtcbiAgICBsZW4rKztcbiAgfVxuXG4gIHJldHVybiBudW07XG59XG5mdW5jdGlvbiBtaW4obiwgbWluKSB7XG4gIHJldHVybiBuIDwgbWluID8gbWluIDogbjtcbn1cbmZ1bmN0aW9uIG1heChuLCBtYXgpIHtcbiAgcmV0dXJuIG4gPCBtYXggPyBuIDogbWF4O1xufSAvLyBzdHIg5a2X56ymXG5cbmZ1bmN0aW9uIHN0dWRseUNhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIgJiYgc3RyWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyKDEpO1xufVxuZnVuY3Rpb24ga2ViYWJDYXNlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyAvZywgJy0nKS5yZXBsYWNlKC9fL2csICctJykucmVwbGFjZSgvKFtBLVpdKS9nLCAnLSQxJykucmVwbGFjZSgvLS0rL2csICctJykucmVwbGFjZSgvXi18LSR8L2csICcnKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gc25ha2VDYXNlKHN0cikge1xuICByZXR1cm4ga2ViYWJDYXNlKHN0cikucmVwbGFjZSgvLS9nLCAnXycpO1xufVxuZnVuY3Rpb24gY2FtZWxDYXNlKHN0cikge1xuICB2YXIgdGVtcCA9IHN0ci50b1N0cmluZygpLnNwbGl0KC9bLV9dLyk7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCB0ZW1wLmxlbmd0aDsgaSsrKSB7XG4gICAgdGVtcFtpXSA9IHN0dWRseUNhc2UodGVtcFtpXSk7XG4gIH1cblxuICByZXR1cm4gdGVtcC5qb2luKCcnKTtcbn1cbmZ1bmN0aW9uIGNhbWVsVG9Xb3JkcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci50b1N0cmluZygpLnRyaW0oKS5zcGxpdCgvKD89W0EtWl0pLyk7XG59XG5mdW5jdGlvbiB0aXRsZUNhc2Uoc3RyKSB7XG4gIHJldHVybiBjYW1lbFRvV29yZHMoc3R1ZGx5Q2FzZShjYW1lbENhc2Uoc3RyKSkpLmpvaW4oJyAnKS5yZXBsYWNlKC9cXGJpZFxcYi9pZywgJ0lEJyk7XG59XG5mdW5jdGlvbiBzdHJSYW5kKCkge1xuICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiA4O1xuICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgdmFyIHIgPSAnJztcbiAgdmFyIHNlZWRzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgciArPSBzZWVkc1tudW1SYW5kKHNlZWRzLmxlbmd0aCAtIDEpXTtcbiAgfVxuXG4gIHJldHVybiBwcmVmaXggKyByO1xufVxuZnVuY3Rpb24gcmVwbGFjZU11bHRpcGxlKG1hcE9iaiwgc3RyKSB7XG4gIHZhciByZWcgPSBuZXcgUmVnRXhwKE9iamVjdC5rZXlzKG1hcE9iaikuam9pbignfCcpLCAnZycpO1xuICByZXR1cm4gc3RyLnJlcGxhY2UocmVnLCBmdW5jdGlvbiAobWF0Y2hlZEtleSkge1xuICAgIHJldHVybiBtYXBPYmpbbWF0Y2hlZEtleV07XG4gIH0pO1xufSAvLyBhcnJheVxuXG5mdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIHYpIHtcbiAgdmFyIGluZGV4O1xuICB2YXIgY291bnQgPSAwO1xuXG4gIHdoaWxlICgoaW5kZXggPSBhcnIuaW5kZXhPZih2KSkgPiAtMSkge1xuICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGNvdW50Kys7XG4gIH1cblxuICByZXR1cm4gY291bnQ7XG59XG5mdW5jdGlvbiBhcnJheVJlbW92ZUJ5U29ydGVkSW5kZXhlcyhhcnIsIHNvcnRlZEluZGV4ZXMpIHtcbiAgZm9yICh2YXIgaSA9IHNvcnRlZEluZGV4ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgaW5kZXggPSBzb3J0ZWRJbmRleGVzW2ldO1xuICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5mdW5jdGlvbiBuZXdBcnJheVJlbW92ZUF0KGFyciwgaW5kZXhlcykge1xuICBpbmRleGVzID0gdG9BcnJheUlmTm90KGluZGV4ZXMpO1xuICB2YXIgbWFwcGluZyA9IHt9O1xuXG4gIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpbmRleGVzKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBpbmRleCA9IF9zdGVwLnZhbHVlO1xuICAgICAgbWFwcGluZ1tpbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IuZigpO1xuICB9XG5cbiAgdmFyIG5ld0FyciA9IFtdO1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKCFtYXBwaW5nW2ldKSB7XG4gICAgICBuZXdBcnIucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdBcnI7XG59XG5mdW5jdGlvbiBhcnJheUF0KGFyciwgbikge1xuICByZXR1cm4gYXJyW24gPj0gMCA/IG4gOiBhcnIubGVuZ3RoICsgbl07XG59XG5mdW5jdGlvbiBhcnJheUZpcnN0KGFycikge1xuICByZXR1cm4gYXJyWzBdO1xufVxuZnVuY3Rpb24gYXJyYXlMYXN0KGFycikge1xuICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGFycmF5RGlmZihhcnIxLCBhcnIyKSB7XG4gIHZhciBsZW4gPSBhcnIxLmxlbmd0aDtcbiAgdmFyIGFyciA9IFtdO1xuXG4gIHdoaWxlIChsZW4tLSkge1xuICAgIGlmIChhcnIyLmluZGV4T2YoYXJyMVtsZW5dKSA8IDApIHtcbiAgICAgIGFyci5wdXNoKGFycjFbbGVuXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFycjtcbn0gLy8gb2Zmc2V0IGNhbiBiZSBtYW55XG5cbmZ1bmN0aW9uIGFycmF5U2libGluZyhhcnIsIGl0ZW0sIG9mZnNldCkge1xuICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcblxuICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgJ2l0ZW0gaXMgbm90IGluIGFycmF5JztcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9mZnNldCkpIHtcbiAgICByZXR1cm4gb2Zmc2V0Lm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIGFycltpbmRleCArIHZdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFycltpbmRleCArIG9mZnNldF07XG59XG5mdW5jdGlvbiB0b0FycmF5SWZOb3QoYXJyT3JOb3QpIHtcbiAgcmV0dXJuIGlzQXJyYXkoYXJyT3JOb3QpID8gYXJyT3JOb3QgOiBbYXJyT3JOb3RdO1xufSAvLyBuIGNhbiBiZSBnZXR0ZXIobnVtYmVyIG9mIHRpbWVzKVxuLy8gbuWPr+S7peaYr+aWueazlSwg5Y+C5pWwMeaYr+esrOWHoOasoeWIhuWdl1xuXG5mdW5jdGlvbiBzcGxpdEFycmF5KGFyciwgbikge1xuICB2YXIgciA9IFtdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKG4pKSB7XG4gICAgdmFyIGdldENodW5rTGVuZ3RoID0gbjtcbiAgICB2YXIgdGltZXMgPSAxO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgYXJyLmxlbmd0aCkge1xuICAgICAgdmFyIF9uID0gZ2V0Q2h1bmtMZW5ndGgodGltZXMpO1xuXG4gICAgICB2YXIgZW5kID0gaSArIF9uO1xuICAgICAgci5wdXNoKGFyci5zbGljZShpLCBlbmQpKTtcbiAgICAgIGkgPSBlbmQ7XG4gICAgICB0aW1lcysrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgX2kgPSAwO1xuXG4gICAgd2hpbGUgKF9pIDwgYXJyLmxlbmd0aCkge1xuICAgICAgdmFyIF9lbmQgPSBfaSArIG47XG5cbiAgICAgIHIucHVzaChhcnIuc2xpY2UoX2ksIF9lbmQpKTtcbiAgICAgIF9pID0gX2VuZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIGdyb3VwQXJyYXkoYXJyLCBnZXRNYXJrKSB7XG4gIHZhciBncm91cHMgPSBuZXcgTWFwKCk7XG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgdmFyIG1hcmsgPSBnZXRNYXJrKHYpO1xuXG4gICAgaWYgKCFncm91cHMuaGFzKG1hcmspKSB7XG4gICAgICBncm91cHMuc2V0KG1hcmssIFtdKTtcbiAgICB9XG5cbiAgICBncm91cHMuZ2V0KG1hcmspLnB1c2godik7XG4gIH0pO1xuICB2YXIgciA9IFtdO1xuICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHIucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9KTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBhcnJheURpc3RpbmN0KGFycikge1xuICBpZiAoZ2xiKCkuU2V0KSB7XG4gICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KGFycikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG4gICAgICByZXR1cm4gYS5pbmRleE9mKHYpID09PSBpO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBhcnJheUdldChhcnIsIGluZGV4LCBlbmRJbmRleCkge1xuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgaW5kZXggKz0gYXJyLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChlbmRJbmRleCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGFycltpbmRleF07XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVuZEluZGV4IDwgMCkge1xuICAgICAgZW5kSW5kZXggKz0gYXJyLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyLnNsaWNlKGluZGV4LCBlbmRJbmRleCAtIGluZGV4ICsgMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFycmF5V2l0aG91dEVuZChhcnIsIGxlbikge1xuICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSBsZW4pO1xufVxuZnVuY3Rpb24gYXJyYXlGbGF0KGFycikge1xuICB2YXIgZGVwdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwO1xuICB2YXIgciA9IFtdO1xuXG4gIHZhciByZWMgPSBmdW5jdGlvbiByZWMoYXJyLCBjdXJlbnREZXB0aCkge1xuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYXJyKSxcbiAgICAgICAgX3N0ZXAyO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBpdGVtID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgIGlmIChpc0FycmF5KGl0ZW0pICYmIGN1cmVudERlcHRoIDwgZGVwdGgpIHtcbiAgICAgICAgICByZWMoaXRlbSwgY3VyZW50RGVwdGggKyAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICB9XG4gIH07XG5cbiAgcmVjKGFyciwgMCk7XG4gIHJldHVybiByO1xufSAvLyBvYmplY3RcblxuZnVuY3Rpb24gYXNzaWduSWZEaWZmZXJlbnQob2JqLCBrZXksIHZhbCkge1xuICBpZiAob2JqW2tleV0gIT09IHZhbCkge1xuICAgIG9ialtrZXldID0gdmFsO1xuICB9XG59XG5mdW5jdGlvbiBvYmplY3RNZXJnZShvMSwgbzIpIHtcbiAgZm9yICh2YXIgayBpbiBvMikge1xuICAgIGlmICghbzEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgIG8xW2tdID0gbzJba107XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChvMVtrXSkgJiYgaXNPYmplY3QobzJba10pKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG8xW2tdLCBvMltrXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG8xW2tdID0gbzJba107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG8xO1xufVxuZnVuY3Rpb24gb2JqZWN0TWFwKG9iaiwgZnVuYykge1xuICB2YXIgciA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICByW2tleV0gPSBmdW5jKG9ialtrZXldLCBrZXksIG9iaik7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIG9iamVjdE9ubHkob2JqLCBrZXlzKSB7XG4gIHZhciByID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICByW2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIG9iamVjdEV4Y2VwdChvYmosIGtleXMpIHtcbiAgdmFyIHIgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGtleXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgcltrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHI7XG59IC8vIGxvb3AgZm9yIGFsbCB0eXBlXG4vLyBUT0RPIGNoYW5nZSByZXZlcnNlIHRvIG9wdCBpbiBuZXh0IHZlcnNpb25cblxuZnVuY3Rpb24gZm9yQWxsKHZhbCwgaGFuZGxlciwgcmV2ZXJzZSkge1xuICBpZiAoIXJldmVyc2UpIHtcbiAgICBpZiAoaXNBcnJheSh2YWwpIHx8IGlzU3RyaW5nKHZhbCkgfHwgdmFsLmhhc093blByb3BlcnR5KCdsZW5ndGgnKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGhhbmRsZXIodmFsW2ldLCBpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgICAgZm9yICh2YXIgX2kyID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXModmFsKTsgX2kyIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgdmFyIGtleSA9IF9PYmplY3Qka2V5c1tfaTJdO1xuXG4gICAgICAgIGlmIChoYW5kbGVyKHZhbFtrZXldLCBrZXkpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHZhbCkpIHtcbiAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHZhbDsgX2kzKyspIHtcbiAgICAgICAgaWYgKGhhbmRsZXIoX2kzLCBfaTMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0FycmF5KHZhbCkgfHwgaXNTdHJpbmcodmFsKSB8fCB2YWwuaGFzT3duUHJvcGVydHkoJ2xlbmd0aCcpKSB7XG4gICAgICBmb3IgKHZhciBfaTQgPSB2YWwubGVuZ3RoIC0gMTsgX2k0ID49IDA7IF9pNC0tKSB7XG4gICAgICAgIGlmIChoYW5kbGVyKHZhbFtfaTRdLCBfaTQpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG4gICAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgICAgZm9yICh2YXIgX2k1ID0gMCwgX2tleXMgPSBrZXlzOyBfaTUgPCBfa2V5cy5sZW5ndGg7IF9pNSsrKSB7XG4gICAgICAgIHZhciBfa2V5ID0gX2tleXNbX2k1XTtcblxuICAgICAgICBpZiAoaGFuZGxlcih2YWxbX2tleV0sIF9rZXkpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHZhbCkpIHtcbiAgICAgIGZvciAodmFyIF9pNiA9IHZhbCAtIDE7IF9pNiA+PSAwOyBfaTYtLSkge1xuICAgICAgICBpZiAoaGFuZGxlcihfaTYsIF9pNikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0gLy8gbG9vcCBmb3IgQXJyYXksIE9iamVjdCwgTm9kZUxpc3QsIFN0cmluZ1xuXG5mdW5jdGlvbiBpdGVyYXRlQWxsKHZhbCkge1xuICB2YXIgb3B0LFxuICAgICAgaSxcbiAgICAgIGluZm8sXG4gICAgICBfaTcsXG4gICAgICBfT2JqZWN0JGtleXMyLFxuICAgICAga2V5LFxuICAgICAgX2luZm8sXG4gICAgICBfaTgsXG4gICAgICBfaW5mbzIsXG4gICAgICBrZXlzLFxuICAgICAgX2k5LFxuICAgICAgX2tleXMyLFxuICAgICAgX2tleTIsXG4gICAgICBfaW5mbzMsXG4gICAgICBfYXJncyA9IGFyZ3VtZW50cztcblxuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGl0ZXJhdGVBbGwkKF9jb250ZXh0KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIG9wdCA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDoge307XG5cbiAgICAgICAgICBpZiAob3B0LnJldmVyc2UpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKHZhbC5sZW5ndGggIT0gbnVsbCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAoIShpIDwgdmFsLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsW2ldLFxuICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKCEoIW9wdC5leGNsdWRlIHx8ICFvcHQuZXhjbHVkZShpbmZvKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7XG4gICAgICAgICAgcmV0dXJuIGluZm87XG5cbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGlmICghaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2k3ID0gMCwgX09iamVjdCRrZXlzMiA9IE9iamVjdC5rZXlzKHZhbCk7XG5cbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBpZiAoIShfaTcgPCBfT2JqZWN0JGtleXMyLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGtleSA9IF9PYmplY3Qka2V5czJbX2k3XTtcbiAgICAgICAgICBfaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWxba2V5XSxcbiAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8pKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyO1xuICAgICAgICAgIHJldHVybiBfaW5mbztcblxuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIF9pNysrO1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHRocm93ICdVbnN1cHBvcnRlZCB0eXBlJztcblxuICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1ODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgIGlmICghKHZhbC5sZW5ndGggIT0gbnVsbCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9pOCA9IHZhbC5sZW5ndGggLSAxO1xuXG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKCEoX2k4ID49IDApKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfaW5mbzIgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsW19pOF0sXG4gICAgICAgICAgICBpbmRleDogX2k4XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8yKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNztcbiAgICAgICAgICByZXR1cm4gX2luZm8yO1xuXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgX2k4LS07XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMyO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU4O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgaWYgKCFpc09iamVjdCh2YWwpKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgICAgICBrZXlzLnJldmVyc2UoKTtcbiAgICAgICAgICBfaTkgPSAwLCBfa2V5czIgPSBrZXlzO1xuXG4gICAgICAgIGNhc2UgNDY6XG4gICAgICAgICAgaWYgKCEoX2k5IDwgX2tleXMyLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1NTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9rZXkyID0gX2tleXMyW19pOV07XG4gICAgICAgICAgX2luZm8zID0ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbFtfa2V5Ml0sXG4gICAgICAgICAgICBrZXk6IF9rZXkyXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8zKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjtcbiAgICAgICAgICByZXR1cm4gX2luZm8zO1xuXG4gICAgICAgIGNhc2UgNTI6XG4gICAgICAgICAgX2k5Kys7XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ2O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNTU6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU4O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgdGhyb3cgJ1Vuc3VwcG9ydGVkIHR5cGUnO1xuXG4gICAgICAgIGNhc2UgNTg6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZCk7XG59IC8vIERlcHJlY2F0ZWQgaW4gbmV4dCB2ZXJzaW9uXG5cbnZhciBpdGVyYXRlQUxMID0gaXRlcmF0ZUFsbDsgLy8gc291cmNlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg4MTczOTQvamF2YXNjcmlwdC1nZXQtZGVlcC12YWx1ZS1mcm9tLW9iamVjdC1ieS1wYXNzaW5nLXBhdGgtdG8taXQtYXMtc3RyaW5nXG5cbmZ1bmN0aW9uIG9iamVjdEdldChvYmosIHBhdGgsIHRocm93RXJyb3IpIHtcbiAgdmFyIHBhdGhzID0gaXNBcnJheShwYXRoKSA/IHBhdGggOiBwYXRoLnNwbGl0KCcuJyk7XG4gIHZhciBjdXJyZW50ID0gb2JqO1xuXG4gIHRyeSB7XG4gICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwYXRocyksXG4gICAgICAgIF9zdGVwMztcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICB2YXIga2V5ID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMy5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0aHJvd0Vycm9yKSB7XG4gICAgICB0aHJvdyBcIlBhdGggZG9lcyBub3QgZXhpc3RcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY3VycmVudDtcbn1cbmZ1bmN0aW9uIG9iamVjdFNldChvYmosIHBhdGgsIHZhbHVlKSB7XG4gIHZhciBwYXRocyA9IGlzQXJyYXkocGF0aCkgPyBwYXRoIDogcGF0aC5zcGxpdCgnLicpO1xuICB2YXIgbGFzdEtleSA9IGFycmF5TGFzdChwYXRocyk7XG4gIHZhciBwYXJlbnQgPSBvYmplY3RHZXQob2JqLCBwYXRocy5zbGljZSgwLCBwYXRocy5sZW5ndGggLSAxKSk7XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICB0aHJvdyBcIlBhdGggZG9lcyBub3QgZXhpc3RcIjtcbiAgfVxuXG4gIHBhcmVudFtsYXN0S2V5XSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gdW5zZXQob2JqLCBwcm9wKSB7XG4gIG9ialtwcm9wXSA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGRlbGV0ZSBvYmpbcHJvcF07XG4gIH0gY2F0Y2ggKGUpIHt9XG59IC8vIGV4Y2x1ZGU6IGFycmF5IG9yIGZ1bmN0aW9uXG5cbmZ1bmN0aW9uIGNsb25lT2JqKG9iaiwgZXhjbHVkZSkge1xuICB2YXIgdHlwZSA9IF90eXBlb2Yob2JqKTtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ251YmVyJzpcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBvYmo7XG5cbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBudWxsIGlzIG9iamVjdFxuICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgfVxuXG4gICAgICB2YXIgcjtcblxuICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICByID0gW107XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmopLFxuICAgICAgICAgICAgX3N0ZXA0O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gX3N0ZXA0LnZhbHVlO1xuICAgICAgICAgICAgci5wdXNoKGNsb25lT2JqKGl0ZW0sIGV4Y2x1ZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjQuZigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgX2kxMCA9IDAsIF9PYmplY3Qka2V5czMgPSBPYmplY3Qua2V5cyhvYmopOyBfaTEwIDwgX09iamVjdCRrZXlzMy5sZW5ndGg7IF9pMTArKykge1xuICAgICAgICAgIHZhciBrZXkgPSBfT2JqZWN0JGtleXMzW19pMTBdO1xuXG4gICAgICAgICAgaWYgKCFleGNsdWRlIHx8IGlzQXJyYXkoZXhjbHVkZSkgJiYgIWV4Y2x1ZGUuaW5jbHVkZXMoa2V5KSB8fCAhZXhjbHVkZShrZXksIG9ialtrZXldLCBvYmopKSB7XG4gICAgICAgICAgICByW2tleV0gPSBjbG9uZU9iaihvYmpba2V5XSwgZXhjbHVkZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBvYmo7XG4gIH1cbn1cbi8qXG5yZXR1cm4gY2xvbmVkIG9ialxuaGFuZGxlcih2YWx1ZSwga2V5LCBwYXJlbnQsIG5ld1BhcmVudClcbmhhbmRsZXIgY2FuIHJldHVybiBudWxsIG9yIGFuIG9iamVjdC5cbm51bGw6IGRvbid0IGNoYW5nZSBhbnl0aGluZ1xub2JqZWN0e1xuICBrZXk6IGZhbHNlLCAvLyBkZWxldGUuIERlcHJlY2F0ZWQsIHRoaXMgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSwgcGxlYXNlIHVzZSBgZGVsZXRlYCBpbnN0ZWFkIG9mIGl0LlxuICBrZXk6IG5ldyBrZXksIC8vIHVzZSBhIG5ldyBrZXkgaW5zdGVhZCBvZiBvbGQga2V5LiBpZiBrZXkgPT0gbnVsbCwgdGhlIG9sZCBrZXkgd2lsbCBiZSBkZXRlY3RlZFxuICBkZWxldGUsXG4gIHZhbHVlLCAvLyBuZXcgdmFsdWUuIGlmIHZhbHVlIG5vdCBnaXZlZCwgdGhlIG9sZCB2YWx1ZSB3aWxsIGJlIGRldGVjdGVkXG4gIHNraXAsIC8vIHNraXAgY2hpbGRyZW5cbiAgc3RvcCxcbn1cbntrZXk6IGZhbHNlfTogZGVsZXRlXG57dmFsdWV9OiBjaGFuZ2UgdmFsdWVcbntrZXksIHZhbHVlfS4gY2hhbmdlIGtleSBhbmQgdmFsdWVcbmxpbWl0OiB0byBwcmV2ZW50IGNpcmN1bGFyIHJlZmVyZW5jZS5cbiAqL1xuXG5mdW5jdGlvbiBtYXBPYmplY3RUcmVlKG9iaiwgaGFuZGxlcikge1xuICB2YXIgbGltaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDAwO1xuICB2YXIgcjtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIHN0YWNrID0gW3tcbiAgICB2YWx1ZTogb2JqXG4gIH1dO1xuXG4gIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoKSB7XG4gICAgaWYgKGNvdW50ID49IGxpbWl0KSB7XG4gICAgICB0aHJvdyBcIm1hcE9iamVjdFRyZWU6IGxpbWl0KFwiLmNvbmNhdChsaW1pdCwgXCIpIHJlYWNoZWQsIG9iamVjdCBtYXkgaGFzIGNpcmN1bGFyIHJlZmVyZW5jZVwiKTtcbiAgICB9XG5cbiAgICBjb3VudCsrO1xuXG4gICAgdmFyIF9zdGFjayRzaGlmdCA9IHN0YWNrLnNoaWZ0KCksXG4gICAgICAgIHZhbHVlID0gX3N0YWNrJHNoaWZ0LnZhbHVlLFxuICAgICAgICBrZXkgPSBfc3RhY2skc2hpZnQua2V5LFxuICAgICAgICBwYXJlbnQgPSBfc3RhY2skc2hpZnQucGFyZW50LFxuICAgICAgICBuZXdQYXJlbnQgPSBfc3RhY2skc2hpZnQubmV3UGFyZW50O1xuXG4gICAgdmFyIHQgPSBoYW5kbGVyKHZhbHVlLCBrZXksIHBhcmVudCwgbmV3UGFyZW50KTtcblxuICAgIHZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odmFsdWUsIGtleSwgY2FuUHVzaCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gW107XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGlmIChpc0FycmF5KG5ld1BhcmVudCkgJiYgY2FuUHVzaCkge1xuICAgICAgICAgIG5ld1BhcmVudC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdQYXJlbnRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gdmFsdWU7XG4gICAgICB9IC8vIHZhbHVlIG1heSBjaGFuZ2VkXG5cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICB2YXIgbmV3VmFsID0gdm9pZCAwLFxuICAgICAgICB2YWwgPSB2b2lkIDAsXG4gICAgICAgIHRvRGVsZXRlID0gdm9pZCAwLFxuICAgICAgICBzdG9wID0gdm9pZCAwLFxuICAgICAgICBza2lwID0gdm9pZCAwO1xuXG4gICAgaWYgKCF0KSB7XG4gICAgICAvLyBubyBjaGFuZ2VcbiAgICAgIHZhbCA9IHZhbHVlO1xuICAgICAgbmV3VmFsID0gYXNzaWduKHZhbHVlLCBrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5MiA9IHQua2V5LFxuICAgICAgICAgIF92YWx1ZSA9IHQudmFsdWU7XG4gICAgICB2YWwgPSBfdmFsdWU7XG5cbiAgICAgIGlmICh0LmRlbGV0ZSB8fCBrZXkyID09PSBmYWxzZSkge1xuICAgICAgICAvLyBkZWxcbiAgICAgICAgdG9EZWxldGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChrZXkyID09IG51bGwpIHtcbiAgICAgICAgLy8gZG9uJ3QgY2hhbmdlIGtleVxuICAgICAgICBuZXdWYWwgPSBhc3NpZ24oX3ZhbHVlLCBrZXksIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0Lmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgIG5ld1ZhbCA9IGFzc2lnbihfdmFsdWUsIGtleTIpO1xuICAgICAgfVxuXG4gICAgICBzdG9wID0gdC5zdG9wO1xuICAgICAgc2tpcCA9IHQuc2tpcDtcbiAgICB9XG5cbiAgICBpZiAodG9EZWxldGUpIHtcbiAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgfVxuXG4gICAgaWYgKHNraXApIHtcbiAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgfVxuXG4gICAgaWYgKHN0b3ApIHtcbiAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgdmFyIGxlbiA9IHZhbC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IHZhbFtpXSxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcGFyZW50OiB2YWwsXG4gICAgICAgICAgbmV3UGFyZW50OiBuZXdWYWxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgICBPYmplY3Qua2V5cyh2YWwpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogdmFsW2tleV0sXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGFyZW50OiB2YWwsXG4gICAgICAgICAgbmV3UGFyZW50OiBuZXdWYWxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX2xvb3A6IHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF9yZXQgPSBfbG9vcDIoKTtcblxuICAgIHN3aXRjaCAoX3JldCkge1xuICAgICAgY2FzZSBcImNvbnRpbnVlXCI6XG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBjYXNlIFwiYnJlYWtcIjpcbiAgICAgICAgYnJlYWsgX2xvb3A7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHI7XG59IC8vIGFyciwgaWRLZXkvZ2V0SWRcblxuZnVuY3Rpb24gbWFwT2JqZWN0cyhhcnIsIGlkS2V5KSB7XG4gIHZhciByID0ge307XG4gIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGFycltpXTtcbiAgICB2YXIgaWQgPSBpc0Z1bmN0aW9uKGlkS2V5KSA/IGlkS2V5KGl0ZW0sIGkpIDogaXRlbVtpZEtleV07XG4gICAgcltpZF0gPSBpdGVtO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59IC8vXG5cbmZ1bmN0aW9uIHBhaXJSb3dzKHJvd3MxLCByb3dzMiwga2V5MSwga2V5Mikge1xuICBpZiAoIWtleTIpIHtcbiAgICBrZXkyID0ga2V5MTtcbiAgfVxuXG4gIHZhciBtYXAgPSBtYXBPYmplY3RzKHJvd3MyLCBrZXkyKTtcbiAgcmV0dXJuIHJvd3MxLm1hcChmdW5jdGlvbiAocm93MSkge1xuICAgIHJldHVybiBbcm93MSwgbWFwW3JvdzFba2V5MV1dXTtcbiAgfSk7XG59IC8vIOa3seW6puS8mOWFiOmBjeWOhlxuLy8gRGVwdGgtRmlyc3QtU2VhcmNoXG4vLyBUT0RPIGNoYW5nZSBhcmdzIGluIG5leHQgdmVyc2lvblxuXG5mdW5jdGlvbiBkZXB0aEZpcnN0U2VhcmNoKG9iaiwgaGFuZGxlcikge1xuICB2YXIgY2hpbGRyZW5LZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG4gIHZhciByZXZlcnNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG4gIHZhciByb290Q2hpbGRyZW4gPSBpc0FycmF5KG9iaikgPyBvYmogOiBbb2JqXTsgLy9cblxuICB2YXIgU3RvcEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIFN0b3BFeGNlcHRpb24oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0b3BFeGNlcHRpb24pO1xuICB9O1xuXG4gIHZhciBmdW5jID0gZnVuY3Rpb24gZnVuYyhjaGlsZHJlbiwgcGFyZW50LCBwYXJlbnRQYXRoKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgIGNoaWxkcmVuLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICB2YXIgbGVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBjaGlsZHJlbltpXTtcbiAgICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyBsZW4gLSBpIC0gMSA6IGk7XG4gICAgICB2YXIgcGF0aCA9IHBhcmVudFBhdGggPyBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHBhcmVudFBhdGgpLCBbaW5kZXhdKSA6IFtdOyAvLyBUT0RPIGNoYW5nZSBhcmdzIGluIG5leHQgdmVyc2lvblxuXG4gICAgICB2YXIgciA9IGhhbmRsZXIoaXRlbSwgaW5kZXgsIHBhcmVudCwgcGF0aCk7XG5cbiAgICAgIGlmIChyID09PSBmYWxzZSkge1xuICAgICAgICAvLyBzdG9wXG4gICAgICAgIHRocm93IG5ldyBTdG9wRXhjZXB0aW9uKCk7XG4gICAgICB9IGVsc2UgaWYgKHIgPT09ICdza2lwIGNoaWxkcmVuJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAociA9PT0gJ3NraXAgc2libGluZ3MnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVtjaGlsZHJlbktleV0gIT0gbnVsbCkge1xuICAgICAgICBmdW5jKGl0ZW1bY2hpbGRyZW5LZXldLCBpdGVtLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBmdW5jKHJvb3RDaGlsZHJlbiwgbnVsbCwgaXNBcnJheShvYmopID8gW10gOiBudWxsKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgU3RvcEV4Y2VwdGlvbikgOyBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG59XG52YXIgd2Fsa1RyZWVEYXRhID0gZGVwdGhGaXJzdFNlYXJjaDtcbnZhciBUcmVlRGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8vIGRhdGEgPSBudWxsO1xuICBmdW5jdGlvbiBUcmVlRGF0YShkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyZWVEYXRhKTtcblxuICAgIHRoaXMuY2hpbGRyZW5LZXkgPSAnY2hpbGRyZW4nO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJlZURhdGEsIFt7XG4gICAga2V5OiBcIml0ZXJhdGVQYXRoXCIsXG4gICAgdmFsdWU6IC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gaXRlcmF0ZVBhdGgocGF0aCkge1xuICAgICAgdmFyIG9wdCxcbiAgICAgICAgICBjaGlsZHJlbktleSxcbiAgICAgICAgICByb290Q2hpbGRyZW4sXG4gICAgICAgICAgcHJldlBhdGgsXG4gICAgICAgICAgcHJldkNoaWxkcmVuLFxuICAgICAgICAgIF9pdGVyYXRvcjUsXG4gICAgICAgICAgX3N0ZXA1LFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGN1cnJlbnRQYXRoLFxuICAgICAgICAgIGN1cnJlbnROb2RlLFxuICAgICAgICAgIGxpc3QsXG4gICAgICAgICAgX2l0ZXJhdG9yNixcbiAgICAgICAgICBfc3RlcDYsXG4gICAgICAgICAgX3N0ZXA2JHZhbHVlLFxuICAgICAgICAgIF9wYXRoLFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzO1xuXG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGl0ZXJhdGVQYXRoJChfY29udGV4dDIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgb3B0ID0gX2FyZ3MyLmxlbmd0aCA+IDEgJiYgX2FyZ3MyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMV0gOiB7fTtcbiAgICAgICAgICAgICAgY2hpbGRyZW5LZXkgPSB0aGlzLmNoaWxkcmVuS2V5LCByb290Q2hpbGRyZW4gPSB0aGlzLnJvb3RDaGlsZHJlbjtcblxuICAgICAgICAgICAgICBpZiAob3B0LnJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcHJldlBhdGggPSBbXTtcbiAgICAgICAgICAgICAgcHJldkNoaWxkcmVuID0gcm9vdENoaWxkcmVuO1xuICAgICAgICAgICAgICBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGF0aCk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjtcblxuICAgICAgICAgICAgICBfaXRlcmF0b3I1LnMoKTtcblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBpZiAoKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGluZGV4ID0gX3N0ZXA1LnZhbHVlO1xuICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJldlBhdGgpLCBbaW5kZXhdKTtcbiAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBwcmV2Q2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0O1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN1cnJlbnRQYXRoLFxuICAgICAgICAgICAgICAgIG5vZGU6IGN1cnJlbnROb2RlXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgIHByZXZQYXRoID0gY3VycmVudFBhdGg7XG4gICAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IGN1cnJlbnROb2RlW2NoaWxkcmVuS2V5XTtcblxuICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjE7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MltcImNhdGNoXCJdKDYpO1xuXG4gICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShfY29udGV4dDIudDApO1xuXG4gICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI0O1xuXG4gICAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDI0KTtcblxuICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0ODtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgICAgIGxpc3QgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5pdGVyYXRlUGF0aChwYXRoLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHQsIHtcbiAgICAgICAgICAgICAgICByZXZlcnNlOiBmYWxzZVxuICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICBsaXN0LnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGxpc3QpO1xuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDMyO1xuXG4gICAgICAgICAgICAgIF9pdGVyYXRvcjYucygpO1xuXG4gICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICBpZiAoKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0MDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9zdGVwNiR2YWx1ZSA9IF9zdGVwNi52YWx1ZSwgX3BhdGggPSBfc3RlcDYkdmFsdWUucGF0aCwgbm9kZSA9IF9zdGVwNiR2YWx1ZS5ub2RlO1xuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM4O1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhdGg6IF9wYXRoLFxuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGVcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2FzZSAzODpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQyO1xuICAgICAgICAgICAgICBfY29udGV4dDIudDEgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgzMik7XG5cbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKF9jb250ZXh0Mi50MSk7XG5cbiAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDU7XG5cbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goNDUpO1xuXG4gICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGl0ZXJhdGVQYXRoLCB0aGlzLCBbWzYsIDIxLCAyNCwgMjddLCBbMzIsIDQyLCA0NSwgNDhdXSk7XG4gICAgfSlcbiAgfSwge1xuICAgIGtleTogXCJnZXRBbGxOb2Rlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxOb2RlcyhwYXRoKSB7XG4gICAgICB2YXIgYWxsID0gW107XG5cbiAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5pdGVyYXRlUGF0aChwYXRoKSksXG4gICAgICAgICAgX3N0ZXA3O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBub2RlID0gX3N0ZXA3LnZhbHVlLm5vZGU7XG4gICAgICAgICAgYWxsLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjcuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXROb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5vZGUocGF0aCkge1xuICAgICAgcmV0dXJuIGFycmF5TGFzdCh0aGlzLmdldEFsbE5vZGVzKHBhdGgpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Tm9kZUluZGV4QW5kUGFyZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5vZGVJbmRleEFuZFBhcmVudChwYXRoKSB7XG4gICAgICB2YXIgcGFyZW50UGF0aCA9IHBhdGguc2xpY2UoKTtcbiAgICAgIHZhciBpbmRleCA9IHBhcmVudFBhdGgucG9wKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnQ6IHRoaXMuZ2V0Tm9kZShwYXJlbnRQYXRoKSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBwYXJlbnRQYXRoOiBwYXJlbnRQYXRoXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXROb2RlUGFyZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5vZGVQYXJlbnQocGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUluZGV4QW5kUGFyZW50KHBhdGgpLnBhcmVudDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0UGF0aE5vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UGF0aE5vZGUocGF0aCwgbm9kZSkge1xuICAgICAgaWYgKHBhdGggPT0gbnVsbCB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuS2V5ID0gdGhpcy5jaGlsZHJlbktleSxcbiAgICAgICAgICAgIHJvb3RDaGlsZHJlbiA9IHRoaXMucm9vdENoaWxkcmVuO1xuXG4gICAgICAgIHZhciBfdGhpcyRnZXROb2RlSW5kZXhBbmQgPSB0aGlzLmdldE5vZGVJbmRleEFuZFBhcmVudChwYXRoKSxcbiAgICAgICAgICAgIHBhcmVudCA9IF90aGlzJGdldE5vZGVJbmRleEFuZC5wYXJlbnQsXG4gICAgICAgICAgICBpbmRleCA9IF90aGlzJGdldE5vZGVJbmRleEFuZC5pbmRleDtcblxuICAgICAgICB2YXIgcGFyZW50Q2hpbGRyZW4gPSBwYXRoLmxlbmd0aCA9PT0gMSA/IHJvb3RDaGlsZHJlbiA6IHBhcmVudFtjaGlsZHJlbktleV07XG4gICAgICAgIHBhcmVudENoaWxkcmVuW2luZGV4XSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZU5vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlTm9kZShwYXRoKSB7XG4gICAgICB2YXIgY2hpbGRyZW5LZXkgPSB0aGlzLmNoaWxkcmVuS2V5LFxuICAgICAgICAgIHJvb3RDaGlsZHJlbiA9IHRoaXMucm9vdENoaWxkcmVuO1xuXG4gICAgICB2YXIgX3RoaXMkZ2V0Tm9kZUluZGV4QW5kMiA9IHRoaXMuZ2V0Tm9kZUluZGV4QW5kUGFyZW50KHBhdGgpLFxuICAgICAgICAgIHBhcmVudCA9IF90aGlzJGdldE5vZGVJbmRleEFuZDIucGFyZW50LFxuICAgICAgICAgIGluZGV4ID0gX3RoaXMkZ2V0Tm9kZUluZGV4QW5kMi5pbmRleDtcblxuICAgICAgdmFyIHBhcmVudENoaWxkcmVuID0gcGF0aC5sZW5ndGggPT09IDEgPyByb290Q2hpbGRyZW4gOiBwYXJlbnRbY2hpbGRyZW5LZXldO1xuICAgICAgdmFyIG5vZGUgPSBwYXJlbnRDaGlsZHJlbltpbmRleF07XG4gICAgICBwYXJlbnRDaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIndhbGtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2FsayhoYW5kbGVyKSB7XG4gICAgICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBjaGlsZHJlbktleSA9IHRoaXMuY2hpbGRyZW5LZXksXG4gICAgICAgICAgZGF0YSA9IHRoaXMuZGF0YTsgLy8gVE9ETyBjaGFuZ2UgYXJncyBpbiBuZXh0IHZlcnNpb25cblxuICAgICAgcmV0dXJuIHdhbGtUcmVlRGF0YShkYXRhLCBoYW5kbGVyLCBjaGlsZHJlbktleSwgb3B0LnJldmVyc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbG9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHtcbiAgICAgIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgLy8gb3B0LmFmdGVyTm9kZUNyZWF0ZWQobmV3Tm9kZSwge29sZE5vZGU6IG5vZGUsIGluZGV4LCBwYXJlbnQsIHBhdGh9KVxuICAgICAgLy8gVE9ETyBjaGFuZ2UgYXJncyBpbiBuZXh0IHZlcnNpb25cbiAgICAgIHZhciBjaGlsZHJlbktleSA9IHRoaXMuY2hpbGRyZW5LZXk7XG4gICAgICB2YXIgdGQgPSBuZXcgVHJlZURhdGEoKTtcbiAgICAgIHRoaXMud2FsayhmdW5jdGlvbiAobm9kZSwgaW5kZXgsIHBhcmVudCwgcGF0aCkge1xuICAgICAgICB2YXIgbmV3Tm9kZSA9IE9iamVjdC5hc3NpZ24oe30sIG5vZGUpO1xuXG4gICAgICAgIGlmIChuZXdOb2RlW2NoaWxkcmVuS2V5XSkge1xuICAgICAgICAgIG5ld05vZGVbY2hpbGRyZW5LZXldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0LmFmdGVyTm9kZUNyZWF0ZWQpIHtcbiAgICAgICAgICBvcHQuYWZ0ZXJOb2RlQ3JlYXRlZChuZXdOb2RlLCB7XG4gICAgICAgICAgICBvbGROb2RlOiBub2RlLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZC5zZXRQYXRoTm9kZShwYXRoLCBuZXdOb2RlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRkLmRhdGE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvb3RDaGlsZHJlblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGNoaWxkcmVuS2V5ID0gdGhpcy5jaGlsZHJlbktleTtcblxuICAgICAgaWYgKCF0aGlzLmRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB9XG5cbiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgcmV0dXJuIGlzQXJyYXkoZGF0YSkgPyBkYXRhIDogZGF0YVtjaGlsZHJlbktleV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyZWVEYXRhO1xufSgpOyAvLyBmdW5jdGlvbiBoZWxwZXIgfCBtZXRob2QgaGVscGVyID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gcmVzb2x2ZVZhbHVlT3JHZXR0dGVyKHZhbHVlT3JHZXR0ZXIpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlT3JHZXR0ZXIpKSB7XG4gICAgcmV0dXJuIHZhbHVlT3JHZXR0ZXIuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZU9yR2V0dGVyO1xuICB9XG59XG5mdW5jdGlvbiBleGVjdXRlV2l0aENvdW50KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW47IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuYy5jYWxsLmFwcGx5KGZ1bmMsIFt0aGlzLCBjb3VudCsrXS5jb25jYXQoYXJncykpO1xuICB9O1xufVxuZnVuY3Rpb24gd2F0Y2hDaGFuZ2UoZ2V0VmFsLCBoYW5kbGVyKSB7XG4gIHZhciBvbGRWYWw7XG5cbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjI7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICB2YXIgbmV3VmFsID0gZ2V0VmFsLmFwcGx5KHZvaWQgMCwgYXJncyk7XG5cbiAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgIGhhbmRsZXIuYXBwbHkodm9pZCAwLCBbbmV3VmFsXS5jb25jYXQoYXJncykpO1xuICAgIH1cblxuICAgIG9sZFZhbCA9IG5ld1ZhbDtcbiAgfTtcblxuICByZXR1cm4gdXBkYXRlO1xufVxudmFyIHN0b3JlX2V4ZWN1dGVPbmNlSW5TY29wZUJ5TmFtZSA9IHt9O1xuZnVuY3Rpb24gZXhlY3V0ZU9uY2VJblNjb3BlQnlOYW1lKG5hbWUsIGFjdGlvbikge1xuICB2YXIgc2NvcGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHNjb3BlX2V4ZWN1dGVPbmNlSW5TY29wZUJ5TmFtZTtcbiAgdmFyIHN0b3JlUmVzdWx0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG4gIG5hbWUgPSBcImV4ZWN1dGVPbmNlSW5TY29wZUJ5TmFtZV9cIi5jb25jYXQobmFtZSk7XG5cbiAgaWYgKCFzY29wZVtuYW1lXSkge1xuICAgIHZhciB2YWx1ZSA9IGFjdGlvbigpO1xuXG4gICAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgZGVsZXRlIHNjb3BlW25hbWVdO1xuICAgIH07XG5cbiAgICBzY29wZVtuYW1lXSA9IHtcbiAgICAgIGRlc3Ryb3k6IGRlc3Ryb3lcbiAgICB9O1xuXG4gICAgaWYgKHN0b3JlUmVzdWx0KSB7XG4gICAgICBzY29wZVtuYW1lXS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzY29wZVtuYW1lXTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlVHJhaWxpbmcoYWN0aW9uKSB7XG4gIHZhciB3YWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICB2YXIgdDtcbiAgdmFyIGRlbGF5aW5nO1xuICB2YXIgbGFzdEFyZ3M7IC8vIHdoZW4gdHJhaWxpbmcsIHVzZSBsYXN0IGFyZ3NcblxuICB2YXIgcmVzb2x2ZXMgPSBbXTtcbiAgdmFyIHJlamVjdHMgPSBbXTtcblxuICB2YXIgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uIHdyYXBwZWRBY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuMzsgX2tleTUrKykge1xuICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlcy5wdXNoKHJlc29sdmUpO1xuICAgICAgcmVqZWN0cy5wdXNoKHJlamVjdCk7IC8vXG5cbiAgICAgIGxhc3RBcmdzID0gYXJncztcblxuICAgICAgaWYgKCFkZWxheWluZykge1xuICAgICAgICBkZWxheWluZyA9IHRydWU7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gYWN0aW9uLmNhbGwuYXBwbHkoYWN0aW9uLCBbX3RoaXNdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobGFzdEFyZ3MpKSk7XG4gICAgICAgICAgdCA9IG51bGw7XG4gICAgICAgICAgZGVsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXNvbHZlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmVzID0gW107XG4gICAgICAgICAgcmVqZWN0cyA9IFtdO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB3cmFwcGVkQWN0aW9uLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgIHQgPSBudWxsO1xuICAgIH1cblxuICAgIGRlbGF5aW5nID0gZmFsc2U7XG4gICAgcmVzb2x2ZXMgPSBbXTtcbiAgICByZWplY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlamVjdCkge1xuICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgIH0pO1xuICAgIHJlamVjdHMgPSBbXTtcbiAgfTtcblxuICByZXR1cm4gd3JhcHBlZEFjdGlvbjtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlSW1tZWRpYXRlKGFjdGlvbikge1xuICB2YXIgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIHQ7XG4gIHZhciBkZWxheWluZztcbiAgdmFyIHJlc3VsdDtcblxuICB2YXIgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uIHdyYXBwZWRBY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKGRlbGF5aW5nKSB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0ID0gYWN0aW9uLmNhbGwuYXBwbHkoYWN0aW9uLCBbX3RoaXMyXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGxhc3RBcmdzKSkpO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0ID0gbnVsbDtcbiAgICAgICAgICBkZWxheWluZyA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIH0sIHdhaXQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHdyYXBwZWRBY3Rpb24uc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgdCA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVsYXlpbmcgPSBmYWxzZTtcbiAgfTtcblxuICByZXR1cm4gd3JhcHBlZEFjdGlvbjtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGFjdGlvbikge1xuICB2YXIgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgaWYgKG9wdC5pbW1lZGlhdGUpIHtcbiAgICByZXR1cm4gZGVib3VuY2VJbW1lZGlhdGUoYWN0aW9uLCB3YWl0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVib3VuY2VUcmFpbGluZyhhY3Rpb24sIHdhaXQpO1xuICB9XG59XG4vKipcbiAqIFtqb2luTWV0aG9kcyBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1tGdW5jdGlvbltdXX0gbWV0aG9kcyAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtICB7U3RyaW5nfSBbbW9kZT0ndmFsdWUnXSBbdmFsdWUsIHBpcGVsaW5lXVxuICogQHJldHVybiB7W0Z1bmN0aW9uXX0gICAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICovXG5cbmZ1bmN0aW9uIGpvaW5NZXRob2RzKG1ldGhvZHMpIHtcbiAgdmFyIG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd2YWx1ZSc7XG4gIHZhciBzaW1wbGVKb2luZWRNZXRob2Q7XG5cbiAgdmFyIF9pdGVyYXRvcjggPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXRob2RzKSxcbiAgICAgIF9zdGVwODtcblxuICB0cnkge1xuICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMoKSB7XG4gICAgICB2YXIgbWV0aG9kID0gX3N0ZXA4LnZhbHVlO1xuICAgICAgdmFyIG9sZCA9IHNpbXBsZUpvaW5lZE1ldGhvZDtcblxuICAgICAgaWYgKG9sZCkge1xuICAgICAgICBzaW1wbGVKb2luZWRNZXRob2QgPSBmdW5jdGlvbiBzaW1wbGVKb2luZWRNZXRob2QoKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW40OyBfa2V5NisrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsLmFwcGx5KG1ldGhvZCwgW3RoaXMsIG1vZGUgPT09ICd2YWx1ZScgPyBvbGQuY2FsbC5hcHBseShvbGQsIFt0aGlzXS5jb25jYXQoYXJncykpIDogb2xkXS5jb25jYXQoYXJncykpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2ltcGxlSm9pbmVkTWV0aG9kID0gbWV0aG9kO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lOykge1xuICAgICAgX2xvb3AzKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfaXRlcmF0b3I4LmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3I4LmYoKTtcbiAgfVxuXG4gIHJldHVybiBzaW1wbGVKb2luZWRNZXRob2Q7XG59IC8vIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBvbmx5IGFjY2VwdCBvbmUgYXJndW1lbnRcblxuZnVuY3Rpb24gam9pbkZ1bmN0aW9uc0J5UmVzdWx0KGZ1bmNzKSB7XG4gIHZhciB3cmFwcGVkRnVuYyA9IGZ1bmNzWzBdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgZnVuY3MubGVuZ3RoOyBpKyspIHtcbiAgICB3cmFwcGVkRnVuYyA9IGpvaW4yZnVuYyh3cmFwcGVkRnVuYywgZnVuY3NbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHdyYXBwZWRGdW5jO1xuXG4gIGZ1bmN0aW9uIGpvaW4yZnVuYyhmdW5jMSwgZnVuYzIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IGFyZ3M7XG4gICAgICB2YXIgcmVzdWx0MSA9IGZ1bmMxKGFyZyk7XG4gICAgICByZXR1cm4gZnVuYzIocmVzdWx0MSk7XG4gICAgfTtcbiAgfVxufSAvLyBtdXN0IHBhc3MgYXJndW1lbnRzIHRvIGBuZXh0YCBtYW51YWxseVxuXG5mdW5jdGlvbiBqb2luRnVuY3Rpb25zQnlOZXh0KGZ1bmNzKSB7XG4gIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHt9O1xuXG4gIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlcmF0ZUFsbChmdW5jcywge1xuICAgIHJldmVyc2U6IHRydWVcbiAgfSkpLFxuICAgICAgX3N0ZXA5O1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3I5LnMoKTsgIShfc3RlcDkgPSBfaXRlcmF0b3I5Lm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBmdW5jID0gX3N0ZXA5LnZhbHVlLnZhbHVlO1xuICAgICAgdmFyIGN1cnJlbnROZXh0ID0gbmV4dDtcbiAgICAgIG5leHQgPSB3cmFwRnVuY1dpdGhOZXh0KGZ1bmMsIGN1cnJlbnROZXh0KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjkuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjkuZigpO1xuICB9XG5cbiAgcmV0dXJuIG5leHQ7XG5cbiAgZnVuY3Rpb24gd3JhcEZ1bmNXaXRoTmV4dChmdW5jLCBuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNSksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNTsgX2tleTcrKykge1xuICAgICAgICBhcmdzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHZvaWQgMCwgW25leHRdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgfVxufSAvLyBwcm9taXNlXG4vLyBleGVjdXRlIHByb21pc2UgaW4gc2VxdWVuY2VcblxuZnVuY3Rpb24gZXhlY3V0ZVByb21pc2VHZXR0ZXJzKGdldHRlcnMpIHtcbiAgdmFyIGNvbmN1cnJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG4gIHZhciBzdG9wcGVkO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgciA9IFtdO1xuICAgIHZhciBjaHVua3MgPSBzcGxpdEFycmF5KGdldHRlcnMsIGNvbmN1cnJlbnQpO1xuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgY2h1bmtzLmZvckVhY2goZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHIucHVzaC5hcHBseShyLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzdWx0KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgIHJlamVjdCgnc3RvcHBlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjaHVuay5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB2KCk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgci5wdXNoLmFwcGx5KHIsIF90b0NvbnN1bWFibGVBcnJheShyZXN1bHQpKTtcbiAgICAgIHJlc29sdmUocik7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHByb21pc2VUaW1lb3V0KHByb21pc2UsIHRpbWVvdXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgdCwgcmVqZWN0ZWQ7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgIHJlc29sdmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghcmVqZWN0ZWQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICByZWplY3QuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlamVjdGVkID0gdHJ1ZTtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdQcm9taXNlIHRpbWVvdXQhJyk7XG4gICAgICBlLm5hbWUgPSAndGltZW91dCc7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSwgdGltZW91dCk7XG4gIH0pO1xufSAvLyB1cmxcblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuZnVuY3Rpb24gZ2V0VXJsUGFyYW0ocGFyKSB7XG4gIC8vIOiOt+WPluW9k+WJjVVSTFxuICB2YXIgbG9jYWxfdXJsID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjsgLy8g6I635Y+W6KaB5Y+W5b6X55qEZ2V05Y+C5pWw5L2N572uXG5cbiAgdmFyIGdldCA9IGxvY2FsX3VybC5pbmRleE9mKHBhciArICc9Jyk7XG5cbiAgaWYgKGdldCA9PSAtMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyDmiKrlj5blrZfnrKbkuLJcblxuXG4gIHZhciBnZXRfcGFyID0gbG9jYWxfdXJsLnNsaWNlKHBhci5sZW5ndGggKyBnZXQgKyAxKTsgLy8g5Yik5pat5oiq5Y+W5ZCO55qE5a2X56ym5Liy5piv5ZCm6L+Y5pyJ5YW25LuWZ2V05Y+C5pWwXG5cbiAgdmFyIG5leHRQYXIgPSBnZXRfcGFyLmluZGV4T2YoJyYnKTtcblxuICBpZiAobmV4dFBhciAhPSAtMSkge1xuICAgIGdldF9wYXIgPSBnZXRfcGFyLnNsaWNlKDAsIG5leHRQYXIpO1xuICB9XG5cbiAgcmV0dXJuIGdldF9wYXI7XG59XG4vKiBlc2xpbnQtZW5hYmxlICovXG4vLyBkb20gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIHJldHVybiBOb2RlTGlzdCBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgdG9wLWxldmVsIG5vZGVzXG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTChodG1sU3RyaW5nKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuXG4gIGlmIChkaXYuY2hpbGROb2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIGRpdi5jaGlsZE5vZGVzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaXYuY2hpbGROb2Rlc1swXTtcbiAgfVxufVxuZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gIHZhciBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICdpZF8nO1xuICB2YXIgaWQgPSBwcmVmaXggKyBzdHJSYW5kKCk7XG4gIGlmICghc3RvcmUudW5pcXVlSWQpIHN0b3JlLnVuaXF1ZUlkID0ge307XG4gIHZhciBnZW5lcmF0ZWRJZHMgPSBzdG9yZS51bmlxdWVJZDtcblxuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpIHx8IGdlbmVyYXRlZElkc1tpZF0pIHtcbiAgICByZXR1cm4gdW5pcXVlSWQocHJlZml4KTtcbiAgfSBlbHNlIHtcbiAgICBnZW5lcmF0ZWRJZHNbaWRdID0gdHJ1ZTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRGVzY2VuZGFudE9mKGVsLCBwYXJlbnQpIHtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoZWwucGFyZW50RWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChlbC5wYXJlbnRFbGVtZW50ID09PSBwYXJlbnQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiByZW1vdmVFbChlbCkge1xuICBpZiAoZWwucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgfVxufSAvLyByZWZlcjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODcxMzk5L2Nyb3NzLWJyb3dzZXItbWV0aG9kLWZvci1kZXRlY3RpbmctdGhlLXNjcm9sbHRvcC1vZi10aGUtYnJvd3Nlci13aW5kb3dcblxuZnVuY3Rpb24gZ2V0U2Nyb2xsKCkge1xuICBpZiAodHlwZW9mIHBhZ2VZT2Zmc2V0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgLy9tb3N0IGJyb3dzZXJzIGV4Y2VwdCBJRSBiZWZvcmUgIzlcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBwYWdlWU9mZnNldCxcbiAgICAgIGxlZnQ6IHBhZ2VYT2Zmc2V0XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgQiA9IGRvY3VtZW50LmJvZHk7IC8vSUUgJ3F1aXJrcydcblxuICAgIHZhciBEID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OyAvL0lFIHdpdGggZG9jdHlwZVxuXG4gICAgRCA9IEQuY2xpZW50SGVpZ2h0ID8gRCA6IEI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogRC5zY3JvbGxUb3AsXG4gICAgICBsZWZ0OiBELnNjcm9sbExlZnRcbiAgICB9O1xuICB9XG59IC8vIHJlZmVyOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9hZGVyYWFpai84OTU0N2UzNDYxN2I5NWFjMjlkMVxuXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcbiAgdmFyIHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpO1xuICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKCk7XG4gIHJldHVybiB7XG4gICAgeDogcmVjdC5sZWZ0ICsgc2Nyb2xsLmxlZnQsXG4gICAgeTogcmVjdC50b3AgKyBzY3JvbGwudG9wXG4gIH07XG59IC8vIHRoZXJlIGlzIHNvbWUgdHJhcCBpbiBlbC5vZmZzZXRQYXJlbnQsIHNvIHVzZSB0aGlzIGZ1bmMgdG8gZml4XG5cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbCkge1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50O1xuXG4gIGlmICghb2Zmc2V0UGFyZW50IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jdW1lbnQuYm9keSAmJiBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgIG9mZnNldFBhcmVudCA9IGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudDtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRQYXJlbnQ7XG59IC8vIGdldCBlbCBjdXJyZW50IHBvc2l0aW9uLiBsaWtlIGpRdWVyeS5wb3NpdGlvblxuLy8gdGhlIHBvc2l0aW9uIGlzIHJlbGF0aXZlIHRvIG9mZnNldFBhcmVudCB2aWV3cG9ydCBsZWZ0IHRvcC4gaXQgaXMgZm9yIHNldCBhYnNvbHV0ZSBwb3NpdGlvbiwgYWJzb2x1dGUgcG9zaXRpb24gaXMgcmVsYXRpdmUgdG8gb2Zmc2V0UGFyZW50IHZpZXdwb3J0IGxlZnQgdG9wLlxuLy8g55u45a+55LqOb2Zmc2V0UGFyZW505Y+v6KeG5Yy65Z+f5bem5LiK6KeSKGVsLm9mZnNldExlZnTmiJZ0b3DljIXlkKvniLblhYPntKDnmoTmu5rliqjot53nprssIOaJgOS7peimgeWHj+WOuykuIHBvc2l0aW9u5LiA6Iis55So5LqO6K6+572u57ud5a+55a6a5L2N55qE5oOF5Ya1LCDogIznu53lr7nlrprkvY3lsLHmmK/ku6Xlj6/op4bljLrln5/lt6bkuIrop5LkuLrljp/ngrkuXG5cbmZ1bmN0aW9uIGdldFBvc2l0aW9uKGVsKSB7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZWwpO1xuICB2YXIgcHMgPSB7XG4gICAgeDogZWwub2Zmc2V0TGVmdCxcbiAgICB5OiBlbC5vZmZzZXRUb3BcbiAgfTtcbiAgdmFyIHBhcmVudCA9IGVsO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG5cbiAgICBpZiAocGFyZW50ID09PSBvZmZzZXRQYXJlbnQgfHwgIXBhcmVudCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcHMueCAtPSBwYXJlbnQuc2Nyb2xsTGVmdDtcbiAgICBwcy55IC09IHBhcmVudC5zY3JvbGxUb3A7XG4gIH1cblxuICByZXR1cm4gcHM7XG59IC8vIGdldCBwb3NpdGlvbiBvZiBhIGVsIGlmIGl0cyBvZmZzZXQgaXMgZ2l2ZW4uIGxpa2UgalF1ZXJ5Lm9mZnNldC5cbi8vIOexu+S8vCBqUXVlcnkub2Zmc2V055qE6K6+572u5Yqf6IO9LCDkvYbmmK/lroPlj6rov5Tlm57orqHnrpfnmoRwb3NpdGlvbiwg5LiN5pS55Y+Y5YWD57Sg5qC35byPLlxuXG5mdW5jdGlvbiBnZXRQb3NpdGlvbkZyb21PZmZzZXQoZWwsIG9mKSB7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZWwpO1xuICB2YXIgcGFyZW50T2YgPSBnZXRPZmZzZXQob2Zmc2V0UGFyZW50KTtcbiAgcmV0dXJuIHtcbiAgICB4OiBvZi54IC0gcGFyZW50T2YueCxcbiAgICB5OiBvZi55IC0gcGFyZW50T2YueVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsKSB7XG4gIC8vIHJlZmVyOiBodHRwOi8vd3d3LjUxeHVlZGlhbm5hby5jb20vamF2YXNjcmlwdC9nZXRCb3VuZGluZ0NsaWVudFJlY3QuaHRtbFxuICB2YXIgeHkgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHRvcCA9IHh5LnRvcCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AsXG4gICAgICAvL2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3Ag5ZyoSUU2N+S4reWni+e7iOS4ujLvvIzlhbbku5bpq5jnuqfngrnnmoTmtY/op4jlmajkuLowXG4gIGJvdHRvbSA9IHh5LmJvdHRvbSxcbiAgICAgIGxlZnQgPSB4eS5sZWZ0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQsXG4gICAgICAvL2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0IOWcqElFNjfkuK3lp4vnu4jkuLoy77yM5YW25LuW6auY57qn54K555qE5rWP6KeI5Zmo5Li6MFxuICByaWdodCA9IHh5LnJpZ2h0LFxuICAgICAgd2lkdGggPSB4eS53aWR0aCB8fCByaWdodCAtIGxlZnQsXG4gICAgICAvL0lFNjfkuI3lrZjlnKh3aWR0aCDkvb/nlKhyaWdodCAtIGxlZnTojrflvpdcbiAgaGVpZ2h0ID0geHkuaGVpZ2h0IHx8IGJvdHRvbSAtIHRvcDtcbiAgdmFyIHggPSBsZWZ0O1xuICB2YXIgeSA9IHRvcDtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRvcCxcbiAgICByaWdodDogcmlnaHQsXG4gICAgYm90dG9tOiBib3R0b20sXG4gICAgbGVmdDogbGVmdCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH07XG59XG52YXIgZ2V0Vmlld3BvcnRQb3NpdGlvbiA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdDsgLy8gVE9ETyBub3QgdGVzdGVkXG5cbmZ1bmN0aW9uIHZpZXdwb3J0UG9zaXRpb25Ub09mZnNldChwb3NpdGlvbikge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBib2R5T2YgPSBnZXRPZmZzZXQoYm9keSk7XG4gIHZhciBib2R5VlAgPSBnZXRWaWV3cG9ydFBvc2l0aW9uKGJvZHkpO1xuICByZXR1cm4ge1xuICAgIHg6IHBvc2l0aW9uLnggKyBib2R5T2YueCAtIGJvZHlWUC54LFxuICAgIHk6IHBvc2l0aW9uLnkgKyBib2R5T2YueSAtIGJvZHlWUC55XG4gIH07XG59IC8vIFRPRE8gbm90IHRlc3RlZFxuXG5mdW5jdGlvbiBvZmZzZXRUb1ZpZXdwb3J0UG9zaXRpb24ob2Zmc2V0KSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIGJvZHlPZiA9IGdldE9mZnNldChib2R5KTtcbiAgdmFyIGJvZHlWUCA9IGdldFZpZXdwb3J0UG9zaXRpb24oYm9keSk7XG4gIHJldHVybiB7XG4gICAgeDogb2Zmc2V0LnggKyBib2R5VlAueCAtIGJvZHlPZi54LFxuICAgIHk6IG9mZnNldC55ICsgYm9keVZQLnkgLSBib2R5T2YueVxuICB9O1xufVxuZnVuY3Rpb24gZmluZFBhcmVudChlbCwgY2FsbGJhY2ssIG9wdCkge1xuICB2YXIgY3VyID0gb3B0ICYmIG9wdC53aXRoU2VsZiA/IGVsIDogZWwucGFyZW50RWxlbWVudDtcblxuICB3aGlsZSAoY3VyKSB7XG4gICAgdmFyIHIgPSBjYWxsYmFjayhjdXIpO1xuXG4gICAgaWYgKHIgPT09ICdicmVhaycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHIpIHtcbiAgICAgIHJldHVybiBjdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1ciA9IGN1ci5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYmFja3VwQXR0cihlbCwgbmFtZSkge1xuICB2YXIga2V5ID0gXCJvcmlnaW5hbF9cIi5jb25jYXQobmFtZSk7XG4gIGVsW2tleV0gPSBlbC5nZXRBdHRyaWJ1dGUobmFtZSk7XG59XG5mdW5jdGlvbiByZXN0b3JlQXR0cihlbCwgbmFtZSkge1xuICB2YXIga2V5ID0gXCJvcmlnaW5hbF9cIi5jb25jYXQobmFtZSk7XG4gIGVsLnNldEF0dHJpYnV0ZShuYW1lLCBlbFtrZXldKTtcbn0gLy8gc291cmNlOiBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS9cblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgcmV0dXJuIGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG4gIH1cbn0gLy8gc291cmNlOiBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS9cblxuZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICBpZiAoIWhhc0NsYXNzKGVsLCBjbGFzc05hbWUpKSB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgfVxufSAvLyBzb3VyY2U6IGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tL1xuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgfVxufSAvLyBUT0RPIHJlbmFtZSB0byBnZXRFbFNpemVFdmVuSW52aXNpYmxlIGluIG5leHQgdmVyc2lvblxuXG5mdW5jdGlvbiBnZXRFbFNpemUoZWwpIHtcbiAgYmFja3VwQXR0cihlbCwgJ3N0eWxlJyk7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB2YXIgdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG4gIHZhciBzaXplID0ge1xuICAgIHdpZHRoOiB0LndpZHRoLFxuICAgIGhlaWdodDogdC5oZWlnaHRcbiAgfTtcbiAgcmVzdG9yZUF0dHIoZWwsICdzdHlsZScpO1xuICByZXR1cm4gc2l6ZTtcbn1cbnZhciBnZXRFbFNpemVFdmVuSW52aXNpYmxlID0gZ2V0RWxTaXplO1xuLyoqXG4gKiBbaXNPZmZzZXRJbkVsXVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcGFyYW0ge09iamVjdH0gZWwgSFRNTCBFbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gaXNPZmZzZXRJbkVsKHgsIHksIGVsKSB7XG4gIHZhciBvZmZzZXQgPSBnZXRPZmZzZXQoZWwpO1xuICByZXR1cm4gb2Zmc2V0LnggPD0geCAmJiBvZmZzZXQueCArIGVsLm9mZnNldFdpZHRoID49IHggJiYgb2Zmc2V0LnkgPD0geSAmJiBvZmZzZXQueSArIGVsLm9mZnNldEhlaWdodCA+PSB5O1xufSAvLyBnZXQgYm9yZGVyXG5cbmZ1bmN0aW9uIGdldEJvcmRlcihlbCkge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciB3b3JrQXJlYSA9IGZpbmRQYXJlbnQoZWwsIGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIGhhc0NsYXNzKHYsICd3b3JrLWFyZWEnKTtcbiAgfSk7XG4gIHZhciBvZiA9IGdldE9mZnNldCh3b3JrQXJlYSk7XG4gIHJldHVybiB7XG4gICAgbGVmdDogb2YueCxcbiAgICByaWdodDogb2YueCArIHdvcmtBcmVhLm9mZnNldFdpZHRoLFxuICAgIHRvcDogb2YueSArIDUwLFxuICAgIGJvdHRvbTogYm9keS5vZmZzZXRIZWlnaHQgPCBnbGIoKS5pbm5lckhlaWdodCA/IGdsYigpLmlubmVySGVpZ2h0IDogYm9keS5vZmZzZXRIZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIHNldEVsQ2hpbGRCeUluZGV4KGVsLCBpbmRleCwgY2hpbGQpIHtcbiAgY2hpbGQuY2hpbGRDb21wb25lbnRJbmRleCA9IGluZGV4O1xuICB2YXIgbGVuID0gZWwuY2hpbGROb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIGVsLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgfSBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xuICAgIGVsLmluc2VydEJlZm9yZShjaGlsZCwgZWwuY2hpbGROb2Rlc1swXSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9iaW5hcnlTZWFyY2ggPSBiaW5hcnlTZWFyY2goZWwuY2hpbGROb2RlcywgZnVuY3Rpb24gKGVsKSB7XG4gICAgICByZXR1cm4gZWwuY2hpbGRDb21wb25lbnRJbmRleCAtIGluZGV4O1xuICAgIH0sIDAsIG1heChpbmRleCwgbGVuIC0gMSksIHRydWUpLFxuICAgICAgICBuZWFyZXN0SW5kZXggPSBfYmluYXJ5U2VhcmNoLmluZGV4LFxuICAgICAgICBuZWFyZXN0ID0gX2JpbmFyeVNlYXJjaC52YWx1ZSxcbiAgICAgICAgYmlnZ2VyID0gX2JpbmFyeVNlYXJjaC5iaWdnZXI7XG5cbiAgICBpZiAoYmlnZ2VyKSB7XG4gICAgICBlbC5pbnNlcnRCZWZvcmUoY2hpbGQsIG5lYXJlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbmV4dCA9IGVsLmNoaWxkTm9kZXNbbmVhcmVzdEluZGV4ICsgMV07XG5cbiAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgIGVsLmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59IC8vIGZyb20gaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMwMTAwMDQzL2FydGljbGUvZGV0YWlscy83NDcxOTUzNFxuXG5mdW5jdGlvbiBnZXRDc3MzUHJlZml4KCkge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBpZiAob3B0Lm5vQ2FjaGUgfHwgc3RvcmUuY3NzM1ByZWZpeCA9PSBudWxsKSB7XG4gICAgc3RvcmUuY3NzM1ByZWZpeCA9IHJlZ2V0KCk7XG4gIH1cblxuICByZXR1cm4gc3RvcmUuY3NzM1ByZWZpeDtcblxuICBmdW5jdGlvbiByZWdldCgpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGNzc1RleHQgPSAnLXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuMXM7IC1tb3otdHJhbnNpdGlvbjphbGwgLjFzOyAtby10cmFuc2l0aW9uOmFsbCAuMXM7IC1tcy10cmFuc2l0aW9uOmFsbCAuMXM7IHRyYW5zaXRpb246YWxsIC4xczsnO1xuICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gY3NzVGV4dDtcbiAgICB2YXIgc3R5bGUgPSBkaXYuc3R5bGU7XG5cbiAgICBpZiAoc3R5bGUud2Via2l0VHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuICctd2Via2l0LSc7XG4gICAgfVxuXG4gICAgaWYgKHN0eWxlLk1velRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiAnLW1vei0nO1xuICAgIH1cblxuICAgIGlmIChzdHlsZS5vVHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuICctby0nO1xuICAgIH1cblxuICAgIGlmIChzdHlsZS5tc1RyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiAnLW1zLSc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59IC8vIGRvbSBldmVudFxuXG5mdW5jdGlvbiBvbkRPTShlbCwgbmFtZSwgaGFuZGxlcikge1xuICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjYgPiAzID8gX2xlbjYgLSAzIDogMCksIF9rZXk4ID0gMzsgX2tleTggPCBfbGVuNjsgX2tleTgrKykge1xuICAgIGFyZ3NbX2tleTggLSAzXSA9IGFyZ3VtZW50c1tfa2V5OF07XG4gIH1cblxuICBpZiAoZWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIC8vIOaJgOacieS4u+a1gea1j+iniOWZqO+8jOmZpOS6hiBJRSA4IOWPiuabtOaXqSBJReeJiOacrFxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIuYXBwbHkoZWwsIFtuYW1lLCBoYW5kbGVyXS5jb25jYXQoYXJncykpO1xuICB9IGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KSB7XG4gICAgLy8gSUUgOCDlj4rmm7Tml6kgSUUg54mI5pysXG4gICAgZWwuYXR0YWNoRXZlbnQuYXBwbHkoZWwsIFtcIm9uXCIuY29uY2F0KG5hbWUpLCBoYW5kbGVyXS5jb25jYXQoYXJncykpO1xuICB9XG59XG5mdW5jdGlvbiBvZmZET00oZWwsIG5hbWUsIGhhbmRsZXIpIHtcbiAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43ID4gMyA/IF9sZW43IC0gMyA6IDApLCBfa2V5OSA9IDM7IF9rZXk5IDwgX2xlbjc7IF9rZXk5KyspIHtcbiAgICBhcmdzW19rZXk5IC0gM10gPSBhcmd1bWVudHNbX2tleTldO1xuICB9XG5cbiAgaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAvLyDmiYDmnInkuLvmtYHmtY/op4jlmajvvIzpmaTkuoYgSUUgOCDlj4rmm7Tml6kgSUXniYjmnKxcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyLmFwcGx5KGVsLCBbbmFtZSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTtcbiAgfSBlbHNlIGlmIChlbC5kZXRhY2hFdmVudCkge1xuICAgIC8vIElFIDgg5Y+K5pu05pepIElFIOeJiOacrFxuICAgIGVsLmRldGFjaEV2ZW50LmFwcGx5KGVsLCBbXCJvblwiLmNvbmNhdChuYW1lKSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTtcbiAgfVxufVxuZnVuY3Rpb24gb25ET01NYW55KGVscywgbmFtZXMsIGhhbmRsZXIpIHtcbiAgZWxzID0gdG9BcnJheUlmTm90KGVscyk7XG4gIG5hbWVzID0gdG9BcnJheUlmTm90KG5hbWVzKTtcblxuICBmb3IgKHZhciBfbGVuOCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjggPiAzID8gX2xlbjggLSAzIDogMCksIF9rZXkxMCA9IDM7IF9rZXkxMCA8IF9sZW44OyBfa2V5MTArKykge1xuICAgIGFyZ3NbX2tleTEwIC0gM10gPSBhcmd1bWVudHNbX2tleTEwXTtcbiAgfVxuXG4gIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGVscyksXG4gICAgICBfc3RlcDEwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IxMC5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBlbCA9IF9zdGVwMTAudmFsdWU7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IxMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5hbWVzKSxcbiAgICAgICAgICBfc3RlcDEzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDEzID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBuYW1lID0gX3N0ZXAxMy52YWx1ZTtcbiAgICAgICAgICBvbkRPTS5hcHBseSh2b2lkIDAsIFtlbCwgbmFtZSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjEzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjEzLmYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjEwLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IxMC5mKCk7XG4gIH1cblxuICB2YXIgZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgdmFyIF9pdGVyYXRvcjExID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWxzKSxcbiAgICAgICAgX3N0ZXAxMTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvcjExLnMoKTsgIShfc3RlcDExID0gX2l0ZXJhdG9yMTEubigpKS5kb25lOykge1xuICAgICAgICB2YXIgZWwgPSBfc3RlcDExLnZhbHVlO1xuXG4gICAgICAgIHZhciBfaXRlcmF0b3IxMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5hbWVzKSxcbiAgICAgICAgICAgIF9zdGVwMTI7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEyLnMoKTsgIShfc3RlcDEyID0gX2l0ZXJhdG9yMTIubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcDEyLnZhbHVlO1xuICAgICAgICAgICAgb2ZmRE9NKGVsLCBuYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IxMi5mKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvcjExLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yMTEuZigpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZGVzdHJveTtcbn1cbmZ1bmN0aW9uIGdldEltYWdlU2l6ZUJ5VXJsKHVybCkge1xuICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBvbkRPTShpbWFnZSwgJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgd2lkdGg6IGltYWdlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgb25ET00oaW1hZ2UsICdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSk7XG4gICAgaW1hZ2Uuc3JjID0gdXJsO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbmROb2RlTGlzdChsaXN0LCBjYWxsYmFjaykge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0ZUFsbChsaXN0LCB7XG4gICAgcmV2ZXJzZTogb3B0LnJldmVyc2VcbiAgfSk7XG5cbiAgdmFyIF9pdGVyYXRvcjE0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlcmF0b3IpLFxuICAgICAgX3N0ZXAxNDtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yMTQucygpOyAhKF9zdGVwMTQgPSBfaXRlcmF0b3IxNC5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgX3N0ZXAxNCR2YWx1ZSA9IF9zdGVwMTQudmFsdWUsXG4gICAgICAgICAgdmFsdWUgPSBfc3RlcDE0JHZhbHVlLnZhbHVlLFxuICAgICAgICAgIGluZGV4ID0gX3N0ZXAxNCR2YWx1ZS5pbmRleDtcblxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yMTQuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjE0LmYoKTtcbiAgfVxufVxuZnVuY3Rpb24gZmluZE5vZGVMaXN0UmV2ZXJzZShsaXN0LCBjYWxsYmFjaykge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgb3B0LnJldmVyc2UgPSB0cnVlO1xuICByZXR1cm4gZmluZE5vZGVMaXN0KGxpc3QsIGNhbGxiYWNrLCBvcHQpO1xufVxuZnVuY3Rpb24gZWxlbWVudHNGcm9tUG9pbnQoKSB7XG4gIHZhciBmdW5jID0gZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQgfHwgZG9jdW1lbnQubXNFbGVtZW50c0Zyb21Qb2ludCB8fCBlbGVtZW50c0Zyb21Qb2ludDtcblxuICBmb3IgKHZhciBfbGVuOSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjkpLCBfa2V5MTEgPSAwOyBfa2V5MTEgPCBfbGVuOTsgX2tleTExKyspIHtcbiAgICBhcmdzW19rZXkxMV0gPSBhcmd1bWVudHNbX2tleTExXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jLmFwcGx5KGRvY3VtZW50LCBhcmdzKTtcblxuICBmdW5jdGlvbiBlbGVtZW50c0Zyb21Qb2ludCh4LCB5KSB7XG4gICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICB2YXIgcGFyZW50ID0gdm9pZCAwO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKHBhcmVudCAhPT0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSkge1xuICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgICAgcGFyZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChwYXJlbnQpO1xuXG4gICAgcGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgIHJldHVybiBwYXJlbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJlbnRzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRPdXRlckF0dGFjaGVkSGVpZ2h0KGVsKSB7XG4gIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBvcHQgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICBtYXJnaW46IHRydWUsXG4gICAgYm9yZGVyOiB0cnVlXG4gIH0sIG9wdCk7XG4gIHZhciBzdGwgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgdmFyIHIgPSAwO1xuICB2YXIgYXJyID0gW107XG5cbiAgaWYgKG9wdC5tYXJnaW4pIHtcbiAgICBhcnIucHVzaCgnbWFyZ2luLXRvcCcsICdtYXJnaW4tYm90dG9tJyk7XG4gIH1cblxuICBpZiAob3B0LmJvcmRlcikge1xuICAgIGFyci5wdXNoKCdib3JkZXItdG9wLXdpZHRoJywgJ2JvcmRlci1ib3R0b20td2lkdGgnKTtcbiAgfVxuXG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByICs9IHBhcnNlRmxvYXQoc3RsW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBnZXRPdXRlckF0dGFjaGVkV2lkdGgoZWwpIHtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIG9wdCA9IF9vYmplY3RTcHJlYWQoe1xuICAgIG1hcmdpbjogdHJ1ZSxcbiAgICBib3JkZXI6IHRydWVcbiAgfSwgb3B0KTtcbiAgdmFyIHN0bCA9IGdldENvbXB1dGVkU3R5bGUoZWwpO1xuICB2YXIgciA9IDA7XG4gIHZhciBhcnIgPSBbXTtcblxuICBpZiAob3B0Lm1hcmdpbikge1xuICAgIGFyci5wdXNoKCdtYXJnaW4tbGVmdCcsICdtYXJnaW4tcmlnaHQnKTtcbiAgfVxuXG4gIGlmIChvcHQuYm9yZGVyKSB7XG4gICAgYXJyLnB1c2goJ2JvcmRlci1sZWZ0LXdpZHRoJywgJ2JvcmRlci1yaWdodC13aWR0aCcpO1xuICB9XG5cbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHIgKz0gcGFyc2VGbG9hdChzdGxba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gcjtcbn0gLy8gRE9NIHN0cnVjdHVyZVxuXG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoZWwsIHRhcmdldCkge1xuICB0YXJnZXQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWwsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBpbnNlcnRBZnRlcihlbCwgdGFyZ2V0KSB7XG4gIHRhcmdldC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlbCwgdGFyZ2V0Lm5leHRTaWJsaW5nKTtcbn1cbmZ1bmN0aW9uIHByZXBlbmRUbyhlbCwgdGFyZ2V0KSB7XG4gIHRhcmdldC5pbnNlcnRCZWZvcmUoZWwsIHRhcmdldC5maXJzdENoaWxkKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZFRvKGVsLCB0YXJnZXQpIHtcbiAgdGFyZ2V0LmFwcGVuZENoaWxkKGVsKTtcbn0gLy8gRGF0ZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBjbG9uZURhdGUoZGF0ZU9iaikge1xuICByZXR1cm4gbmV3IERhdGUoZGF0ZU9iai5nZXRUaW1lKCkpO1xufVxuZnVuY3Rpb24gYWRkRGF0ZShkYXRlT2JqLCBuLCB0eXBlKSB7XG4gIGlmICghWyd5ZWFyJywgJ21vbnRoJywgJ2RheScsICdkYXRlJ10uaW5jbHVkZXModHlwZSkpIHtcbiAgICB0eXBlICs9ICdzJztcbiAgfVxuXG4gIHR5cGUgPSBzdHVkbHlDYXNlKHR5cGUpO1xuXG4gIGlmICh0eXBlID09PSAnRGF5Jykge1xuICAgIHR5cGUgPSAnRGF0ZSc7XG4gIH1cblxuICB2YXIgc2V0RnVuY05hbWUgPSAnc2V0JyArIHR5cGU7XG4gIHZhciBnZXRGdW5jTmFtZSA9ICdnZXQnICsgdHlwZTtcbiAgZGF0ZU9ialtzZXRGdW5jTmFtZV0oZGF0ZU9ialtnZXRGdW5jTmFtZV0oKSArIG4pO1xuICByZXR1cm4gZGF0ZU9iajtcbn1cbmZ1bmN0aW9uIGdldE1vbnRoU3RhcnQoZGF0ZU9iaikge1xuICB2YXIgY2xvbmVkT2JqID0gY2xvbmVEYXRlKGRhdGVPYmopO1xuICBjbG9uZWRPYmouc2V0RGF0ZSgxKTtcbiAgcmV0dXJuIGNsb25lZE9iajtcbn1cbmZ1bmN0aW9uIGdldE1vbnRoRW5kKGRhdGVPYmopIHtcbiAgdmFyIHIgPSBjbG9uZURhdGUoZGF0ZU9iaik7XG4gIGFkZERhdGUociwgMSwgJ21vbnRoJyk7XG4gIHIuc2V0RGF0ZSgwKTtcbiAgcmV0dXJuIHI7XG59XG4vKipcbiAqIFtnZXRDYWxlbmRhciBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0geWVhciAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gbW9udGggICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge051bWJlcn0gW3N0YXJ0V2Vla0RheT0wXSBbMCBpcyBzdW5kYXldXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXIoeWVhciwgbW9udGgpIHtcbiAgdmFyIHN0YXJ0V2Vla0RheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMDtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEpO1xuICB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gIHZhciBtb250aFN0YXJ0ID0gZ2V0TW9udGhTdGFydChkYXRlKTtcbiAgdmFyIG1vbnRoU3RhcnREYXkgPSBtb250aFN0YXJ0LmdldERheSgpO1xuICB2YXIgY2FsZW5kYXJTdGFydCA9IGFkZERhdGUoY2xvbmVEYXRlKG1vbnRoU3RhcnQpLCAtKG1vbnRoU3RhcnREYXkgKyBzdGFydFdlZWtEYXkpLCAnZGF5Jyk7XG5cbiAgaWYgKG1vbnRoU3RhcnREYXkgPiBzdGFydFdlZWtEYXkpIHtcbiAgICB2YXIgc3RhcnREYXRlID0gY2FsZW5kYXJTdGFydC5nZXREYXRlKCk7XG5cbiAgICB2YXIgX3llYXIgPSBjYWxlbmRhclN0YXJ0LmdldEZ1bGxZZWFyKCk7XG5cbiAgICB2YXIgX21vbnRoID0gY2FsZW5kYXJTdGFydC5nZXRNb250aCgpICsgMTtcblxuICAgIGZvciAodmFyIGkgPSBzdGFydFdlZWtEYXk7IGkgPCBtb250aFN0YXJ0RGF5OyBpKyspIHtcbiAgICAgIHZhciBfZGF0ZSA9IHN0YXJ0RGF0ZSArIGk7XG5cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIHllYXI6IF95ZWFyLFxuICAgICAgICBtb250aDogX21vbnRoLFxuICAgICAgICBkYXRlOiBfZGF0ZSxcbiAgICAgICAgdGV4dDogX2RhdGUsXG4gICAgICAgIHByZXZNb250aDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9IC8vXG5cblxuICB2YXIgbW9udGhFbmQgPSBnZXRNb250aEVuZChkYXRlKTtcbiAgdmFyIG1vbnRoRW5kdERhdGUgPSBtb250aEVuZC5nZXREYXRlKCk7XG5cbiAgZm9yICh2YXIgX2kxMSA9IDE7IF9pMTEgPD0gbW9udGhFbmR0RGF0ZTsgX2kxMSsrKSB7XG4gICAgdmFyIF9kYXRlMiA9IF9pMTE7XG4gICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgIHllYXI6IHllYXIsXG4gICAgICBtb250aDogbW9udGgsXG4gICAgICBkYXRlOiBfZGF0ZTIsXG4gICAgICB0ZXh0OiBfZGF0ZTIsXG4gICAgICBjdXJyZW50TW9udGg6IHRydWVcbiAgICB9KTtcbiAgfSAvL1xuXG5cbiAgdmFyIG1vbnRoRW5kRGF5ID0gbW9udGhFbmQuZ2V0RGF5KCk7XG4gIHZhciBlbmRXZWVrRGF5ID0gNiAtIHN0YXJ0V2Vla0RheTtcblxuICBpZiAobW9udGhFbmREYXkgPCBlbmRXZWVrRGF5KSB7XG4gICAgdmFyIG5leHRNb250aCA9IGFkZERhdGUoY2xvbmVEYXRlKGRhdGUpLCAxLCAnbW9udGgnKTtcblxuICAgIHZhciBfeWVhcjIgPSBuZXh0TW9udGguZ2V0RnVsbFllYXIoKTtcblxuICAgIHZhciBfbW9udGgyID0gbmV4dE1vbnRoLmdldE1vbnRoKCkgKyAxO1xuXG4gICAgZm9yICh2YXIgX2kxMiA9IG1vbnRoRW5kRGF5ICsgMSwgX2RhdGUzID0gMTsgX2kxMiA8PSBlbmRXZWVrRGF5OyBfaTEyKyssIF9kYXRlMysrKSB7XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICB5ZWFyOiBfeWVhcjIsXG4gICAgICAgIG1vbnRoOiBfbW9udGgyLFxuICAgICAgICBkYXRlOiBfZGF0ZTMsXG4gICAgICAgIHRleHQ6IF9kYXRlMyxcbiAgICAgICAgbmV4dE1vbnRoOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gLy9cblxuXG4gIHJldHVybiBzcGxpdEFycmF5KHJlc3VsdHMsIDcpO1xufSAvLyBlZzogMjAxOC0wOS0wN1QwMzozODozNy44ODhaXG4vLyB0aW1lem9uZSBtdXN0IGJlIFVUQ1xuXG5mdW5jdGlvbiBpc0lzb0Zvcm1hdChzdHIpIHtcbiAgcmV0dXJuIHN0ci5sZW5ndGggPiAxNSAmJiBzdHIubGVuZ3RoIDwgMzAgJiYgc3RyLm1hdGNoKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1ULipaJC8pO1xufSAvLyB0aW1lc3RhbXAgZWc6IDIwMTgtMDktMDdUMDM6Mzg6MzcuODg4WlxuXG5mdW5jdGlvbiBwYXJzZUlTTyh0aW1lc3RhbXApIHtcbiAgdmFyIF90aW1lc3RhbXAkc3BsaXQgPSB0aW1lc3RhbXAuc3BsaXQoJ1QnKSxcbiAgICAgIF90aW1lc3RhbXAkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3RpbWVzdGFtcCRzcGxpdCwgMiksXG4gICAgICBkYXRlUGFydCA9IF90aW1lc3RhbXAkc3BsaXQyWzBdLFxuICAgICAgdGltZVBhcnQgPSBfdGltZXN0YW1wJHNwbGl0MlsxXTtcblxuICB2YXIgeSxcbiAgICAgIG0sXG4gICAgICBkLFxuICAgICAgaCA9IDAsXG4gICAgICBtaW4gPSAwLFxuICAgICAgcyA9IDA7XG5cbiAgdmFyIF9kYXRlUGFydCRzcGxpdCRtYXAgPSBkYXRlUGFydC5zcGxpdCgnLScpLm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBwYXJzZUludCh2KTtcbiAgfSk7XG5cbiAgdmFyIF9kYXRlUGFydCRzcGxpdCRtYXAyID0gX3NsaWNlZFRvQXJyYXkoX2RhdGVQYXJ0JHNwbGl0JG1hcCwgMyk7XG5cbiAgeSA9IF9kYXRlUGFydCRzcGxpdCRtYXAyWzBdO1xuICBtID0gX2RhdGVQYXJ0JHNwbGl0JG1hcDJbMV07XG4gIGQgPSBfZGF0ZVBhcnQkc3BsaXQkbWFwMlsyXTtcbiAgbSA9IG0gLSAxO1xuXG4gIGlmICh0aW1lUGFydCkge1xuICAgIHZhciB0ID0gdGltZVBhcnQuc3BsaXQoJy0nKS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHYpO1xuICAgIH0pO1xuICAgIGggPSB0WzBdO1xuXG4gICAgaWYgKHRbMV0gIT0gbnVsbCkge1xuICAgICAgbWluID0gdFsxXTtcbiAgICB9XG5cbiAgICBpZiAodFsyXSAhPSBudWxsKSB7XG4gICAgICBzID0gdFsyXTtcbiAgICB9XG4gIH1cblxuICB2YXIgZHQgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBtaW4sIHMpOyAvLyB0aGUgZHQgdGltZXpvbmUgaXMgY3VycmVudCwgc28gcmVzZXQgaG91ciB3aXRoIHNldFVUQ0hvdXJzXG5cbiAgZHQuc2V0VVRDSG91cnMoaCk7XG4gIHJldHVybiBkdDtcbn0gLy8gYWR2YW5jZSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIGJpbmFyeVNlYXJjaCDkuozliIbmn6Xmib5cbi8vIGNhbGxiYWNrKG1pZCwgaSkgc2hvdWxkIHJldHVybiBtaWQgLSB5b3VyX3ZhbHVlXG5cbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChhcnIsIGNhbGxiYWNrLCBzdGFydCwgZW5kLCByZXR1cm5OZWFyZXN0SWZOb0hpdCkge1xuICB2YXIgbWF4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAxMDAwO1xuICB2YXIgbWlkTnVtO1xuICB2YXIgbWlkO1xuXG4gIGlmIChzdGFydCA9PSBudWxsKSB7XG4gICAgc3RhcnQgPSAwO1xuICAgIGVuZCA9IGFyci5sZW5ndGggLSAxO1xuICB9XG5cbiAgdmFyIGkgPSAwO1xuICB2YXIgcjtcblxuICB3aGlsZSAoc3RhcnQgPj0gMCAmJiBzdGFydCA8PSBlbmQpIHtcbiAgICBpZiAoaSA+PSBtYXgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiYmluYXJ5U2VhcmNoOiBsb29wIHRpbWVzIGlzIG92ZXIgXCIuY29uY2F0KG1heCwgXCIsIHlvdSBjYW4gaW5jcmVhc2UgdGhlIGxpbWl0LlwiKSk7XG4gICAgfVxuXG4gICAgbWlkTnVtID0gTWF0aC5mbG9vcigoZW5kIC0gc3RhcnQpIC8gMiArIHN0YXJ0KTtcbiAgICBtaWQgPSBhcnJbbWlkTnVtXTtcbiAgICByID0gY2FsbGJhY2sobWlkLCBpKTtcblxuICAgIGlmIChyID4gMCkge1xuICAgICAgZW5kID0gbWlkTnVtIC0gMTtcbiAgICB9IGVsc2UgaWYgKHIgPCAwKSB7XG4gICAgICBzdGFydCA9IG1pZE51bSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4OiBtaWROdW0sXG4gICAgICAgIHZhbHVlOiBtaWQsXG4gICAgICAgIGNvdW50OiBpICsgMSxcbiAgICAgICAgaGl0OiB0cnVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiByZXR1cm5OZWFyZXN0SWZOb0hpdCA/IHtcbiAgICBpbmRleDogbWlkTnVtLFxuICAgIHZhbHVlOiBtaWQsXG4gICAgY291bnQ6IGkgKyAxLFxuICAgIGhpdDogZmFsc2UsXG4gICAgYmlnZ2VyOiByID4gMFxuICB9IDogbnVsbDtcbn0gLy9cblxuZnVuY3Rpb24gd2luZG93TG9hZGVkKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsYigpLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiBvbmNlKCkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIGdsYigpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbmNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB3YWl0VGltZShtaWxsaXNlY29uZHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0sIG1pbGxpc2Vjb25kcyk7XG4gIH0pO1xufSAvLyBvdmVybG9hZCB3YWl0Rm9yKGNvbmRpdGlvbiwgdGltZSA9IDEwMCwgbWF4Q291bnQgPSAxMDAwKSlcblxuZnVuY3Rpb24gd2FpdEZvcihuYW1lLCBjb25kaXRpb24pIHtcbiAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDtcbiAgdmFyIG1heENvdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxMDAwO1xuXG4gIGlmIChpc0Z1bmN0aW9uKG5hbWUpKSB7XG4gICAgbWF4Q291bnQgPSB0aW1lO1xuICAgIHRpbWUgPSBpc051bWVyaWMoY29uZGl0aW9uKSA/IGNvbmRpdGlvbiA6IDEwMDtcbiAgICBjb25kaXRpb24gPSBuYW1lO1xuICAgIG5hbWUgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFzdG9yZS53YWl0Rm9yKSBzdG9yZS53YWl0Rm9yID0ge307XG4gIHZhciB3YWl0cyA9IHN0b3JlLndhaXRGb3I7XG5cbiAgaWYgKG5hbWUgJiYgaXNzZXQod2FpdHNbbmFtZV0pKSB7XG4gICAgZ2xiKCkuY2xlYXJJbnRlcnZhbCh3YWl0c1tuYW1lXSk7XG4gICAgZGVsZXRlIHdhaXRzW25hbWVdO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgZnVuY3Rpb24ganVkZ2UoaW50ZXJ2YWwpIHtcbiAgICAgIGlmIChjb3VudCA8PSBtYXhDb3VudCkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICBzdG9wKGludGVydmFsLCBuYW1lKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3AoaW50ZXJ2YWwsIG5hbWUpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCd3YWl0Rm9yOiBMaW1pdCBpcyByZWFjaGVkJykpO1xuICAgICAgfVxuXG4gICAgICBjb3VudCsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3AoaW50ZXJ2YWwsIG5hbWUpIHtcbiAgICAgIGlmIChpbnRlcnZhbCkge1xuICAgICAgICBpZiAobmFtZSAmJiBpc3NldCh3YWl0c1tuYW1lXSkpIHtcbiAgICAgICAgICBnbGIoKS5jbGVhckludGVydmFsKHdhaXRzW25hbWVdKTtcbiAgICAgICAgICBkZWxldGUgd2FpdHNbbmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ2xiKCkuY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW50ZXJ2YWwgPSBnbGIoKS5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBqdWRnZShpbnRlcnZhbCk7XG4gICAgfSwgdGltZSk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgd2FpdHNbbmFtZV0gPSBpbnRlcnZhbDtcbiAgICB9XG5cbiAgICBqdWRnZSgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJldHJ5KGZ1bmMpIHtcbiAgdmFyIGxpbWl0VGltZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDM7XG4gIGlmICghc3RvcmUucmV0cnkpIHN0b3JlLnJldHJ5ID0ge307XG4gIHZhciBjb3VudGVycyA9IHJldHJ5O1xuICB2YXIgbmFtZSA9IGdlbmVyYXRlTmFtZSgpO1xuICBjb3VudGVyc1tuYW1lXSA9IDA7XG4gIHJldHVybiBkb0Z1bmM7XG5cbiAgZnVuY3Rpb24gZG9GdW5jKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICByZXR1cm4gZnVuYyhhcmcxLCBhcmcyLCBhcmczKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBkZWxldGUgY291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgY291bnRlcnNbbmFtZV0rKztcblxuICAgICAgaWYgKGNvdW50ZXJzW25hbWVdID49IGxpbWl0VGltZXMpIHtcbiAgICAgICAgZGVsZXRlIGNvdW50ZXJzW25hbWVdO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZG9GdW5jKGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVOYW1lKCkge1xuICAgIHZhciBuYW1lID0gTWF0aC5yYW5kb20oKSArICcnO1xuXG4gICAgaWYgKGNvdW50ZXJzW25hbWVdKSB7XG4gICAgICByZXR1cm4gZ2VuZXJhdGVOYW1lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgfVxufSAvLyDlpI3liLbmloflrZfliLDliarotLTmnb9cblxuZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgLy8gdXNlIGxhdGVzdCBhcGlcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICByZXR1cm47XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTsgLy9cbiAgLy8gKioqIFRoaXMgc3R5bGluZyBpcyBhbiBleHRyYSBzdGVwIHdoaWNoIGlzIGxpa2VseSBub3QgcmVxdWlyZWQuICoqKlxuICAvL1xuICAvLyBXaHkgaXMgaXQgaGVyZT8gVG8gZW5zdXJlOlxuICAvLyAxLiB0aGUgZWxlbWVudCBpcyBhYmxlIHRvIGhhdmUgZm9jdXMgYW5kIHNlbGVjdGlvbi5cbiAgLy8gMi4gaWYgZWxlbWVudCB3YXMgdG8gZmxhc2ggcmVuZGVyIGl0IGhhcyBtaW5pbWFsIHZpc3VhbCBpbXBhY3QuXG4gIC8vIDMuIGxlc3MgZmxha3luZXNzIHdpdGggc2VsZWN0aW9uIGFuZCBjb3B5aW5nIHdoaWNoICoqbWlnaHQqKiBvY2N1ciBpZlxuICAvLyAgICB0aGUgdGV4dGFyZWEgZWxlbWVudCBpcyBub3QgdmlzaWJsZS5cbiAgLy9cbiAgLy8gVGhlIGxpa2VsaWhvb2QgaXMgdGhlIGVsZW1lbnQgd29uJ3QgZXZlbiByZW5kZXIsIG5vdCBldmVuIGEgZmxhc2gsXG4gIC8vIHNvIHNvbWUgb2YgdGhlc2UgYXJlIGp1c3QgcHJlY2F1dGlvbnMuIEhvd2V2ZXIgaW4gSUUgdGhlIGVsZW1lbnRcbiAgLy8gaXMgdmlzaWJsZSB3aGlsc3QgdGhlIHBvcHVwIGJveCBhc2tpbmcgdGhlIHVzZXIgZm9yIHBlcm1pc3Npb24gZm9yXG4gIC8vIHRoZSB3ZWIgcGFnZSB0byBjb3B5IHRvIHRoZSBjbGlwYm9hcmQuXG4gIC8vXG4gIC8vIFBsYWNlIGluIHRvcC1sZWZ0IGNvcm5lciBvZiBzY3JlZW4gcmVnYXJkbGVzcyBvZiBzY3JvbGwgcG9zaXRpb24uXG5cbiAgdGV4dEFyZWEuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICB0ZXh0QXJlYS5zdHlsZS50b3AgPSAwO1xuICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gMDsgLy8gRW5zdXJlIGl0IGhhcyBhIHNtYWxsIHdpZHRoIGFuZCBoZWlnaHQuIFNldHRpbmcgdG8gMXB4IC8gMWVtXG4gIC8vIGRvZXNuJ3Qgd29yayBhcyB0aGlzIGdpdmVzIGEgbmVnYXRpdmUgdy9oIG9uIHNvbWUgYnJvd3NlcnMuXG5cbiAgdGV4dEFyZWEuc3R5bGUud2lkdGggPSAnMmVtJztcbiAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gJzJlbSc7IC8vIFdlIGRvbid0IG5lZWQgcGFkZGluZywgcmVkdWNpbmcgdGhlIHNpemUgaWYgaXQgZG9lcyBmbGFzaCByZW5kZXIuXG5cbiAgdGV4dEFyZWEuc3R5bGUucGFkZGluZyA9IDA7IC8vIENsZWFuIHVwIGFueSBib3JkZXJzLlxuXG4gIHRleHRBcmVhLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnOyAvLyBBdm9pZCBmbGFzaCBvZiB3aGl0ZSBib3ggaWYgcmVuZGVyZWQgZm9yIGFueSByZWFzb24uXG5cbiAgdGV4dEFyZWEuc3R5bGUuYmFja2dyb3VuZCA9ICd0cmFuc3BhcmVudCc7XG4gIHRleHRBcmVhLnZhbHVlID0gdGV4dDtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XG4gIHRleHRBcmVhLnNlbGVjdCgpO1xuXG4gIHRyeSB7XG4gICAgdmFyIHN1Y2Nlc3NmdWwgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgIHZhciBtc2cgPSBzdWNjZXNzZnVsID8gJ3N1Y2Nlc3NmdWwnIDogJ3Vuc3VjY2Vzc2Z1bCc7XG4gICAgY29uc29sZS5sb2coJ0NvcHlpbmcgdGV4dCBjb21tYW5kIHdhcyAnICsgbXNnKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ09vcHMsIHVuYWJsZSB0byBjb3B5Jyk7XG4gIH1cblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRleHRBcmVhKTtcbn1cbmZ1bmN0aW9uIGlzV2luZG93RGVmaW5lZCgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93ICYmIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc05vZGUoKSB7XG4gIHJldHVybiBCb29sZWFuKHR5cGVvZiBnbGIoKS5tb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIGdsYigpLm1vZHVsZS5leHBvcnRzKTtcbn1cbmZ1bmN0aW9uIGlzSUUoKSB7XG4gIHJldHVybiBCb29sZWFuKHdpbmRvdy5BY3RpdmVYT2JqZWN0IHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdyk7XG59IC8vIGpxdWVyeVxuXG5mdW5jdGlvbiBqcUZpeGVkU2l6ZShzZWwpIHtcbiAgdmFyICQgPSBnbGIoKS5qUXVlcnk7XG4gICQoc2VsKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdCA9ICQodGhpcyk7XG4gICAgdC5jc3Moe1xuICAgICAgd2lkdGg6IHQud2lkdGgoKSArICdweCcsXG4gICAgICBoZWlnaHQ6IHQuaGVpZ2h0KCkgKyAncHgnXG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24ganFNYWtlQ2Fyb3VzZWwod3JhcHBlclNlbCwgbGlzdFNlbCwgaXRlbVNlbCkge1xuICB2YXIgc3BlZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IDEwMDA7XG4gIHZhciBzcGFjZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogMTY7XG4gIHZhciBkaXIgPSBhcmd1bWVudHMubGVuZ3RoID4gNSAmJiBhcmd1bWVudHNbNV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s1XSA6ICdsZWZ0JztcbiAgdmFyIHRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIGFyZ3VtZW50c1s2XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzZdIDogMDtcblxuICBpZiAoc3BhY2UudG9TdHJpbmcoKS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICBzcGFjZSA9IHNwYWNlICsgJ3B4JztcbiAgfVxuXG4gIHZhciBzcGFjZU51bWJlciA9IHBhcnNlRmxvYXQoc3BhY2UpO1xuICB2YXIgJCA9IGdsYigpLmpRdWVyeTtcbiAgdmFyIHdyYXBwZXIgPSAkKHdyYXBwZXJTZWwpO1xuICB2YXIgbGlzdCA9IHdyYXBwZXIuZmluZChsaXN0U2VsKTtcbiAgd3JhcHBlci5jc3Moe1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIGhlaWdodDogd3JhcHBlci5oZWlnaHQoKSArICdweCdcbiAgfSk7XG4gIHZhciBpdGVtczAgPSBsaXN0LmZpbmQoaXRlbVNlbCk7XG4gIGl0ZW1zMC5jc3Moe1xuICAgIG1hcmdpbjogJzAnLFxuICAgIG1hcmdpblJpZ2h0OiBzcGFjZVxuICB9KTtcbiAgdmFyIHdpZHRoID0gKE1hdGguY2VpbChpdGVtczAud2lkdGgoKSkgKyBzcGFjZU51bWJlcikgKiBpdGVtczAubGVuZ3RoO1xuICBsaXN0LmNzcyh7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbWFyZ2luOiAnMCcsXG4gICAgd2lkdGg6IHdpZHRoICsgJ3B4J1xuICB9KTtcbiAgdmFyIGhlaWdodCA9IGxpc3QuaGVpZ2h0KCk7XG4gIHZhciBsaXN0MiA9IGxpc3QuY2xvbmUoKTtcbiAgdmFyIGxpc3QzID0gbGlzdC5jbG9uZSgpO1xuICBsaXN0LmNzcyh7XG4gICAgbGVmdDogMFxuICB9KTtcbiAgbGlzdDIuY3NzKHtcbiAgICBsZWZ0OiB3aWR0aCArICdweCdcbiAgfSk7XG4gIGxpc3QzLmNzcyh7XG4gICAgbGVmdDogd2lkdGggKiAyICsgJ3B4J1xuICB9KTtcbiAgdmFyIGxpc3RzID0gJCgnPGRpdj48L2Rpdj4nKTtcbiAgbGlzdHMuY3NzKHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB3aWR0aDogd2lkdGggKiAzICsgJ3B4JyxcbiAgICBoZWlnaHQ6IGhlaWdodCArICdweCcsXG4gICAgbGVmdDogMCxcbiAgICB0b3A6IHRvcFxuICB9KTtcbiAgbGlzdHMuYXBwZW5kKGxpc3QpLmFwcGVuZChsaXN0MikuYXBwZW5kKGxpc3QzKTtcbiAgd3JhcHBlci5hcHBlbmQobGlzdHMpO1xuICB2YXIgbGVmdCA9IDA7XG5cbiAgZnVuY3Rpb24gYW5pbWF0ZUxvb3AoKSB7XG4gICAgaWYgKGRpciA9PT0gJ2xlZnQnKSB7XG4gICAgICBsZWZ0IC09IDEwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVmdCArPSAxMDA7XG4gICAgfVxuXG4gICAgbGlzdHMuYW5pbWF0ZSh7XG4gICAgICBsZWZ0OiBcIlwiLmNvbmNhdChsZWZ0LCBcInB4XCIpXG4gICAgfSwgc3BlZWQsICdsaW5lYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoTWF0aC5hYnMobGVmdCkgPiB3aWR0aCkge1xuICAgICAgICBpZiAoZGlyID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBsZWZ0ICs9IHdpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0cy5jc3Moe1xuICAgICAgICAgIGxlZnQ6IGxlZnQgKyAncHgnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhbmltYXRlTG9vcCgpO1xuICAgIH0pO1xuICB9XG5cbiAgYW5pbWF0ZUxvb3AoKTtcbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1dpbmRvdy9vcGVuXG4vLyBodHRwOi8vd3d3Lnczc2Nob29sLmNvbS5jbi9odG1sZG9tL21ldF93aW5fb3Blbi5hc3Ajd2luZG93ZmVhdHVyZXNcblxuZnVuY3Rpb24gb3BlbldpbmRvdyh1cmwsIG5hbWUpIHtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGdsYigpLm9wZW4odXJsLCBuYW1lLCBPYmplY3Qua2V5cyhvcHQpLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChrLCBcIj1cIikuY29uY2F0KG9wdFtrXSk7XG4gIH0pLmpvaW4oJywnKSk7XG59XG5mdW5jdGlvbiBvcGVuQ2VudGVyV2luZG93KHVybCwgbmFtZSwgd2lkdGgsIGhlaWdodCkge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgdmFyIHQgPSB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRvcDogKGdsYigpLnNjcmVlbi5hdmFpbEhlaWdodCAtIDMwIC0gaGVpZ2h0KSAvIDIsXG4gICAgbGVmdDogKGdsYigpLnNjcmVlbi5hdmFpbFdpZHRoIC0gMzAgLSB3aWR0aCkgLyAyXG4gIH07XG4gIE9iamVjdC5hc3NpZ24odCwgb3B0KTtcbiAgb3BlbldpbmRvdyh1cmwsIG5hbWUsIHQpO1xufVxudmFyIFVSTEhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8vIHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgcGFzdG5hbWVcbiAgZnVuY3Rpb24gVVJMSGVscGVyKGJhc2VVcmwpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBVUkxIZWxwZXIpO1xuXG4gICAgdGhpcy5iYXNlVXJsID0gJyc7XG4gICAgdGhpcy5zZWFyY2ggPSB7fTtcbiAgICB2YXIgdCA9IGRlY29kZVVSSShiYXNlVXJsKS5zcGxpdCgnPycpO1xuICAgIHRoaXMuYmFzZVVybCA9IHRbMF07XG5cbiAgICBpZiAodFsxXSkge1xuICAgICAgdFsxXS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIHQyID0gdi5zcGxpdCgnPScpO1xuICAgICAgICBfdGhpczMuc2VhcmNoW3QyWzBdXSA9IHQyWzFdID09IG51bGwgPyAnJyA6IGRlY29kZVVSSUNvbXBvbmVudCh0MlsxXSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVVJMSGVscGVyLCBbe1xuICAgIGtleTogXCJnZXRIcmVmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhyZWYoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHQgPSBbdGhpcy5iYXNlVXJsXTtcbiAgICAgIHZhciBzZWFyY2hTdHIgPSBPYmplY3Qua2V5cyh0aGlzLnNlYXJjaCkubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrLCBcIj1cIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChfdGhpczQuc2VhcmNoW2tdKSk7XG4gICAgICB9KS5qb2luKCcmJyk7XG5cbiAgICAgIGlmIChzZWFyY2hTdHIpIHtcbiAgICAgICAgdC5wdXNoKHNlYXJjaFN0cik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0LmpvaW4oJz8nKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVVJMSGVscGVyO1xufSgpOyAvLyDop6PmnpDlh73mlbDlj4LmlbAsIOW4ruWKqemHjei9vVxuLy8gdHlwZXMgZWc6IFsnT2JqZWN0JywgKGkpID0+IGkgPiAzLCBbJ051bWJlcicsIGRlZmF1bHRdLCBudWxsIF1cbi8vIG51bGwgcmVwcmVzZW50IGFsbCB0eXBlcyBvZiBhcmd1bWVudFxuXG5mdW5jdGlvbiByZXNvbHZlQXJnc0J5VHlwZShhcmdzLCB0eXBlcykge1xuICB2YXIgYXJnSW5kZXggPSAwO1xuICByZXR1cm4gdHlwZXMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgLy8gbWFrZSBydWxlXG4gICAgdmFyIHJ1bGUsIGRmdDtcblxuICAgIGlmIChpc0FycmF5KHYpKSB7XG4gICAgICBydWxlID0gdlswXTtcbiAgICAgIGRmdCA9IHZbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJ1bGUgPSB2O1xuICAgICAgZGZ0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghaXNGdW5jdGlvbihydWxlKSkge1xuICAgICAgaWYgKHJ1bGUgPT0gbnVsbCkge1xuICAgICAgICBydWxlID0gZnVuY3Rpb24gcnVsZSgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ID0gcnVsZTtcblxuICAgICAgICBydWxlID0gZnVuY3Rpb24gcnVsZSh4KSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IFwiLmNvbmNhdCh0LCBcIl1cIik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFyZyA9IGFyZ3NbYXJnSW5kZXhdO1xuXG4gICAgaWYgKHJ1bGUoYXJnKSkge1xuICAgICAgYXJnSW5kZXgrKztcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZnQ7XG4gICAgfVxuICB9KTtcbn0gLy8gc2V0IG51bGwgY2FuIHJlbW92ZSBhIGl0ZW1cblxuZnVuY3Rpb24gbWFrZVN0b3JhZ2VIZWxwZXIoc3RvcmFnZSkge1xuICByZXR1cm4ge1xuICAgIHN0b3JhZ2U6IHN0b3JhZ2UsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQobmFtZSwgdmFsdWUsIG1pbnV0ZXMpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBleHBpcmVkX2F0OiBtaW51dGVzID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAgKiAxMDAwIDogbnVsbFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgICB2YXIgdCA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuXG4gICAgICBpZiAodCkge1xuICAgICAgICB0ID0gSlNPTi5wYXJzZSh0KTtcblxuICAgICAgICBpZiAoIXQuZXhwaXJlZF9hdCB8fCB0LmV4cGlyZWRfYXQgPiBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xuICAgICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgdGhpcy5zdG9yYWdlLmNsZWFyKCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlMigpIHtcbiAgaWYgKCFzdG9yZS5sb2NhbFN0b3JhZ2UyKSB7XG4gICAgc3RvcmUubG9jYWxTdG9yYWdlMiA9IG1ha2VTdG9yYWdlSGVscGVyKGdsYigpLmxvY2FsU3RvcmFnZSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmUubG9jYWxTdG9yYWdlMjtcbn1cbmZ1bmN0aW9uIGdldFNlc3Npb25TdG9yYWdlMigpIHtcbiAgaWYgKCFzdG9yZS5zZXNzaW9uU3RvcmFnZTIpIHtcbiAgICBzdG9yZS5zZXNzaW9uU3RvcmFnZTIgPSBtYWtlU3RvcmFnZUhlbHBlcihnbGIoKS5zZXNzaW9uU3RvcmFnZSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmUuc2Vzc2lvblN0b3JhZ2UyO1xufSAvLyDkuovku7blpITnkIZcblxudmFyIEV2ZW50UHJvY2Vzc29yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRQcm9jZXNzb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50UHJvY2Vzc29yKTtcblxuICAgIHRoaXMuZXZlbnRTdG9yZSA9IFtdO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEV2ZW50UHJvY2Vzc29yLCBbe1xuICAgIGtleTogXCJvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbihuYW1lLCBoYW5kbGVyKSB7XG4gICAgICB0aGlzLmV2ZW50U3RvcmUucHVzaCh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGhhbmRsZXI6IGhhbmRsZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2UobmFtZSwgaGFuZGxlcikge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBvZmYgPSBmdW5jdGlvbiBvZmYoKSB7XG4gICAgICAgIF90aGlzNS5vZmYobmFtZSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHdyYXBwZWRIYW5kbGVyID0gZnVuY3Rpb24gd3JhcHBlZEhhbmRsZXIoKSB7XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICBvZmYoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMub24obmFtZSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgICAgcmV0dXJuIG9mZjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25jZVRpbWVvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZVRpbWVvdXQobmFtZSwgaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBvZmY7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHdyYXBwZWRIYW5kbGVyID0gZnVuY3Rpb24gd3JhcHBlZEhhbmRsZXIoKSB7XG4gICAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG9mZiA9IF90aGlzNi5vbmNlKG5hbWUsIHdyYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgd2FpdFRpbWUodGltZW91dCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb2ZmKCk7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBvZmYyID0gZnVuY3Rpb24gb2ZmMigpIHtcbiAgICAgICAgb2ZmICYmIG9mZigpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb2ZmOiBvZmYyLFxuICAgICAgICBwcm9taXNlOiBwcm9taXNlXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIHZhciBpbmRleGVzID0gW107IC8vIHRvIHJlbW92ZSBpbmRleGVzOyByZXZlcnNlOyDlgJLluo/nmoRcblxuICAgICAgdmFyIGxlbiA9IHRoaXMuZXZlbnRTdG9yZS5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLmV2ZW50U3RvcmVbaV07XG5cbiAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gbmFtZSAmJiBpdGVtLmhhbmRsZXIgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICBpbmRleGVzLnVuc2hpZnQoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kxMyA9IDAsIF9pbmRleGVzID0gaW5kZXhlczsgX2kxMyA8IF9pbmRleGVzLmxlbmd0aDsgX2kxMysrKSB7XG4gICAgICAgIHZhciBpbmRleCA9IF9pbmRleGVzW19pMTNdO1xuICAgICAgICB0aGlzLmV2ZW50U3RvcmUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KG5hbWUpIHtcbiAgICAgIC8vIOmHjeimgTog5YWI5om+5Yiw6KaB5omn6KGM55qE6aG55pS+5Zyo5paw5pWw57uE6YeMLCDlm6DkuLrmiafooYzpobnkvJrmlLnlj5jkuovku7bpobnlrZjlgqjmlbDnu4RcbiAgICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yMTUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmV2ZW50U3RvcmUpLFxuICAgICAgICAgIF9zdGVwMTU7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIF9pdGVtID0gX3N0ZXAxNS52YWx1ZTtcblxuICAgICAgICAgIGlmIChfaXRlbS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKF9pdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IxNS5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IxNS5mKCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4xMCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjEwID4gMSA/IF9sZW4xMCAtIDEgOiAwKSwgX2tleTEyID0gMTsgX2tleTEyIDwgX2xlbjEwOyBfa2V5MTIrKykge1xuICAgICAgICBhcmdzW19rZXkxMiAtIDFdID0gYXJndW1lbnRzW19rZXkxMl07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pMTQgPSAwLCBfaXRlbXMgPSBpdGVtczsgX2kxNCA8IF9pdGVtcy5sZW5ndGg7IF9pMTQrKykge1xuICAgICAgICB2YXIgaXRlbSA9IF9pdGVtc1tfaTE0XTtcbiAgICAgICAgaXRlbS5oYW5kbGVyLmFwcGx5KGl0ZW0sIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBFdmVudFByb2Nlc3Nvcjtcbn0oKTtcbnZhciBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXZlbnRQcm9jZXNzb3IpIHtcbiAgX2luaGVyaXRzKENyb3NzV2luZG93RXZlbnRQcm9jZXNzb3IsIF9FdmVudFByb2Nlc3Nvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yKTtcblxuICAvLyBpZFxuICBmdW5jdGlvbiBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yKG9wdCkge1xuICAgIHZhciBfdGhpczc7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3Jvc3NXaW5kb3dFdmVudFByb2Nlc3Nvcik7XG5cbiAgICBfdGhpczcgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICBfdGhpczcuc3RvcmFnZU5hbWUgPSAnX2Nyb3NzV2luZG93JztcbiAgICBfdGhpczcud2luZG93cyA9IFtdO1xuICAgIF90aGlzNy50aW1lb3V0ID0gMjAwO1xuICAgIF90aGlzNy5CUk9BRENBU1QgPSAnX19CUk9BRENBU1RfXyc7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICBPYmplY3QuYXNzaWduKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM3KSwgb3B0KTtcbiAgICB9XG5cbiAgICBvbkRPTSh3aW5kb3csICdzdG9yYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICBpZiAoZXYua2V5ID09PSBfdGhpczcuc3RvcmFnZU5hbWUpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShldi5uZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKCFldmVudC50YXJnZXRzIHx8IGV2ZW50LnRhcmdldHMuaW5jbHVkZXMoX3RoaXM3LmlkKSkge1xuICAgICAgICAgIHZhciBfdGhpczg7XG5cbiAgICAgICAgICAoX3RoaXM4ID0gX3RoaXM3KS5lbWl0TG9jYWwuYXBwbHkoX3RoaXM4LCBbZXZlbnQubmFtZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShldmVudC5hcmdzKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHNvY2lhbCBwYXJ0cyDpm4bkvZPpg6jliIZcbiAgICAvLyBqb2luXG5cbiAgICBfdGhpczcuaWQgPSBzdHJSYW5kKCk7XG4gICAgX3RoaXM3LndpbmRvd3MgPSBbX3RoaXM3LmlkXTtcbiAgICBfdGhpczcucmVhZHkgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpczcub25jZVRpbWVvdXQoJ193aW5kb3dzX3VwZGF0ZWQnLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgd2luZG93cyA9IF9yZWYud2luZG93cztcbiAgICAgICAgX3RoaXM3LndpbmRvd3MgPSB3aW5kb3dzO1xuICAgICAgfSwgX3RoaXM3LnRpbWVvdXQpLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc29sdmUoKTsgLy8gcmVzcG9uc2VkIOiiq+WTjeW6lFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBubyByZXNwb25zZSDml6Dlk43lupRcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzNy5icm9hZGNhc3QoJ19qb2luJywgX3RoaXM3LmlkKTtcbiAgICB9KTtcblxuICAgIF90aGlzNy5yZWFkeS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG9uIGpvaW5cbiAgICAgIF90aGlzNy5vbignX2pvaW4nLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgX3RoaXM3LndpbmRvd3MucHVzaChpZCk7XG5cbiAgICAgICAgaWYgKF90aGlzNy5pc01haW4oKSkge1xuICAgICAgICAgIF90aGlzNy5icm9hZGNhc3QoJ193aW5kb3dzX3VwZGF0ZWQnLCB7XG4gICAgICAgICAgICB3aW5kb3dzOiBfdGhpczcud2luZG93cyxcbiAgICAgICAgICAgIHR5cGU6ICdqb2luJyxcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gb24gX3dpbmRvd3NfdXBkYXRlZFxuXG5cbiAgICAgIF90aGlzNy5vbignX3dpbmRvd3NfdXBkYXRlZCcsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgd2luZG93cyA9IF9yZWYyLndpbmRvd3M7XG4gICAgICAgIF90aGlzNy53aW5kb3dzID0gd2luZG93cztcbiAgICAgIH0pOyAvLyBvbiBleGl0XG5cblxuICAgICAgX3RoaXM3Lm9uKCdfZXhpdCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgb2xkTWFpbiA9IF90aGlzNy53aW5kb3dzWzBdO1xuICAgICAgICBhcnJheVJlbW92ZShfdGhpczcud2luZG93cywgaWQpO1xuXG4gICAgICAgIGlmIChfdGhpczcuaXNNYWluKCkpIHtcbiAgICAgICAgICBfdGhpczcuZW1pdCgnX3dpbmRvd3NfdXBkYXRlZCcsIHtcbiAgICAgICAgICAgIHdpbmRvd3M6IF90aGlzNy53aW5kb3dzLFxuICAgICAgICAgICAgdHlwZTogJ2V4aXQnLFxuICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAob2xkTWFpbiAhPSBfdGhpczcuaWQpIHtcbiAgICAgICAgICAgIF90aGlzNy5lbWl0KCdfbWFpbl91cGRhdGVkJywge1xuICAgICAgICAgICAgICB3aW5kb3dzOiBfdGhpczcud2luZG93cyxcbiAgICAgICAgICAgICAgb2xkOiBvbGRNYWluLFxuICAgICAgICAgICAgICAnbmV3JzogX3RoaXM3LmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBvbkRPTSh3aW5kb3csICdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNy5leGl0R3JvdXAoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzNztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yLCBbe1xuICAgIGtleTogXCJpc01haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNYWluKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQgPT09IHRoaXMud2luZG93c1swXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXRUbyhuYW1lLCB0YXJnZXRzKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTEgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xMSA+IDIgPyBfbGVuMTEgLSAyIDogMCksIF9rZXkxMyA9IDI7IF9rZXkxMyA8IF9sZW4xMTsgX2tleTEzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5MTNdO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0cyA9PT0gdGhpcy5CUk9BRENBU1QpIHtcbiAgICAgICAgdGFyZ2V0cyA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGFyZ2V0cyAmJiAhaXNBcnJheSh0YXJnZXRzKSkge1xuICAgICAgICAgIHRhcmdldHMgPSBbdGFyZ2V0c107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0cy5pbmNsdWRlcyh0aGlzLmlkKSkge1xuICAgICAgICAgIHZhciBfZ2V0MjtcblxuICAgICAgICAgIChfZ2V0MiA9IF9nZXQoX2dldFByb3RvdHlwZU9mKENyb3NzV2luZG93RXZlbnRQcm9jZXNzb3IucHJvdG90eXBlKSwgXCJlbWl0XCIsIHRoaXMpKS5jYWxsLmFwcGx5KF9nZXQyLCBbdGhpcywgbmFtZV0uY29uY2F0KGFyZ3MpKTsgLy8gZW1pdCB0byBjdXJyZW50IHdpbmRvd1xuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2xiKCkubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlTmFtZSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB0YXJnZXRzOiB0YXJnZXRzLFxuICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAvLyB1c2UgcmFuZG9tIG1ha2Ugc3RvcmFnZSBldmVudCB0cmlnZ2VyZWQgZXZlcnkgdGltZVxuICAgICAgICAvLyDliqDlhaXpmo/mnLrkv53or4Hop6blj5FzdG9yYWdl5LqL5Lu2XG4gICAgICAgIHJhbmRvbTogTWF0aC5yYW5kb20oKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbWl0TG9jYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdExvY2FsKG5hbWUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4xMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjEyID4gMSA/IF9sZW4xMiAtIDEgOiAwKSwgX2tleTE0ID0gMTsgX2tleTE0IDwgX2xlbjEyOyBfa2V5MTQrKykge1xuICAgICAgICBhcmdzW19rZXkxNCAtIDFdID0gYXJndW1lbnRzW19rZXkxNF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdFRvLmFwcGx5KHRoaXMsIFtuYW1lLCB0aGlzLmlkXS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJicm9hZGNhc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0KG5hbWUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4xMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjEzID4gMSA/IF9sZW4xMyAtIDEgOiAwKSwgX2tleTE1ID0gMTsgX2tleTE1IDwgX2xlbjEzOyBfa2V5MTUrKykge1xuICAgICAgICBhcmdzW19rZXkxNSAtIDFdID0gYXJndW1lbnRzW19rZXkxNV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdFRvLmFwcGx5KHRoaXMsIFtuYW1lLCB0aGlzLkJST0FEQ0FTVF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KG5hbWUpIHtcbiAgICAgIGZvciAodmFyIF9sZW4xNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjE0ID4gMSA/IF9sZW4xNCAtIDEgOiAwKSwgX2tleTE2ID0gMTsgX2tleTE2IDwgX2xlbjE0OyBfa2V5MTYrKykge1xuICAgICAgICBhcmdzW19rZXkxNiAtIDFdID0gYXJndW1lbnRzW19rZXkxNl07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdFRvLmFwcGx5KHRoaXMsIFtuYW1lLCB0aGlzLndpbmRvd3NdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4aXRHcm91cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGl0R3JvdXAoKSB7XG4gICAgICB0aGlzLmJyb2FkY2FzdCgnX2V4aXQnLCB0aGlzLmlkKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ3Jvc3NXaW5kb3dFdmVudFByb2Nlc3Nvcjtcbn0oRXZlbnRQcm9jZXNzb3IpOyAvLyBEZXByZWNhdGVkIGluIG5leHQgdmVyc2lvblxuXG52YXIgQ3Jvc3NXaW5kb3cgPSBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yO1xuZnVuY3Rpb24gb25RdWlja0tleWRvd24oaGFuZGxlcikge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgb3B0ID0gX29iamVjdFNwcmVhZCh7XG4gICAgdGltZW91dDogMTAwMFxuICB9LCBvcHQpO1xuICB2YXIgaW5wdXQgPSAnJztcbiAgdmFyIHRpbWVvdXRJZDtcblxuICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgaWYgKGUua2V5ICYmIGUua2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgaW5wdXQgPSBcIlwiLmNvbmNhdChpbnB1dCkuY29uY2F0KGUua2V5KTtcbiAgICAgIGhhbmRsZXIoaW5wdXQpO1xuXG4gICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5wdXQgPSAnJztcbiAgICAgIH0sIG9wdC50aW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgb25ET00oZG9jdW1lbnQsICdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG9mZkRPTShkb2N1bWVudCwgJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gIH07XG59XG5mdW5jdGlvbiBnZXRVc2VyTGFuZ3VhZ2UoKSB7XG4gIHJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZTtcbn1cbnZhciBDYWNoZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhY2hlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWNoZSk7XG5cbiAgICB0aGlzLnN0b3JlID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FjaGUsIFt7XG4gICAga2V5OiBcImhhc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbWVtYmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbWVtYmVyKG5hbWUsIGdldHRlcikge1xuICAgICAgaWYgKCF0aGlzLmhhcyhuYW1lKSkge1xuICAgICAgICB0aGlzLnN0b3JlW25hbWVdID0ge1xuICAgICAgICAgIHZhbHVlOiBnZXR0ZXIoKVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zdG9yZVtuYW1lXS52YWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9yZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcmdldChuYW1lKSB7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5zdG9yZVtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHt9O1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYWNoZTtcbn0oKTsgLy8gYXR0YWNoIGNhY2hlZCBnZXR0ZXJzIHRvIGFuIG9iamVjdDsgY2FuIGF0dGFjaCB0byBzZWxmXG5cbmZ1bmN0aW9uIGF0dGFjaENhY2hlKG9iaiwgdG9DYWNoZSkge1xuICB2YXIgY2FjaGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG5ldyBDYWNoZSgpO1xuXG4gIHZhciBfbG9vcDQgPSBmdW5jdGlvbiBfbG9vcDQoa2V5KSB7XG4gICAgdmFyIGdldHRlciA9IHRvQ2FjaGVba2V5XTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gY2FjaGUucmVtZW1iZXIoa2V5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldHRlci5jYWxsKF90aGlzOSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiB0b0NhY2hlKSB7XG4gICAgX2xvb3A0KGtleSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgQ2FjaGUsIENyb3NzV2luZG93LCBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yLCBFdmVudFByb2Nlc3NvciwgVHJlZURhdGEsIFVSTEhlbHBlciwgYWRkQ2xhc3MsIGFkZERhdGUsIGFwcGVuZFRvLCBhcnJheUF0LCBhcnJheURpZmYsIGFycmF5RGlzdGluY3QsIGFycmF5Rmlyc3QsIGFycmF5RmxhdCwgYXJyYXlHZXQsIGFycmF5TGFzdCwgYXJyYXlSZW1vdmUsIGFycmF5UmVtb3ZlQnlTb3J0ZWRJbmRleGVzLCBhcnJheVNpYmxpbmcsIGFycmF5V2l0aG91dEVuZCwgYXNzaWduSWZEaWZmZXJlbnQsIGF0dGFjaENhY2hlLCBiYWNrdXBBdHRyLCBiaW5hcnlTZWFyY2gsIGNhbWVsQ2FzZSwgY2FtZWxUb1dvcmRzLCBjbG9uZURhdGUsIGNsb25lT2JqLCBjb3B5VGV4dFRvQ2xpcGJvYXJkLCBjcmVhdGVFbGVtZW50RnJvbUhUTUwsIGRlYm91bmNlLCBkZWJvdW5jZUltbWVkaWF0ZSwgZGVib3VuY2VUcmFpbGluZywgZGVwdGhGaXJzdFNlYXJjaCwgZWxlbWVudHNGcm9tUG9pbnQsIGVtcHR5LCBleGVjdXRlT25jZUluU2NvcGVCeU5hbWUsIGV4ZWN1dGVQcm9taXNlR2V0dGVycywgZXhlY3V0ZVdpdGhDb3VudCwgZmluZE5vZGVMaXN0LCBmaW5kTm9kZUxpc3RSZXZlcnNlLCBmaW5kUGFyZW50LCBmb3JBbGwsIGdldEJvcmRlciwgZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBnZXRDYWxlbmRhciwgZ2V0Q3NzM1ByZWZpeCwgZ2V0RWxTaXplLCBnZXRFbFNpemVFdmVuSW52aXNpYmxlLCBnZXRJbWFnZVNpemVCeVVybCwgZ2V0TG9jYWxTdG9yYWdlMiwgZ2V0TW9udGhFbmQsIGdldE1vbnRoU3RhcnQsIGdldE9mZnNldCwgZ2V0T2Zmc2V0UGFyZW50LCBnZXRPdXRlckF0dGFjaGVkSGVpZ2h0LCBnZXRPdXRlckF0dGFjaGVkV2lkdGgsIGdldFBvc2l0aW9uLCBnZXRQb3NpdGlvbkZyb21PZmZzZXQsIGdldFNjcm9sbCwgZ2V0U2Vzc2lvblN0b3JhZ2UyLCBnZXRVcmxQYXJhbSwgZ2V0VXNlckxhbmd1YWdlLCBnZXRWaWV3cG9ydFBvc2l0aW9uLCBnbGIsIGdyb3VwQXJyYXksIGhhc0NsYXNzLCBpbnNlcnRBZnRlciwgaW5zZXJ0QmVmb3JlLCBpc0FycmF5LCBpc0Jvb2wsIGlzRGVzY2VuZGFudE9mLCBpc0RvY3VtZW50RXhpc3RlZCwgaXNGdW5jdGlvbiwgaXNJRSwgaXNJc29Gb3JtYXQsIGlzTm9kZSwgaXNOdW1iZXIsIGlzTnVtZXJpYywgaXNPYmplY3QsIGlzT2Zmc2V0SW5FbCwgaXNQcm9taXNlLCBpc1N0cmluZywgaXNXaW5kb3dEZWZpbmVkLCBpc3NldCwgaXRlcmF0ZUFMTCwgaXRlcmF0ZUFsbCwgam9pbkZ1bmN0aW9uc0J5TmV4dCwgam9pbkZ1bmN0aW9uc0J5UmVzdWx0LCBqb2luTWV0aG9kcywganFGaXhlZFNpemUsIGpxTWFrZUNhcm91c2VsLCBrZWJhYkNhc2UsIG1ha2VTdG9yYWdlSGVscGVyLCBtYXBPYmplY3RUcmVlLCBtYXBPYmplY3RzLCBtYXgsIG1pbiwgbmV3QXJyYXlSZW1vdmVBdCwgbnVtUGFkLCBudW1SYW5kLCBvYmplY3RFeGNlcHQsIG9iamVjdEdldCwgb2JqZWN0TWFwLCBvYmplY3RNZXJnZSwgb2JqZWN0T25seSwgb2JqZWN0U2V0LCBvZmZET00sIG9mZnNldFRvVmlld3BvcnRQb3NpdGlvbiwgb25ET00sIG9uRE9NTWFueSwgb25RdWlja0tleWRvd24sIG9wZW5DZW50ZXJXaW5kb3csIG9wZW5XaW5kb3csIHBhaXJSb3dzLCBwYXJzZUlTTywgcHJlcGVuZFRvLCBwcm9taXNlVGltZW91dCwgcmVtb3ZlQ2xhc3MsIHJlbW92ZUVsLCByZXBsYWNlTXVsdGlwbGUsIHJlc29sdmVBcmdzQnlUeXBlLCByZXNvbHZlVmFsdWVPckdldHR0ZXIsIHJlc3RvcmVBdHRyLCByZXRyeSwgc2V0RWxDaGlsZEJ5SW5kZXgsIHNuYWtlQ2FzZSwgc3BsaXRBcnJheSwgc3RvcmUsIHN0b3JlX2V4ZWN1dGVPbmNlSW5TY29wZUJ5TmFtZSwgc3RyUmFuZCwgc3R1ZGx5Q2FzZSwgdGl0bGVDYXNlLCB0b0FycmF5SWZOb3QsIHVuaXF1ZUlkLCB1bnNldCwgdmlld3BvcnRQb3NpdGlvblRvT2Zmc2V0LCB3YWl0Rm9yLCB3YWl0VGltZSwgd2Fsa1RyZWVEYXRhLCB3YXRjaENoYW5nZSwgd2luZG93TG9hZGVkIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/dist/helper-js.esm.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5TGlrZVRvQXJyYXkuanM/YmQ0MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlMaWtlVG9BcnJheS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlMaWtlVG9BcnJheTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithHoles.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aEhvbGVzLmpzP2E0NmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2hlbHBlci1qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhIb2xlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithHoles.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzP2M2MjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdUJBQXVCLG1CQUFPLENBQUMsNEdBQW9COztBQUVuRDtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcz84NDVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2Fzc2VydFRoaXNJbml0aWFsaXplZDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/assertThisInitialized.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzPzBmODgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjazsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/classCallCheck.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/createClass.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/createClass.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzPzU0NDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/createClass.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/defineProperty.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzPzliM2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/defineProperty.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/get.js":
/*!***************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/get.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var superPropBase = __webpack_require__(/*! ./superPropBase */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldC5qcz9kMzM0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQixtQkFBTyxDQUFDLHNHQUFpQjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHN1cGVyUHJvcEJhc2UgPSByZXF1aXJlKFwiLi9zdXBlclByb3BCYXNlXCIpO1xuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IFJlZmxlY3QuZ2V0O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBiYXNlID0gc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcbiAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/get.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/getPrototypeOf.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzPzllZjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2hlbHBlci1qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/getPrototypeOf.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/inherits.js":
/*!********************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/inherits.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzPzMzNzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsd0dBQWtCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbmhlcml0czsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/inherits.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcz9iYTkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArray.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzPzI4OWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkNBQTZDLCtCQUErQjtBQUM1RTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaXRlcmFibGVUb0FycmF5TGltaXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuO1xuICB2YXIgX2FyciA9IFtdO1xuICB2YXIgX24gPSB0cnVlO1xuICB2YXIgX2QgPSBmYWxzZTtcbiAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2QgPSB0cnVlO1xuICAgIF9lID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIF9hcnI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheUxpbWl0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableRest.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcz8yY2JlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvbm9uSXRlcmFibGVSZXN0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableRest.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzPzU5ZjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2hlbHBlci1qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableSpread.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _typeof = __webpack_require__(/*! ../helpers/typeof */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanM/YmU4MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMsaUdBQW1COztBQUV6Qyw0QkFBNEIsbUJBQU8sQ0FBQyxzSEFBeUI7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NldFByb3RvdHlwZU9mLmpzP2QyZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2hlbHBlci1qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NldFByb3RvdHlwZU9mOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/setPrototypeOf.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/slicedToArray.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithHoles.js\");\n\nvar iterableToArrayLimit = __webpack_require__(/*! ./iterableToArrayLimit */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableRest = __webpack_require__(/*! ./nonIterableRest */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanM/MDk2NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBa0I7O0FBRS9DLDJCQUEyQixtQkFBTyxDQUFDLG9IQUF3Qjs7QUFFM0QsaUNBQWlDLG1CQUFPLENBQUMsZ0lBQThCOztBQUV2RSxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBbUI7O0FBRWpEO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/slicedToArray.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/superPropBase.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/superPropBase.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3N1cGVyUHJvcEJhc2UuanM/YzU3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQkFBcUIsbUJBQU8sQ0FBQyx3R0FBa0I7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc3VwZXJQcm9wQmFzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL2dldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3N1cGVyUHJvcEJhc2U7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/superPropBase.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzP2YyMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsd0JBQXdCLG1CQUFPLENBQUMsOEdBQXFCOztBQUVyRCxzQkFBc0IsbUJBQU8sQ0FBQywwR0FBbUI7O0FBRWpELGlDQUFpQyxtQkFBTyxDQUFDLGdJQUE4Qjs7QUFFdkUsd0JBQXdCLG1CQUFPLENBQUMsOEdBQXFCOztBQUVyRDtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/toConsumableArray.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/typeof.js":
/*!******************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/typeof.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcz80NGZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF90eXBlb2Yob2JqKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/typeof.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/helper-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzP2Q5MWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsdUJBQXVCLG1CQUFPLENBQUMsNEdBQW9COztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2hlbHBlci1qcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/@babel/runtime/regenerator/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/@babel/runtime/regenerator/index.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/helper-js/node_modules/regenerator-runtime/runtime.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvci9pbmRleC5qcz9hY2Y0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlCQUFpQixtQkFBTyxDQUFDLGlHQUFxQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oZWxwZXItanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/@babel/runtime/regenerator/index.js\n");

/***/ }),

/***/ "./node_modules/helper-js/node_modules/regenerator-runtime/runtime.js":
/*!****************************************************************************!*\
  !*** ./node_modules/helper-js/node_modules/regenerator-runtime/runtime.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanM/NmM2MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxXQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxLQUEwQixvQkFBb0IsU0FBRTtBQUNsRDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGVscGVyLWpzL25vZGVfbW9kdWxlcy9yZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/helper-js/node_modules/regenerator-runtime/runtime.js\n");

/***/ }),

/***/ "./node_modules/tree-helper/dist/tree-helper.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/tree-helper/dist/tree-helper.esm.js ***!
  \**********************************************************/
/*! exports provided: appendTo, breadthFirstSearch, clone, depthFirstSearch, forIn, getTreeDataFromFlat, insertAfter, insertBefore, prependTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendTo\", function() { return appendTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"breadthFirstSearch\", function() { return breadthFirstSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clone\", function() { return clone; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"depthFirstSearch\", function() { return depthFirstSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forIn\", function() { return forIn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTreeDataFromFlat\", function() { return getTreeDataFromFlat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertAfter\", function() { return insertAfter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertBefore\", function() { return insertBefore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prependTo\", function() { return prependTo; });\n/* harmony import */ var helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helper-js */ \"./node_modules/helper-js/dist/helper-js.esm.js\");\n/*!\n* tree-helper v1.4.14\n* (c) phphe <phphe@outlook.com> (https://github.com/phphe)\n* Released under the MIT License.\n*/\n\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction clone(obj) {\n  var childrenKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'children';\n  var cloned;\n\n  if (Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"isArray\"])(obj)) {\n    cloned = obj.map(function (item) {\n      return clone(item);\n    });\n  } else {\n    cloned = Object.assign({}, obj);\n\n    if (cloned[childrenKey]) {\n      cloned[childrenKey] = clone(cloned[childrenKey]);\n    }\n  }\n\n  return cloned;\n} // 旧版深度优先遍历\n// old Depth-First-Search\n\nfunction forIn(obj, handler) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n\n  var rootChildren, rootParent, _func;\n\n  if (Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"isArray\"])(obj)) {\n    rootChildren = obj;\n    rootParent = null;\n  } else {\n    rootChildren = [obj];\n    rootParent = null;\n  }\n\n  if (rootChildren) {\n    _func = function func(children, parent) {\n      for (var key in children) {\n        var child = children[key];\n\n        if (handler(child, key, parent) === false) {\n          return false;\n        }\n\n        if (child[childrenKey] != null) {\n          if (_func(child[childrenKey], child) === false) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    };\n\n    _func(rootChildren, rootParent);\n  }\n\n  return obj;\n} // 深度优先遍历\n// Depth-First-Search\n\nfunction depthFirstSearch(obj, handler) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var reverse = arguments.length > 3 ? arguments[3] : undefined;\n  var rootChildren = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"isArray\"])(obj) ? obj : [obj]; //\n\n  var StopException = function StopException() {};\n\n  var func = function func(children, parent) {\n    if (reverse) {\n      children = children.slice();\n      children.reverse();\n    }\n\n    var len = children.length;\n\n    for (var i = 0; i < len; i++) {\n      var item = children[i];\n      var r = handler(item, i, parent);\n\n      if (r === false) {\n        // stop\n        throw new StopException();\n      } else if (r === 'skip children') {\n        continue;\n      } else if (r === 'skip siblings') {\n        break;\n      }\n\n      if (item[childrenKey] != null) {\n        func(item[childrenKey], item);\n      }\n    }\n  };\n\n  try {\n    func(rootChildren);\n  } catch (e) {\n    if (e instanceof StopException) ; else {\n      throw e;\n    }\n  }\n} // 广度优先遍历\n// Breadth-First-Search\n\nfunction breadthFirstSearch(obj, handler) {\n  var reverse = arguments.length > 3 ? arguments[3] : undefined;\n  var rootChildren = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"isArray\"])(obj) ? obj : [obj]; //\n\n  var stack = rootChildren.map(function (v, i) {\n    return {\n      item: v,\n      index: i\n    };\n  });\n\n  if (reverse) {\n    stack.reverse();\n  }\n\n  var _loop = function _loop() {\n    var _stack$shift = stack.shift(),\n        item = _stack$shift.item,\n        index = _stack$shift.index,\n        parent = _stack$shift.parent;\n\n    var r = handler(item, index, parent);\n\n    if (r === false) {\n      // stop\n      return {\n        v: void 0\n      };\n    } else if (r === 'skip children') {\n      return \"continue\";\n    } else if (r === 'skip siblings') {\n      stack = stack.filter(function (v) {\n        return v.parent !== parent;\n      });\n    }\n\n    if (item.children) {\n      var _stack;\n\n      var children = item.children;\n\n      if (reverse) {\n        children = children.slice();\n        children.reverse();\n      }\n\n      var pushStack = children.map(function (v, i) {\n        return {\n          item: v,\n          index: i,\n          parent: item\n        };\n      });\n\n      (_stack = stack).push.apply(_stack, _toConsumableArray(pushStack));\n    }\n  };\n\n  while (stack.length) {\n    var _ret = _loop();\n\n    switch (_ret) {\n      case \"continue\":\n        continue;\n\n      default:\n        if (_typeof(_ret) === \"object\") return _ret.v;\n    }\n  }\n}\n\nfunction _changeParent(item, parent) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var parentKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'parent';\n\n  // remove item from original list\n  if (item[parentKey]) {\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(item[parentKey][childrenKey], item);\n  }\n\n  item[parentKey] = parent;\n}\n\nfunction getTreeDataFromFlat(data, idKey, parentIdKey) {\n  data.forEach(function (item) {\n    return item.children = data.filter(function (v) {\n      return v[parentIdKey] === item[idKey];\n    });\n  });\n  return data.filter(function (item) {\n    return item[parentIdKey] == null;\n  });\n}\nfunction insertBefore(item, target) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var parentKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'parent';\n\n  if (item === target) {\n    return;\n  }\n\n  var siblings = target[parentKey][childrenKey];\n  var index = siblings.indexOf(target);\n\n  if (siblings[index - 1] !== item) {\n    if (item[parentKey] === target[parentKey]) {\n      Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(siblings, item);\n      index = siblings.indexOf(target);\n    } else {\n      _changeParent(item, target[parentKey]);\n    }\n\n    siblings.splice(index, 0, item);\n  }\n}\nfunction insertAfter(item, target) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var parentKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'parent';\n\n  if (item === target) {\n    return;\n  }\n\n  var targetParent = target[parentKey];\n  var siblings = targetParent[childrenKey];\n  var index = siblings.indexOf(target);\n\n  if (siblings[index + 1] !== item) {\n    if (item[parentKey] === target[parentKey]) {\n      Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(siblings, item);\n      index = siblings.indexOf(target);\n    } else {\n      _changeParent(item, target[parentKey]);\n    }\n\n    siblings.splice(index + 1, 0, item);\n  }\n}\nfunction prependTo(item, target) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n\n  if (item === target) {\n    throw \"can't prepend to self\";\n  }\n\n  var targetChildren = target[childrenKey];\n\n  if (targetChildren[0] !== item) {\n    _changeParent(item, target);\n\n    targetChildren.splice(0, 0, item);\n  }\n}\nfunction appendTo(item, target) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n\n  if (item === target) {\n    throw \"can't append to self\";\n  }\n\n  var targetChildren = target[childrenKey];\n  var targetChildrenLast = targetChildren[targetChildren.length - 1];\n\n  if (targetChildrenLast !== item) {\n    _changeParent(item, target);\n\n    targetChildren.push(item);\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHJlZS1oZWxwZXIvZGlzdC90cmVlLWhlbHBlci5lc20uanM/MDVmYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBQWlELGdCQUFnQjs7QUFFakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE1BQU0seURBQU87QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsTUFBTSx5REFBTztBQUNiO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTyxvQkFBb0I7O0FBRWhEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFPLG9CQUFvQjs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksNkRBQVc7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDZEQUFXO0FBQ2pCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sNkRBQVc7QUFDakI7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRW1JIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3RyZWUtaGVscGVyL2Rpc3QvdHJlZS1oZWxwZXIuZXNtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4qIHRyZWUtaGVscGVyIHYxLjQuMTRcbiogKGMpIHBocGhlIDxwaHBoZUBvdXRsb29rLmNvbT4gKGh0dHBzOi8vZ2l0aHViLmNvbS9waHBoZSlcbiogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuKi9cbmltcG9ydCB7IGlzQXJyYXksIGFycmF5UmVtb3ZlIH0gZnJvbSAnaGVscGVyLWpzJztcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgX3R5cGVvZiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG5mdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY2hpbGRyZW4nO1xuICB2YXIgY2xvbmVkO1xuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICBjbG9uZWQgPSBvYmoubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gY2xvbmUoaXRlbSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2xvbmVkID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcblxuICAgIGlmIChjbG9uZWRbY2hpbGRyZW5LZXldKSB7XG4gICAgICBjbG9uZWRbY2hpbGRyZW5LZXldID0gY2xvbmUoY2xvbmVkW2NoaWxkcmVuS2V5XSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNsb25lZDtcbn0gLy8g5pen54mI5rex5bqm5LyY5YWI6YGN5Y6GXG4vLyBvbGQgRGVwdGgtRmlyc3QtU2VhcmNoXG5cbmZ1bmN0aW9uIGZvckluKG9iaiwgaGFuZGxlcikge1xuICB2YXIgY2hpbGRyZW5LZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG5cbiAgdmFyIHJvb3RDaGlsZHJlbiwgcm9vdFBhcmVudCwgX2Z1bmM7XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIHJvb3RDaGlsZHJlbiA9IG9iajtcbiAgICByb290UGFyZW50ID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByb290Q2hpbGRyZW4gPSBbb2JqXTtcbiAgICByb290UGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIGlmIChyb290Q2hpbGRyZW4pIHtcbiAgICBfZnVuYyA9IGZ1bmN0aW9uIGZ1bmMoY2hpbGRyZW4sIHBhcmVudCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2tleV07XG5cbiAgICAgICAgaWYgKGhhbmRsZXIoY2hpbGQsIGtleSwgcGFyZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGRbY2hpbGRyZW5LZXldICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoX2Z1bmMoY2hpbGRbY2hpbGRyZW5LZXldLCBjaGlsZCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBfZnVuYyhyb290Q2hpbGRyZW4sIHJvb3RQYXJlbnQpO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0gLy8g5rex5bqm5LyY5YWI6YGN5Y6GXG4vLyBEZXB0aC1GaXJzdC1TZWFyY2hcblxuZnVuY3Rpb24gZGVwdGhGaXJzdFNlYXJjaChvYmosIGhhbmRsZXIpIHtcbiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuICB2YXIgcmV2ZXJzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkO1xuICB2YXIgcm9vdENoaWxkcmVuID0gaXNBcnJheShvYmopID8gb2JqIDogW29ial07IC8vXG5cbiAgdmFyIFN0b3BFeGNlcHRpb24gPSBmdW5jdGlvbiBTdG9wRXhjZXB0aW9uKCkge307XG5cbiAgdmFyIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKGNoaWxkcmVuLCBwYXJlbnQpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5zbGljZSgpO1xuICAgICAgY2hpbGRyZW4ucmV2ZXJzZSgpO1xuICAgIH1cblxuICAgIHZhciBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGNoaWxkcmVuW2ldO1xuICAgICAgdmFyIHIgPSBoYW5kbGVyKGl0ZW0sIGksIHBhcmVudCk7XG5cbiAgICAgIGlmIChyID09PSBmYWxzZSkge1xuICAgICAgICAvLyBzdG9wXG4gICAgICAgIHRocm93IG5ldyBTdG9wRXhjZXB0aW9uKCk7XG4gICAgICB9IGVsc2UgaWYgKHIgPT09ICdza2lwIGNoaWxkcmVuJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAociA9PT0gJ3NraXAgc2libGluZ3MnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVtjaGlsZHJlbktleV0gIT0gbnVsbCkge1xuICAgICAgICBmdW5jKGl0ZW1bY2hpbGRyZW5LZXldLCBpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdHJ5IHtcbiAgICBmdW5jKHJvb3RDaGlsZHJlbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFN0b3BFeGNlcHRpb24pIDsgZWxzZSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxufSAvLyDlub/luqbkvJjlhYjpgY3ljoZcbi8vIEJyZWFkdGgtRmlyc3QtU2VhcmNoXG5cbmZ1bmN0aW9uIGJyZWFkdGhGaXJzdFNlYXJjaChvYmosIGhhbmRsZXIpIHtcbiAgdmFyIHJldmVyc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDtcbiAgdmFyIHJvb3RDaGlsZHJlbiA9IGlzQXJyYXkob2JqKSA/IG9iaiA6IFtvYmpdOyAvL1xuXG4gIHZhciBzdGFjayA9IHJvb3RDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXRlbTogdixcbiAgICAgIGluZGV4OiBpXG4gICAgfTtcbiAgfSk7XG5cbiAgaWYgKHJldmVyc2UpIHtcbiAgICBzdGFjay5yZXZlcnNlKCk7XG4gIH1cblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICB2YXIgX3N0YWNrJHNoaWZ0ID0gc3RhY2suc2hpZnQoKSxcbiAgICAgICAgaXRlbSA9IF9zdGFjayRzaGlmdC5pdGVtLFxuICAgICAgICBpbmRleCA9IF9zdGFjayRzaGlmdC5pbmRleCxcbiAgICAgICAgcGFyZW50ID0gX3N0YWNrJHNoaWZ0LnBhcmVudDtcblxuICAgIHZhciByID0gaGFuZGxlcihpdGVtLCBpbmRleCwgcGFyZW50KTtcblxuICAgIGlmIChyID09PSBmYWxzZSkge1xuICAgICAgLy8gc3RvcFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdjogdm9pZCAwXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAociA9PT0gJ3NraXAgY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgIH0gZWxzZSBpZiAociA9PT0gJ3NraXAgc2libGluZ3MnKSB7XG4gICAgICBzdGFjayA9IHN0YWNrLmZpbHRlcihmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi5wYXJlbnQgIT09IHBhcmVudDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7XG4gICAgICB2YXIgX3N0YWNrO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBpdGVtLmNoaWxkcmVuO1xuXG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgIGNoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHB1c2hTdGFjayA9IGNoaWxkcmVuLm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGl0ZW06IHYsXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgcGFyZW50OiBpdGVtXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgKF9zdGFjayA9IHN0YWNrKS5wdXNoLmFwcGx5KF9zdGFjaywgX3RvQ29uc3VtYWJsZUFycmF5KHB1c2hTdGFjaykpO1xuICAgIH1cbiAgfTtcblxuICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgdmFyIF9yZXQgPSBfbG9vcCgpO1xuXG4gICAgc3dpdGNoIChfcmV0KSB7XG4gICAgICBjYXNlIFwiY29udGludWVcIjpcbiAgICAgICAgY29udGludWU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChfdHlwZW9mKF9yZXQpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBfY2hhbmdlUGFyZW50KGl0ZW0sIHBhcmVudCkge1xuICB2YXIgY2hpbGRyZW5LZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG4gIHZhciBwYXJlbnRLZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdwYXJlbnQnO1xuXG4gIC8vIHJlbW92ZSBpdGVtIGZyb20gb3JpZ2luYWwgbGlzdFxuICBpZiAoaXRlbVtwYXJlbnRLZXldKSB7XG4gICAgYXJyYXlSZW1vdmUoaXRlbVtwYXJlbnRLZXldW2NoaWxkcmVuS2V5XSwgaXRlbSk7XG4gIH1cblxuICBpdGVtW3BhcmVudEtleV0gPSBwYXJlbnQ7XG59XG5cbmZ1bmN0aW9uIGdldFRyZWVEYXRhRnJvbUZsYXQoZGF0YSwgaWRLZXksIHBhcmVudElkS2V5KSB7XG4gIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLmNoaWxkcmVuID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiB2W3BhcmVudElkS2V5XSA9PT0gaXRlbVtpZEtleV07XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbVtwYXJlbnRJZEtleV0gPT0gbnVsbDtcbiAgfSk7XG59XG5mdW5jdGlvbiBpbnNlcnRCZWZvcmUoaXRlbSwgdGFyZ2V0KSB7XG4gIHZhciBjaGlsZHJlbktleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NoaWxkcmVuJztcbiAgdmFyIHBhcmVudEtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ3BhcmVudCc7XG5cbiAgaWYgKGl0ZW0gPT09IHRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzaWJsaW5ncyA9IHRhcmdldFtwYXJlbnRLZXldW2NoaWxkcmVuS2V5XTtcbiAgdmFyIGluZGV4ID0gc2libGluZ3MuaW5kZXhPZih0YXJnZXQpO1xuXG4gIGlmIChzaWJsaW5nc1tpbmRleCAtIDFdICE9PSBpdGVtKSB7XG4gICAgaWYgKGl0ZW1bcGFyZW50S2V5XSA9PT0gdGFyZ2V0W3BhcmVudEtleV0pIHtcbiAgICAgIGFycmF5UmVtb3ZlKHNpYmxpbmdzLCBpdGVtKTtcbiAgICAgIGluZGV4ID0gc2libGluZ3MuaW5kZXhPZih0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfY2hhbmdlUGFyZW50KGl0ZW0sIHRhcmdldFtwYXJlbnRLZXldKTtcbiAgICB9XG5cbiAgICBzaWJsaW5ncy5zcGxpY2UoaW5kZXgsIDAsIGl0ZW0pO1xuICB9XG59XG5mdW5jdGlvbiBpbnNlcnRBZnRlcihpdGVtLCB0YXJnZXQpIHtcbiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuICB2YXIgcGFyZW50S2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAncGFyZW50JztcblxuICBpZiAoaXRlbSA9PT0gdGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRhcmdldFBhcmVudCA9IHRhcmdldFtwYXJlbnRLZXldO1xuICB2YXIgc2libGluZ3MgPSB0YXJnZXRQYXJlbnRbY2hpbGRyZW5LZXldO1xuICB2YXIgaW5kZXggPSBzaWJsaW5ncy5pbmRleE9mKHRhcmdldCk7XG5cbiAgaWYgKHNpYmxpbmdzW2luZGV4ICsgMV0gIT09IGl0ZW0pIHtcbiAgICBpZiAoaXRlbVtwYXJlbnRLZXldID09PSB0YXJnZXRbcGFyZW50S2V5XSkge1xuICAgICAgYXJyYXlSZW1vdmUoc2libGluZ3MsIGl0ZW0pO1xuICAgICAgaW5kZXggPSBzaWJsaW5ncy5pbmRleE9mKHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9jaGFuZ2VQYXJlbnQoaXRlbSwgdGFyZ2V0W3BhcmVudEtleV0pO1xuICAgIH1cblxuICAgIHNpYmxpbmdzLnNwbGljZShpbmRleCArIDEsIDAsIGl0ZW0pO1xuICB9XG59XG5mdW5jdGlvbiBwcmVwZW5kVG8oaXRlbSwgdGFyZ2V0KSB7XG4gIHZhciBjaGlsZHJlbktleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NoaWxkcmVuJztcblxuICBpZiAoaXRlbSA9PT0gdGFyZ2V0KSB7XG4gICAgdGhyb3cgXCJjYW4ndCBwcmVwZW5kIHRvIHNlbGZcIjtcbiAgfVxuXG4gIHZhciB0YXJnZXRDaGlsZHJlbiA9IHRhcmdldFtjaGlsZHJlbktleV07XG5cbiAgaWYgKHRhcmdldENoaWxkcmVuWzBdICE9PSBpdGVtKSB7XG4gICAgX2NoYW5nZVBhcmVudChpdGVtLCB0YXJnZXQpO1xuXG4gICAgdGFyZ2V0Q2hpbGRyZW4uc3BsaWNlKDAsIDAsIGl0ZW0pO1xuICB9XG59XG5mdW5jdGlvbiBhcHBlbmRUbyhpdGVtLCB0YXJnZXQpIHtcbiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuXG4gIGlmIChpdGVtID09PSB0YXJnZXQpIHtcbiAgICB0aHJvdyBcImNhbid0IGFwcGVuZCB0byBzZWxmXCI7XG4gIH1cblxuICB2YXIgdGFyZ2V0Q2hpbGRyZW4gPSB0YXJnZXRbY2hpbGRyZW5LZXldO1xuICB2YXIgdGFyZ2V0Q2hpbGRyZW5MYXN0ID0gdGFyZ2V0Q2hpbGRyZW5bdGFyZ2V0Q2hpbGRyZW4ubGVuZ3RoIC0gMV07XG5cbiAgaWYgKHRhcmdldENoaWxkcmVuTGFzdCAhPT0gaXRlbSkge1xuICAgIF9jaGFuZ2VQYXJlbnQoaXRlbSwgdGFyZ2V0KTtcblxuICAgIHRhcmdldENoaWxkcmVuLnB1c2goaXRlbSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgYXBwZW5kVG8sIGJyZWFkdGhGaXJzdFNlYXJjaCwgY2xvbmUsIGRlcHRoRmlyc3RTZWFyY2gsIGZvckluLCBnZXRUcmVlRGF0YUZyb21GbGF0LCBpbnNlcnRBZnRlciwgaW5zZXJ0QmVmb3JlLCBwcmVwZW5kVG8gfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/tree-helper/dist/tree-helper.esm.js\n");

/***/ }),

/***/ "./node_modules/vue-draggable-nested-tree/dist/vue-draggable-nested-tree.esm.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/vue-draggable-nested-tree/dist/vue-draggable-nested-tree.esm.js ***!
  \**************************************************************************************/
/*! exports provided: DraggableTree, DraggableTreeNode, Tree, TreeNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DraggableTree\", function() { return __vue_component__$3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DraggableTreeNode\", function() { return __vue_component__$2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tree\", function() { return __vue_component__$1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeNode\", function() { return __vue_component__; });\n/* harmony import */ var helper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helper-js */ \"./node_modules/helper-js/dist/helper-js.esm.js\");\n/* harmony import */ var tree_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tree-helper */ \"./node_modules/tree-helper/dist/tree-helper.esm.js\");\n/* harmony import */ var vue_runtime_helpers_dist_normalize_component_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue-runtime-helpers/dist/normalize-component.mjs */ \"./node_modules/vue-runtime-helpers/dist/normalize-component.mjs\");\n/* harmony import */ var draggable_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! draggable-helper */ \"./node_modules/draggable-helper/dist/draggable-helper.es.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/vue-draggable-nested-tree/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var vue_functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue-functions */ \"./node_modules/vue-functions/dist/vue-functions.esm.js\");\n/*!\n * vue-draggable-nested-tree v3.0.0-beta\n * (c) phphe <phphe@outlook.com> (https://github.com/phphe)\n * Released under the MIT License.\n */\n\n\n\n\n\n\n\n//\nvar script = {\n  name: 'TreeNode',\n  props: {\n    data: {},\n    store: {},\n    level: {\n      default: 0\n    } // readonly\n\n  },\n\n  data() {\n    return {\n      vm: this\n    };\n  },\n\n  computed: {\n    childrenLevel() {\n      return this.level + 1;\n    },\n\n    isRoot() {\n      return this.data && this.data.isRoot;\n    },\n\n    childrenVisible() {\n      var {\n        data\n      } = this;\n      return this.isRoot || data && data.children && data.children.length && data.open;\n    },\n\n    innerBackStyle() {\n      var r = {\n        marginBottom: this.store.space + 'px'\n      };\n\n      if (!this.isRoot && this.level > 1) {\n        r.paddingLeft = (this.level - 1) * this.store.indent + 'px';\n      }\n\n      return r;\n    }\n\n  },\n  watch: {\n    data: {\n      immediate: true,\n\n      handler(data) {\n        if (data) {\n          data._vm = this;\n\n          if (!data._treeNodePropertiesCompleted && !data.isRoot) {\n            this.store.compeleteNode(data, this.$parent.data);\n          }\n        }\n      }\n\n    }\n  } // methods: {},\n  // created() {},\n  // mounted() {},\n\n};\n\n/* script */\nvar __vue_script__ = script;\n/* template */\n\nvar __vue_render__ = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c(\"div\", {\n    staticClass: \"tree-node\",\n    class: [_vm.data.active ? _vm.store.activatedClass : \"\", _vm.data.open ? _vm.store.openedClass : \"\", _vm.data.class],\n    style: _vm.data.style,\n    attrs: {\n      id: _vm.data._id\n    }\n  }, [!_vm.isRoot ? _vm._t(\"node-inner-back\", [_c(\"div\", {\n    staticClass: \"tree-node-inner-back\",\n    class: [_vm.data.innerBackClass],\n    style: [_vm.innerBackStyle, _vm.data.innerBackStyle]\n  }, [_c(\"div\", {\n    staticClass: \"tree-node-inner\",\n    class: [_vm.data.innerClass],\n    style: [_vm.data.innerStyle]\n  }, [_vm._t(\"default\", null, {\n    data: _vm.data,\n    store: _vm.store,\n    vm: _vm.vm\n  })], 2)])], {\n    styleObj: _vm.innerBackStyle,\n    data: _vm.data,\n    store: _vm.store,\n    vm: _vm.vm\n  }) : _vm._e(), _c(\"transition\", {\n    attrs: {\n      name: _vm.store.childrenTransitionName\n    }\n  }, [_vm.childrenVisible ? _c(\"div\", {\n    staticClass: \"tree-node-children\"\n  }, _vm._l(_vm.data.children, function (child) {\n    return _c(\"TreeNode\", {\n      key: child._id,\n      attrs: {\n        data: child,\n        store: _vm.store,\n        level: _vm.childrenLevel\n      },\n      scopedSlots: _vm._u([{\n        key: \"default\",\n        fn: function fn(props) {\n          return [_vm._t(\"default\", null, {\n            data: props.data,\n            store: props.store,\n            vm: props.vm\n          })];\n        }\n      }, {\n        key: \"node-inner-back\",\n        fn: function fn(props) {\n          return _vm.store.customInnerBack ? [_vm._t(\"node-inner-back\", null, {\n            styleObj: props.styleObj,\n            data: props.data,\n            store: props.store,\n            vm: props.vm\n          })] : undefined;\n        }\n      }], null, true)\n    });\n  }), 1) : _vm._e()])], 2);\n};\n\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n/* style */\n\nvar __vue_inject_styles__ = undefined;\n/* scoped */\n\nvar __vue_scope_id__ = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__ = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__ = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__ = Object(vue_runtime_helpers_dist_normalize_component_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n  render: __vue_render__,\n  staticRenderFns: __vue_staticRenderFns__\n}, __vue_inject_styles__, __vue_script__, __vue_scope_id__, __vue_is_functional_template__, __vue_module_identifier__, false, undefined, undefined, undefined);\n\n//\nvar script$1 = {\n  props: {\n    data: {},\n    idLength: {\n      type: Number,\n      default: 5\n    },\n    indent: {\n      type: Number,\n      default: 16\n    },\n    activatedClass: {\n      default: 'active'\n    },\n    openedClass: {\n      default: 'open'\n    },\n    space: {\n      type: Number,\n      default: 10\n    },\n    // space between node, unit px\n    childrenTransitionName: {},\n    // there are issues under draggable tree\n    customInnerBack: {}\n  },\n  components: {\n    TreeNode: __vue_component__\n  },\n\n  data() {\n    return {\n      store: this,\n      rootData: null\n    };\n  },\n\n  // computed: {},\n  watch: {\n    data: {\n      immediate: true,\n\n      handler(data, old) {\n        if (data === old) {\n          return;\n        } // make rootData always use a same object\n\n\n        this.rootData = this.rootData || {\n          isRoot: true,\n          _id: \"tree_\".concat(this._uid, \"_node_root\"),\n          children: []\n        };\n        Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"breadthFirstSearch\"])(data, (node, k, parent) => {\n          this.compeleteNode(node, parent);\n        });\n        this.rootData.children = data;\n      }\n\n    }\n  },\n  methods: {\n    compeleteNode(node, parent) {\n      var compeletedData = {\n        open: true,\n        children: [],\n        active: false,\n        style: {},\n        class: '',\n        innerStyle: {},\n        innerClass: '',\n        innerBackStyle: {},\n        innerBackClass: {}\n      };\n\n      for (var key in compeletedData) {\n        if (!node.hasOwnProperty(key)) {\n          this.$set(node, key, compeletedData[key]);\n        }\n      }\n\n      this.$set(node, 'parent', parent || this.rootData);\n\n      if (!node.hasOwnProperty('_id')) {\n        node._id = \"tree_\".concat(this._uid, \"_node_\").concat(Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"strRand\"])(this.idLength));\n      }\n\n      node._treeNodePropertiesCompleted = true;\n    },\n\n    // pure node self\n    pure(node, withChildren, after) {\n      var t = Object.assign({}, node);\n      delete t._id;\n      delete t.parent;\n      delete t.children;\n      delete t.open;\n      delete t.active;\n      delete t.style;\n      delete t.class;\n      delete t.innerStyle;\n      delete t.innerClass;\n      delete t.innerBackStyle;\n      delete t.innerBackClass;\n\n      for (var key of Object.keys(t)) {\n        if (key[0] === '_') {\n          delete t[key];\n        }\n      }\n\n      if (withChildren && node.children) {\n        t.children = node.children.slice();\n        t.children.forEach((v, k) => {\n          t.children[k] = this.pure(v, withChildren);\n        });\n      }\n\n      if (after) {\n        return after(t, node) || t;\n      }\n\n      return t;\n    },\n\n    getNodeById(id) {\n      var r;\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"breadthFirstSearch\"])(this.rootData.children, node => {\n        if (node._id === id) {\n          r = node;\n          return false;\n        }\n      });\n      return r;\n    },\n\n    getActivated() {\n      var r = [];\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"breadthFirstSearch\"])(this.rootData.children, node => {\n        if (node.active) {\n          r.push(node);\n        }\n      });\n      return r;\n    },\n\n    getOpened() {\n      var r = [];\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"breadthFirstSearch\"])(this.rootData.children, node => {\n        if (node.open) {\n          r.push(node);\n        }\n      });\n      return r;\n    },\n\n    activeNode(node, inactiveOld) {\n\n      if (inactiveOld) {\n        this.getActivated().forEach(node2 => {\n          node2.active = false;\n        });\n      }\n\n      node.active = true;\n    },\n\n    toggleActive(node, inactiveOld) {\n      if (node.active) {\n        node.active = false;\n      } else {\n        this.activeNode(node, inactiveOld);\n      }\n    },\n\n    openNode(node, closeOld) {\n\n      if (closeOld) {\n        this.getOpened().forEach(node2 => {\n          node2.open = false;\n          this.$emit('nodeOpenChanged', node2);\n        });\n      }\n\n      node.open = true;\n      this.$emit('nodeOpenChanged', node);\n    },\n\n    toggleOpen(node, closeOld) {\n      if (node.open) {\n        node.open = false;\n        this.$emit('nodeOpenChanged', node);\n      } else {\n        this.openNode(node, closeOld);\n      }\n    },\n\n    getPureData(after) {\n      return this.pure(this.rootData, true, after).children;\n    },\n\n    deleteNode(node) {\n      return Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(node.parent.children, node);\n    }\n\n  } // created() {},\n  // mounted() {},\n\n};\n\n/* script */\nvar __vue_script__$1 = script$1;\n/* template */\n\nvar __vue_render__$1 = function __vue_render__() {\n  var _vm = this;\n\n  var _h = _vm.$createElement;\n\n  var _c = _vm._self._c || _h;\n\n  return _c(\"div\", {\n    staticClass: \"he-tree tree\"\n  }, [_c(\"TreeNode\", {\n    attrs: {\n      data: _vm.rootData,\n      store: _vm.store\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function fn(props) {\n        return [_vm._t(\"default\", null, {\n          data: props.data,\n          store: _vm.store,\n          vm: props.vm\n        })];\n      }\n    }, {\n      key: \"node-inner-back\",\n      fn: function fn(props) {\n        return _vm.customInnerBack ? [_vm._t(\"node-inner-back\", null, {\n          styleObj: props.styleObj,\n          data: props.data,\n          store: props.store,\n          vm: props.vm\n        })] : undefined;\n      }\n    }], null, true)\n  })], 1);\n};\n\nvar __vue_staticRenderFns__$1 = [];\n__vue_render__$1._withStripped = true;\n/* style */\n\nvar __vue_inject_styles__$1 = undefined;\n/* scoped */\n\nvar __vue_scope_id__$1 = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__$1 = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__$1 = false;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__$1 = Object(vue_runtime_helpers_dist_normalize_component_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n  render: __vue_render__$1,\n  staticRenderFns: __vue_staticRenderFns__$1\n}, __vue_inject_styles__$1, __vue_script__$1, __vue_scope_id__$1, __vue_is_functional_template__$1, __vue_module_identifier__$1, false, undefined, undefined, undefined);\n\nclass Cache {\n  constructor() {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()(this, \"store\", {});\n  }\n\n  has(name) {\n    return this.store.hasOwnProperty(name);\n  }\n\n  remember(name, getter) {\n    if (!this.has(name)) {\n      this.store[name] = {\n        value: getter()\n      };\n    }\n\n    return this.store[name].value;\n  }\n\n  forget(name) {\n    if (name) {\n      if (this.has(name)) {\n        delete this.store[name];\n      }\n    } else {\n      this.store = {};\n    }\n  }\n\n}\nfunction attachCache(obj, cache, toCache) {\n  var _loop = function _loop(key) {\n    Object.defineProperty(obj, key, {\n      get() {\n        return cache.remember(key, () => toCache[key].call(this));\n      }\n\n    });\n  };\n\n  for (var key in toCache) {\n    _loop(key);\n  }\n}\n\n// from https://gist.github.com/iddan/54d5d9e58311b0495a91bf06de661380\n\nif (!document.elementsFromPoint) {\n  document.elementsFromPoint = elementsFromPoint;\n}\n\nfunction elementsFromPoint(x, y) {\n  var parents = [];\n  var parent = void 0;\n\n  do {\n    if (parent !== document.elementFromPoint(x, y)) {\n      parent = document.elementFromPoint(x, y);\n      parents.push(parent);\n      parent.style.pointerEvents = 'none';\n    } else {\n      parent = false;\n    }\n  } while (parent);\n\n  parents.forEach(function (parent) {\n    return parent.style.pointerEvents = 'all';\n  });\n  return parents;\n}\n\nfunction getTreeByPoint(x, y, trees) {\n  var els = document.elementsFromPoint(x, y);\n  var treeEl;\n  var nodeEl;\n  var betweenEls = [];\n\n  for (var el of els) {\n    if (!nodeEl) {\n      if (Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"hasClass\"])(el, 'tree-node')) {\n        nodeEl = el;\n      }\n    } else {\n      // console.log(el);\n      if (Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"hasClass\"])(el, 'tree')) {\n        treeEl = el;\n        break;\n      }\n\n      betweenEls.push(el);\n    }\n  }\n\n  if (treeEl) {\n    // is target tree is another tree, and be covered by other element, like modal, popup\n    var covered = false;\n\n    if (!isParent(nodeEl, treeEl)) {\n      // cross tree\n      for (var _el of betweenEls) {\n        if (!isParent(_el, treeEl)) {\n          covered = true;\n          break;\n        }\n      }\n    } //\n\n\n    if (!covered) {\n      return trees.find(v => v.$el === treeEl);\n    }\n  }\n}\n\nfunction isParent(child, parent) {\n  var cur = child;\n\n  while (cur) {\n    cur = cur.parentNode;\n\n    if (cur === parent) {\n      return true;\n    }\n  }\n}\n\n// 对 drag placeholder进行的操作\n\nvar targets = {\n  'nothing': info => {},\n  'after': info => {\n    insertDplhAfterTo(info.dplh, info.targetNode);\n  },\n  'before': info => {\n    if (isNodeDroppable(info.targetNode.parent)) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"insertBefore\"])(info.dplh, info.targetNode);\n    } else {\n      insertDplhAfterTo(info.dplh, info.targetNode.parent);\n    }\n  },\n  'append': info => {\n    if (isNodeDroppable(info.targetNode)) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"appendTo\"])(info.dplh, info.targetNode);\n      if (!info.targetNode.open) info.store.toggleOpen(info.targetNode);\n    } else {\n      insertDplhAfterTo(info.dplh, info.targetNode);\n    }\n  },\n  'prepend': info => {\n    if (isNodeDroppable(info.targetNode)) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"prependTo\"])(info.dplh, info.targetNode);\n      if (!info.targetNode.open) info.store.toggleOpen(info.targetNode);\n    } else {\n      insertDplhAfterTo(info.dplh, info.targetNode);\n    }\n  },\n  'after target parent': info => {\n    insertDplhAfterTo(info.dplh, info.targetNode.parent);\n  },\n  // append to prev sibling\n  'append prev': info => {\n    if (isNodeDroppable(info.targetPrev)) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"appendTo\"])(info.dplh, info.targetPrev);\n      if (!info.targetPrev.open) info.store.toggleOpen(info.targetPrev);\n    } else {\n      insertDplhAfterTo(info.dplh, info.targetPrev);\n    }\n  },\n  // append to current tree\n  'append current tree': info => {\n    if (isNodeDroppable(info.currentTree.rootData)) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"appendTo\"])(info.dplh, info.currentTree.rootData);\n    }\n  }\n};\n\nfunction insertDplhAfterTo(dplh, targetNode, info) {\n  if (!targetNode) {\n    return false;\n  } else {\n    var closest = findParent(targetNode, node => node.parent && isNodeDroppable(node.parent));\n\n    if (closest) {\n      Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"insertAfter\"])(dplh, closest);\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isNodeDraggable(node) {\n  if (!draggableIds.hasOwnProperty(node._id)) {\n    var r;\n\n    if (node.hasOwnProperty('draggable')) {\n      r = node.draggable;\n    } else if (node.parent) {\n      r = isNodeDraggable(node.parent);\n    } else {\n      r = true;\n    }\n\n    draggableIds[node._id] = r;\n  }\n\n  return draggableIds[node._id];\n}\nfunction isNodeDroppable(node) {\n  if (!droppableIds.hasOwnProperty(node._id)) {\n    var r;\n\n    if (node.hasOwnProperty('droppable')) {\n      r = node.droppable;\n    } else if (node.parent) {\n      r = isNodeDroppable(node.parent);\n    } else {\n      r = true;\n    }\n\n    droppableIds[node._id] = r;\n  }\n\n  return droppableIds[node._id];\n} // find child, excluding dragging node default\n\nfunction findChild(info, children, handler, reverse) {\n  var len = children.length;\n\n  if (reverse) {\n    for (var i = len - 1; i >= 0; i--) {\n      var item = children[i]; // excluding dragging node\n\n      if (item !== info.node) {\n        if (handler(item, i)) {\n          return item;\n        }\n      }\n    }\n  } else {\n    for (var _i = 0; _i < len; _i++) {\n      var _item = children[_i]; // excluding dragging node\n\n      if (_item !== info.node) {\n        if (handler(_item, _i)) {\n          return _item;\n        }\n      }\n    }\n  }\n} // start from node self\n\n\nfunction findParent(node, handle) {\n  var current = node;\n\n  while (current) {\n    if (handle(current)) {\n      return current;\n    }\n\n    current = current.parent;\n  }\n}\n\nvar rules = {\n  // 另一节点存在\n  'targetNode existed': info => info.targetNode,\n  // 另一节点是拖动占位节点\n  'targetNode is placeholder': info => info.targetNode.isDragPlaceHolder,\n  // 另一节点在最上面\n  'targetNode at top': info => info.targetAtTop,\n  // 另一节点在最下面\n  'targetNode at bottom': info => info.targetAtBottom,\n  // 另一节点是根节点第二个子\n  'targetNode is the second child of root': info => info.currentTreeRootSecondChildExcludingDragging === info.targetNode,\n  // 拖动点坐标在任一树中, 同时, 起始树要可拖出, 当前树要可拖入\n  'currentTree existed': info => info.currentTree,\n  // 当前树为空(不包括占位节点)\n  'currentTree empty': info => !findChild(info, info.currentTree.rootData.children, v => v),\n  // 占位节点存在\n  'placeholder existed': info => info.dplhEl,\n  // 占位节点在当前树中\n  'placeholder in currentTree': info => info.dplhElInCurrentTree,\n  // 占位节点在最上面\n  'placeholder at top': info => info.dplhAtTop,\n  // 另一节点是打开的\n  'targetNode is open': info => info.targetNode.open,\n  // 另一节点有子(不包括占位节点)\n  'targetNode has children excluding placeholder': info => findChild(info, info.targetNode.children, v => v !== info.dplh),\n  // 另一节点是第一个节点\n  'targetNode is 1st child': info => findChild(info, info.targetNode.parent.children, v => v) === info.targetNode,\n  // 另一节点是最后节点\n  'targetNode is last child': info => findChild(info, info.targetNode.parent.children, v => v, true) === info.targetNode,\n  // 当前位置在另一节点inner垂直中线上\n  'on targetNode middle': info => info.offset.y <= info.tiMiddleY,\n  // 当前位置在另一节点inner左边\n  'at left': info => info.offset.x < info.tiOffset.x,\n  // 当前位置在另一节点innner indent位置右边\n  'at indent right': info => info.offset.x > info.tiOffset.x + info.currentTree.indent\n}; // convert rule output to Boolean\n\nvar _loop = function _loop(key) {\n  var old = rules[key];\n\n  rules[key] = function () {\n    return Boolean(old(...arguments));\n  };\n};\n\nfor (var key of Object.keys(rules)) {\n  _loop(key);\n}\n\nvar prevTree;\nvar droppableIds = {};\nvar draggableIds = {}; // context is vm\n\nfunction autoMoveDragPlaceHolder(draggableHelperInfo) {\n  var trees = this.store.trees;\n  var dhStore = draggableHelperInfo.store; // make info\n\n  var info = {\n    event: draggableHelperInfo.event,\n    el: dhStore.el,\n    vm: this,\n    node: this.data,\n    store: this.store,\n    dplh: this.store.dplh,\n    draggableHelperData: {\n      opt: draggableHelperInfo.options,\n      store: dhStore\n    }\n  }; //\n\n  attachCache(info, new Cache(), {\n    // dragging node coordinate\n    // 拖动中的节点相关坐标\n    nodeInnerEl() {\n      return this.el.querySelector('.tree-node-inner');\n    },\n\n    offset() {\n      return Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getOffset\"])(this.nodeInnerEl);\n    },\n\n    // left top point\n    offset2() {\n      return {\n        x: this.offset.x + this.nodeInnerEl.offsetWidth,\n        y: this.offset.y + this.nodeInnerEl.offsetHeight\n      };\n    },\n\n    // right bottom point\n    offsetToViewPort() {\n      var r = this.nodeInnerEl.getBoundingClientRect();\n      r.x = r.left;\n      r.y = r.top;\n      return r;\n    },\n\n    // tree\n    currentTree() {\n      // const currentTree = trees.find(tree => hp.isOffsetInEl(this.offset.x, this.offset.y, tree.$el))\n      var currentTree = getTreeByPoint(this.offsetToViewPort.x, this.offsetToViewPort.y, trees);\n\n      if (currentTree) {\n        var dragStartTree = this.store;\n\n        if (prevTree == null) {\n          prevTree = dragStartTree;\n        }\n\n        if (prevTree !== currentTree) {\n          if (!Object(vue_functions__WEBPACK_IMPORTED_MODULE_5__[\"isPropTrue\"])(dragStartTree.crossTree) || !Object(vue_functions__WEBPACK_IMPORTED_MODULE_5__[\"isPropTrue\"])(currentTree.crossTree)) {\n            return;\n          }\n\n          prevTree = currentTree;\n        }\n\n        if (!Object(vue_functions__WEBPACK_IMPORTED_MODULE_5__[\"isPropTrue\"])(currentTree.droppable)) {\n          return;\n        }\n\n        return currentTree;\n      }\n    },\n\n    currentTreeRootEl() {\n      return document.getElementById(this.currentTree.rootData._id);\n    },\n\n    currentTreeRootOf4() {\n      return getOf4(this.currentTreeRootEl, this.currentTree.space);\n    },\n\n    // the second child of currentTree root, excluding dragging node\n    currentTreeRootSecondChildExcludingDragging() {\n      return this.currentTree.rootData.children.slice(0, 3).filter(v => v !== this.node)[1];\n    },\n\n    // placeholder\n    dplhEl() {\n      return document.getElementById(this.dplh._id);\n    },\n\n    dplhElInCurrentTree() {\n      return Boolean(this.currentTree.$el.querySelector(\"#\".concat(this.dplh._id)));\n    },\n\n    dplhOf4() {\n      return getOf4(this.dplhEl, this.currentTree.space);\n    },\n\n    dplhAtTop() {\n      return Math.abs(this.dplhOf4.y - this.currentTreeRootOf4.y) < 5;\n    },\n\n    targetAtTop() {\n      return Math.abs(this.tiOf4.y - this.currentTreeRootOf4.y) < 5;\n    },\n\n    targetAtBottom() {\n      return Math.abs(this.tiOf4.y2 - this.currentTreeRootOf4.y2) < 5;\n    },\n\n    // most related node\n    // 最相关的另一个节点\n    targetNode() {\n      var {\n        currentTree\n      } = this;\n\n      if (!currentTree) {\n        throw 'no currentTree';\n      } //\n\n\n      var {\n        x,\n        y\n      } = this.offset;\n      var currentNode = currentTree.rootData;\n\n      while (true) {\n        var children = currentNode.children;\n\n        if (!children) {\n          break;\n        }\n\n        if (this.node.parent === currentNode) {\n          // dragging node is in currentNode children, remove it first\n          children = children.slice();\n          children.splice(children.indexOf(this.node), 1);\n        }\n\n        if (children.length === 0) {\n          break;\n        }\n\n        var t = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"binarySearch\"])(children, node => {\n          var el = document.getElementById(node._id);\n          var ty = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getOffset\"])(el).y;\n          var ty2 = ty + el.offsetHeight + currentTree.space;\n\n          if (ty2 < y) {\n            return -1;\n          } else if (ty <= y) {\n            return 0;\n          } else {\n            return 1;\n          }\n        }, null, null, true);\n\n        if (t.hit) {\n          currentNode = t.value;\n        } else {\n          if (t.bigger) {\n            currentNode = children[t.index - 1];\n          } else {\n            currentNode = t.value;\n          }\n        }\n\n        if (!currentNode) {\n          currentNode = children[0];\n          break;\n        }\n\n        if (!currentNode) {\n          break;\n        }\n\n        var innerEl = document.getElementById(currentNode._id).querySelector('.tree-node-inner');\n        var of = getOf4(innerEl, currentTree.space);\n\n        if (of.y <= y && y <= of.y2) {\n          break;\n        }\n      }\n\n      return currentNode;\n    },\n\n    targetNodeEl() {\n      return document.getElementById(this.targetNode._id);\n    },\n\n    // targetNodeInnerElOffset\n    tiInnerEl() {\n      return this.targetNodeEl.querySelector('.tree-node-inner');\n    },\n\n    tiOffset() {\n      return Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getOffset\"])(this.tiInnerEl);\n    },\n\n    tiOf4() {\n      return getOf4(this.tiInnerEl, this.currentTree.space);\n    },\n\n    tiMiddleY() {\n      return this.tiOffset.y + this.tiInnerEl.offsetHeight / 2;\n    },\n\n    //\n    targetPrevEl() {\n      // tree node 之间不要有其他元素, 否则这里会获取到错误的元素\n      var r = this.targetNodeEl.previousSibling;\n\n      if (Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"hasClass\"])(r, 'dragging')) {\n        r = r.previousSibling;\n      }\n\n      return r;\n    },\n\n    targetPrev() {\n      var id = this.targetPrevEl.getAttribute('id');\n      return this.currentTree.getNodeById(id);\n    }\n\n  }); // attachCache end\n  // decision start =================================\n\n  var executedRuleCache = {}; // exec rule\n\n  var exec = ruleId => {\n    if (!executedRuleCache.hasOwnProperty(ruleId)) {\n      var r;\n\n      try {\n        r = rules[ruleId](info);\n      } catch (e) {\n        r = e;\n\n        try {\n          if (process.env.DEVELOPE_SELF) {\n            // only visible when develop its self\n            console.warn(\"failed to execute rule '\".concat(ruleId, \"'\"), e);\n          }\n        } catch (e2) {}\n      }\n\n      executedRuleCache[ruleId] = r;\n    }\n\n    return executedRuleCache[ruleId];\n  };\n\n  if (exec('currentTree existed') === true) {\n    if (exec('targetNode is placeholder') === false) {\n      if (exec('targetNode is the second child of root') === true) {\n        if (exec('targetNode has children excluding placeholder') === false) {\n          if (exec('on targetNode middle') === true) {\n            targets['before'](info);\n          } else if (exec('on targetNode middle') === false) {\n            if (exec('at indent right') === true) {\n              targets['append'](info);\n            } else if (exec('at indent right') === false) {\n              targets['after'](info);\n            }\n          }\n        } else if (exec('targetNode has children excluding placeholder') === true) {\n          targets['prepend'](info);\n        }\n      } else if (exec('targetNode is the second child of root') === false) {\n        if (exec('currentTree empty') === false) {\n          if (exec('targetNode at top') === true) {\n            if (exec('placeholder in currentTree') === true) {\n              if (exec('targetNode has children excluding placeholder') === false) {\n                if (exec('on targetNode middle') === false) {\n                  if (exec('at indent right') === false) {\n                    targets['after'](info);\n                  } else if (exec('at indent right') === true) {\n                    targets['append'](info);\n                  }\n                } else if (exec('on targetNode middle') === true) {\n                  targets['before'](info);\n                }\n              } else if (exec('targetNode has children excluding placeholder') === true) {\n                if (exec('on targetNode middle') === false) {\n                  targets['prepend'](info);\n                } else if (exec('on targetNode middle') === true) {\n                  targets['before'](info);\n                }\n              }\n            } else if (exec('placeholder in currentTree') === false) {\n              targets['before'](info);\n            }\n          } else if (exec('targetNode at top') === false) {\n            if (exec('targetNode at bottom') === false) {\n              if (exec('placeholder at top') === true) {\n                targets['prepend'](info);\n              } else if (exec('placeholder at top') === false) {\n                if (exec('targetNode has children excluding placeholder') === true) {\n                  targets['prepend'](info);\n                } else if (exec('targetNode has children excluding placeholder') === false) {\n                  if (exec('targetNode is 1st child') === false) {\n                    if (exec('targetNode is last child') === false) {\n                      if (exec('on targetNode middle') === true) {\n                        if (exec('at indent right') === true) {\n                          targets['append'](info);\n                        } else if (exec('at indent right') === false) {\n                          targets['after'](info);\n                        }\n                      } else if (exec('on targetNode middle') === false) {\n                        if (exec('at indent right') === true) {\n                          targets['append'](info);\n                        } else if (exec('at indent right') === false) {\n                          targets['after'](info);\n                        }\n                      }\n                    } else if (exec('targetNode is last child') === true) {\n                      if (exec('at indent right') === true) {\n                        targets['append'](info);\n                      } else if (exec('at indent right') === false) {\n                        targets['after'](info);\n                      }\n                    }\n                  } else if (exec('targetNode is 1st child') === true) {\n                    if (exec('targetNode is last child') === true) {\n                      targets['append'](info);\n                    } else if (exec('targetNode is last child') === false) {\n                      if (exec('on targetNode middle') === false) {\n                        if (exec('at indent right') === false) {\n                          targets['after'](info);\n                        } else if (exec('at indent right') === true) {\n                          targets['append'](info);\n                        }\n                      } else if (exec('on targetNode middle') === true) {\n                        if (exec('at indent right') === false) {\n                          targets['after'](info);\n                        } else if (exec('at indent right') === true) {\n                          targets['append'](info);\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            } else if (exec('targetNode at bottom') === true) {\n              if (exec('placeholder in currentTree') === true) {\n                if (exec('on targetNode middle') === false) {\n                  if (exec('at indent right') === true) {\n                    targets['append'](info);\n                  } else if (exec('at indent right') === false) {\n                    targets['after'](info);\n                  }\n                } else if (exec('on targetNode middle') === true) {\n                  targets['append'](info);\n                }\n              } else if (exec('placeholder in currentTree') === false) {\n                targets['append'](info);\n              }\n            }\n          }\n        } else if (exec('currentTree empty') === true) {\n          targets['append current tree'](info);\n        }\n      }\n    } else if (exec('targetNode is placeholder') === true) {\n      if (exec('targetNode at bottom') === false) {\n        if (exec('targetNode is the second child of root') === false) {\n          if (exec('targetNode is 1st child') === true) {\n            if (exec('targetNode is last child') === false) {\n              targets['nothing'](info);\n            } else if (exec('targetNode is last child') === true) {\n              if (exec('on targetNode middle') === false) {\n                if (exec('at left') === true) {\n                  targets['after target parent'](info);\n                } else if (exec('at left') === false) {\n                  targets['nothing'](info);\n                }\n              } else if (exec('on targetNode middle') === true) {\n                if (exec('at left') === true) {\n                  targets['after target parent'](info);\n                } else if (exec('at left') === false) {\n                  targets['nothing'](info);\n                }\n              }\n            }\n          } else if (exec('targetNode is 1st child') === false) {\n            if (exec('targetNode is last child') === true) {\n              if (exec('on targetNode middle') === true) {\n                if (exec('at left') === true) {\n                  targets['after target parent'](info);\n                } else if (exec('at left') === false) {\n                  if (exec('at indent right') === true) {\n                    targets['append prev'](info);\n                  } else if (exec('at indent right') === false) {\n                    targets['nothing'](info);\n                  }\n                }\n              } else if (exec('on targetNode middle') === false) {\n                if (exec('at left') === true) {\n                  targets['after target parent'](info);\n                } else if (exec('at left') === false) {\n                  if (exec('at indent right') === true) {\n                    targets['append prev'](info);\n                  } else if (exec('at indent right') === false) {\n                    targets['nothing'](info);\n                  }\n                }\n              }\n            } else if (exec('targetNode is last child') === false) {\n              if (exec('on targetNode middle') === true) {\n                if (exec('at left') === true) {\n                  targets['nothing'](info);\n                } else if (exec('at left') === false) {\n                  if (exec('at indent right') === true) {\n                    targets['append prev'](info);\n                  } else if (exec('at indent right') === false) {\n                    targets['nothing'](info);\n                  }\n                }\n              } else if (exec('on targetNode middle') === false) {\n                if (exec('at left') === true) {\n                  targets['nothing'](info);\n                } else if (exec('at left') === false) {\n                  if (exec('at indent right') === true) {\n                    targets['append prev'](info);\n                  } else if (exec('at indent right') === false) {\n                    targets['nothing'](info);\n                  }\n                }\n              }\n            }\n          }\n        } else if (exec('targetNode is the second child of root') === true) {\n          if (exec('on targetNode middle') === true) {\n            if (exec('at indent right') === true) {\n              targets['append prev'](info);\n            } else if (exec('at indent right') === false) {\n              targets['nothing'](info);\n            }\n          } else if (exec('on targetNode middle') === false) {\n            if (exec('at indent right') === true) {\n              targets['append prev'](info);\n            } else if (exec('at indent right') === false) {\n              targets['nothing'](info);\n            }\n          }\n        }\n      } else if (exec('targetNode at bottom') === true) {\n        if (exec('targetNode is 1st child') === true) {\n          if (exec('on targetNode middle') === false) {\n            if (exec('at left') === true) {\n              targets['after target parent'](info);\n            } else if (exec('at left') === false) {\n              targets['nothing'](info);\n            }\n          } else if (exec('on targetNode middle') === true) {\n            if (exec('at left') === false) {\n              targets['nothing'](info);\n            } else if (exec('at left') === true) {\n              targets['after target parent'](info);\n            }\n          }\n        } else if (exec('targetNode is 1st child') === false) {\n          if (exec('on targetNode middle') === false) {\n            if (exec('at left') === true) {\n              targets['after target parent'](info);\n            } else if (exec('at left') === false) {\n              if (exec('at indent right') === true) {\n                targets['append prev'](info);\n              } else if (exec('at indent right') === false) {\n                targets['nothing'](info);\n              }\n            }\n          } else if (exec('on targetNode middle') === true) {\n            if (exec('at left') === true) {\n              targets['after target parent'](info);\n            } else if (exec('at left') === false) {\n              if (exec('at indent right') === true) {\n                targets['append prev'](info);\n              } else if (exec('at indent right') === false) {\n                targets['nothing'](info);\n              }\n            }\n          }\n        }\n      }\n    }\n  } else if (exec('currentTree existed') === false) {\n    targets['nothing'](info);\n  } // decision end =================================\n  //\n\n}\n\nfunction getOf4(el, space) {\n  var r = Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"getOffset\"])(el);\n  r.x2 = r.x + el.offsetWidth;\n  r.y2 = r.y + el.offsetHeight + space;\n  return r;\n}\n\nautoMoveDragPlaceHolder.dragStart = function dragStart() {};\n\nautoMoveDragPlaceHolder.dragEnd = function dragEnd() {\n  prevTree = null;\n  droppableIds = {};\n  draggableIds = {};\n};\n\nvar script$2 = {\n  extends: __vue_component__,\n  name: 'TreeNode',\n\n  mounted() {\n    this.store.isNodeDraggable = isNodeDraggable;\n    this.store.isNodeDroppable = isNodeDroppable;\n\n    if (this.isRoot || this.data.isDragPlaceHolder) {\n      return;\n    }\n\n    var {\n      dplh\n    } = this.store;\n    this.$watch('store.draggable', draggable => {\n      if (Object(vue_functions__WEBPACK_IMPORTED_MODULE_5__[\"isPropTrue\"])(draggable)) {\n        var triggerEl = this.store.getTriggerEl ? this.store.getTriggerEl(this) : this.$el.querySelector('.tree-node-inner');\n        this._draggableDestroy = Object(draggable_helper__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(triggerEl, {\n          preventSelect: Object(vue_functions__WEBPACK_IMPORTED_MODULE_5__[\"isPropTrue\"])(this.store.preventSelect),\n          // trigger el\n          getEl: () => this.$el,\n          minTranslate: 10,\n          drag: (e, opt, store) => {\n            autoMoveDragPlaceHolder.dragStart(); // this store is not tree\n\n            var draggableHelperInfo = {\n              event: e,\n              options: opt,\n              store\n            };\n\n            if (this.store.ondragstart && this.store.ondragstart(this.data, draggableHelperInfo) === false) {\n              return false;\n            }\n\n            if (!isNodeDraggable(this.data)) {\n              return false;\n            }\n\n            this.store.$emit('drag', this.data); // record start positon\n\n            var siblings = this.data.parent.children;\n            this.startPosition = {\n              siblings,\n              index: siblings.indexOf(this.data)\n            }; //\n\n            dplh.innerStyle.height = store.el.offsetHeight + 'px';\n            Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"insertAfter\"])(dplh, this.data);\n            this.data.class += ' dragging'; // console.log('drag start');\n          },\n          moving: (e, opt, store) => {\n            if (store.movedCount === 0) {\n              return;\n            }\n\n            var draggableHelperInfo = {\n              event: e,\n              options: opt,\n              store\n            };\n            return autoMoveDragPlaceHolder.call(this, draggableHelperInfo);\n          },\n          drop: (e, opt, store) => {\n            autoMoveDragPlaceHolder.dragEnd();\n            var draggableHelperInfo = {\n              event: e,\n              options: opt,\n              store\n            };\n\n            if (this.store.ondragend && this.store.ondragend(this.data, draggableHelperInfo) === false) {\n              Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(dplh.parent.children, dplh); // can't drop, no change\n            } else {\n              var targetTree = dplh._vm.store;\n              var crossTree = targetTree !== this.store;\n              var oldTree = crossTree ? this.store : null;\n              Object(tree_helper__WEBPACK_IMPORTED_MODULE_1__[\"insertAfter\"])(this.data, dplh);\n              Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(dplh.parent.children, dplh);\n              this.data.class = this.data.class.replace(/(^| )dragging( |$)/g, ' ');\n              targetTree.$emit('drop', this.data, targetTree, oldTree);\n              oldTree && oldTree.$emit('drop', this.data, targetTree, oldTree); // emit change event if changed\n\n              var siblings = this.data.parent.children;\n\n              if (siblings === this.startPosition.siblings && siblings.indexOf(this.data) === this.startPosition.index) ; else {\n                this.store.$emit('change', this.data, targetTree, oldTree);\n                oldTree && oldTree.$emit('change', this.data, targetTree, oldTree);\n              }\n\n              this.startPosition = null;\n            } // console.log('drag end');\n\n          }\n        });\n      } else {\n        if (this._draggableDestroy) {\n          this._draggableDestroy();\n\n          this._draggableDestroy = null;\n        }\n      }\n    }, {\n      immediate: true\n    });\n  }\n\n};\n\n/* script */\nvar __vue_script__$2 = script$2;\n/* template */\n\n/* style */\n\nvar __vue_inject_styles__$2 = undefined;\n/* scoped */\n\nvar __vue_scope_id__$2 = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__$2 = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__$2 = undefined;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__$2 = Object(vue_runtime_helpers_dist_normalize_component_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, __vue_inject_styles__$2, __vue_script__$2, __vue_scope_id__$2, __vue_is_functional_template__$2, __vue_module_identifier__$2, false, undefined, undefined, undefined);\n\nvar trees = []; // for multiple trees\n// DragPlaceHolder, unique\n\nvar dplh = {\n  _id: 'draggable_tree_drag_placeHolder',\n  level: null,\n  droppable: false,\n  isDragPlaceHolder: true,\n  class: 'draggable-placeholder',\n  style: {},\n  innerStyle: {},\n  innerClass: 'draggable-placeholder-inner',\n  innerBackStyle: {},\n  innerBackClass: 'draggable-placeholder-inner-back' // children: [],\n\n};\nvar script$3 = {\n  extends: __vue_component__$1,\n  props: {\n    getTriggerEl: {\n      type: Function\n    },\n    draggable: {},\n    droppable: {\n      default: true\n    },\n    crossTree: {},\n    ondragstart: {\n      type: Function\n    },\n    ondragend: {\n      type: Function\n    },\n    preventSelect: {\n      default: true\n    }\n  },\n  components: {\n    TreeNode: __vue_component__$2\n  },\n\n  data() {\n    return {\n      // DragPlaceHolder\n      dplh,\n      trees\n    };\n  },\n\n  // computed: {},\n  // watch: {},\n  // methods: {},\n  created() {\n    trees.push(this);\n  },\n\n  mounted() {},\n\n  beforeDestroy() {\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_0__[\"arrayRemove\"])(trees, this);\n  }\n\n};\n\n/* script */\nvar __vue_script__$3 = script$3;\n/* template */\n\n/* style */\n\nvar __vue_inject_styles__$3 = undefined;\n/* scoped */\n\nvar __vue_scope_id__$3 = undefined;\n/* module identifier */\n\nvar __vue_module_identifier__$3 = undefined;\n/* functional template */\n\nvar __vue_is_functional_template__$3 = undefined;\n/* style inject */\n\n/* style inject SSR */\n\n/* style inject shadow dom */\n\nvar __vue_component__$3 = Object(vue_runtime_helpers_dist_normalize_component_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({}, __vue_inject_styles__$3, __vue_script__$3, __vue_scope_id__$3, __vue_is_functional_template__$3, __vue_module_identifier__$3, false, undefined, undefined, undefined);\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWRyYWdnYWJsZS1uZXN0ZWQtdHJlZS9kaXN0L3Z1ZS1kcmFnZ2FibGUtbmVzdGVkLXRyZWUuZXNtLmpzPzAzYTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNvRjtBQUNhO0FBQ2hCO0FBQ2xDO0FBQ3FCO0FBQ3pCOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHLGVBQWU7QUFDbEIsaUJBQWlCO0FBQ2pCLGlCQUFpQjs7QUFFakI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFD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O0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxJQUFJLDRFQUFlLGtCQUFrQjtBQUNyQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSwwREFBUTtBQUNsQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsVUFBVSwwREFBUTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLGdFQUFZO0FBQ2xCLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLDREQUFRO0FBQ2Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTSw2REFBUztBQUNmO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFRO0FBQ2Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLDREQUFRO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLE1BQU0sK0RBQVc7QUFDakIsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLFFBQVE7QUFDakMsNkJBQTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLFVBQVU7QUFDOUIsK0JBQStCOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsYUFBYSwyREFBUztBQUN0QixLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsZ0VBQVUsOEJBQThCLGdFQUFVO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxhQUFhLGdFQUFVO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPOzs7QUFHUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLDhEQUFZO0FBQzVCO0FBQ0EsbUJBQW1CLDJEQUFTO0FBQzVCOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLGFBQWEsMkRBQVM7QUFDdEIsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLDBEQUFRO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUcsRUFBRTtBQUNMOztBQUVBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQSxVQUFVLDJEQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFVBQVUsZ0VBQVU7QUFDcEI7QUFDQSxpQ0FBaUMsZ0VBQWU7QUFDaEQseUJBQXlCLGdFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsZ0RBQWdEOztBQUVoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQSxZQUFZLCtEQUFXO0FBQ3ZCLDJDQUEyQztBQUMzQyxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyw2REFBVyw2QkFBNkI7QUFDdEQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0RBQVc7QUFDekIsY0FBYyw2REFBVztBQUN6QjtBQUNBO0FBQ0EsK0VBQStFOztBQUUvRTs7QUFFQSx5SEFBeUg7QUFDekg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsMEJBQTBCLGdHQUFpQixHQUFHOztBQUU5QyxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQjtBQUNBLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxpQkFBaUI7QUFDakIsY0FBYztBQUNkLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxjQUFjOztBQUVkO0FBQ0EsSUFBSSw2REFBVztBQUNmOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDBCQUEwQixnR0FBaUIsR0FBRzs7QUFFd0ciLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWRyYWdnYWJsZS1uZXN0ZWQtdHJlZS9kaXN0L3Z1ZS1kcmFnZ2FibGUtbmVzdGVkLXRyZWUuZXNtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiB2dWUtZHJhZ2dhYmxlLW5lc3RlZC10cmVlIHYzLjAuMC1iZXRhXG4gKiAoYykgcGhwaGUgPHBocGhlQG91dGxvb2suY29tPiAoaHR0cHM6Ly9naXRodWIuY29tL3BocGhlKVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBzdHJSYW5kLCBhcnJheVJlbW92ZSwgaGFzQ2xhc3MsIGdldE9mZnNldCwgYmluYXJ5U2VhcmNoIH0gZnJvbSAnaGVscGVyLWpzJztcbmltcG9ydCB7IGJyZWFkdGhGaXJzdFNlYXJjaCwgaW5zZXJ0QmVmb3JlLCBhcHBlbmRUbywgcHJlcGVuZFRvLCBpbnNlcnRBZnRlciB9IGZyb20gJ3RyZWUtaGVscGVyJztcbmltcG9ydCBfX3Z1ZV9ub3JtYWxpemVfXyBmcm9tICd2dWUtcnVudGltZS1oZWxwZXJzL2Rpc3Qvbm9ybWFsaXplLWNvbXBvbmVudC5tanMnO1xuaW1wb3J0IGRyYWdnYWJsZUhlbHBlciBmcm9tICdkcmFnZ2FibGUtaGVscGVyJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgeyBpc1Byb3BUcnVlIH0gZnJvbSAndnVlLWZ1bmN0aW9ucyc7XG5cbi8vXG52YXIgc2NyaXB0ID0ge1xuICBuYW1lOiAnVHJlZU5vZGUnLFxuICBwcm9wczoge1xuICAgIGRhdGE6IHt9LFxuICAgIHN0b3JlOiB7fSxcbiAgICBsZXZlbDoge1xuICAgICAgZGVmYXVsdDogMFxuICAgIH0gLy8gcmVhZG9ubHlcblxuICB9LFxuXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZtOiB0aGlzXG4gICAgfTtcbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIGNoaWxkcmVuTGV2ZWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXZlbCArIDE7XG4gICAgfSxcblxuICAgIGlzUm9vdCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLmlzUm9vdDtcbiAgICB9LFxuXG4gICAgY2hpbGRyZW5WaXNpYmxlKCkge1xuICAgICAgdmFyIHtcbiAgICAgICAgZGF0YVxuICAgICAgfSA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5pc1Jvb3QgfHwgZGF0YSAmJiBkYXRhLmNoaWxkcmVuICYmIGRhdGEuY2hpbGRyZW4ubGVuZ3RoICYmIGRhdGEub3BlbjtcbiAgICB9LFxuXG4gICAgaW5uZXJCYWNrU3R5bGUoKSB7XG4gICAgICB2YXIgciA9IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLnN0b3JlLnNwYWNlICsgJ3B4J1xuICAgICAgfTtcblxuICAgICAgaWYgKCF0aGlzLmlzUm9vdCAmJiB0aGlzLmxldmVsID4gMSkge1xuICAgICAgICByLnBhZGRpbmdMZWZ0ID0gKHRoaXMubGV2ZWwgLSAxKSAqIHRoaXMuc3RvcmUuaW5kZW50ICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgZGF0YToge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlLFxuXG4gICAgICBoYW5kbGVyKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICBkYXRhLl92bSA9IHRoaXM7XG5cbiAgICAgICAgICBpZiAoIWRhdGEuX3RyZWVOb2RlUHJvcGVydGllc0NvbXBsZXRlZCAmJiAhZGF0YS5pc1Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuY29tcGVsZXRlTm9kZShkYXRhLCB0aGlzLiRwYXJlbnQuZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG4gIH0gLy8gbWV0aG9kczoge30sXG4gIC8vIGNyZWF0ZWQoKSB7fSxcbiAgLy8gbW91bnRlZCgpIHt9LFxuXG59O1xuXG4vKiBzY3JpcHQgKi9cbnZhciBfX3Z1ZV9zY3JpcHRfXyA9IHNjcmlwdDtcbi8qIHRlbXBsYXRlICovXG5cbnZhciBfX3Z1ZV9yZW5kZXJfXyA9IGZ1bmN0aW9uIF9fdnVlX3JlbmRlcl9fKCkge1xuICB2YXIgX3ZtID0gdGhpcztcblxuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7XG5cbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oO1xuXG4gIHJldHVybiBfYyhcImRpdlwiLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidHJlZS1ub2RlXCIsXG4gICAgY2xhc3M6IFtfdm0uZGF0YS5hY3RpdmUgPyBfdm0uc3RvcmUuYWN0aXZhdGVkQ2xhc3MgOiBcIlwiLCBfdm0uZGF0YS5vcGVuID8gX3ZtLnN0b3JlLm9wZW5lZENsYXNzIDogXCJcIiwgX3ZtLmRhdGEuY2xhc3NdLFxuICAgIHN0eWxlOiBfdm0uZGF0YS5zdHlsZSxcbiAgICBhdHRyczoge1xuICAgICAgaWQ6IF92bS5kYXRhLl9pZFxuICAgIH1cbiAgfSwgWyFfdm0uaXNSb290ID8gX3ZtLl90KFwibm9kZS1pbm5lci1iYWNrXCIsIFtfYyhcImRpdlwiLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidHJlZS1ub2RlLWlubmVyLWJhY2tcIixcbiAgICBjbGFzczogW192bS5kYXRhLmlubmVyQmFja0NsYXNzXSxcbiAgICBzdHlsZTogW192bS5pbm5lckJhY2tTdHlsZSwgX3ZtLmRhdGEuaW5uZXJCYWNrU3R5bGVdXG4gIH0sIFtfYyhcImRpdlwiLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwidHJlZS1ub2RlLWlubmVyXCIsXG4gICAgY2xhc3M6IFtfdm0uZGF0YS5pbm5lckNsYXNzXSxcbiAgICBzdHlsZTogW192bS5kYXRhLmlubmVyU3R5bGVdXG4gIH0sIFtfdm0uX3QoXCJkZWZhdWx0XCIsIG51bGwsIHtcbiAgICBkYXRhOiBfdm0uZGF0YSxcbiAgICBzdG9yZTogX3ZtLnN0b3JlLFxuICAgIHZtOiBfdm0udm1cbiAgfSldLCAyKV0pXSwge1xuICAgIHN0eWxlT2JqOiBfdm0uaW5uZXJCYWNrU3R5bGUsXG4gICAgZGF0YTogX3ZtLmRhdGEsXG4gICAgc3RvcmU6IF92bS5zdG9yZSxcbiAgICB2bTogX3ZtLnZtXG4gIH0pIDogX3ZtLl9lKCksIF9jKFwidHJhbnNpdGlvblwiLCB7XG4gICAgYXR0cnM6IHtcbiAgICAgIG5hbWU6IF92bS5zdG9yZS5jaGlsZHJlblRyYW5zaXRpb25OYW1lXG4gICAgfVxuICB9LCBbX3ZtLmNoaWxkcmVuVmlzaWJsZSA/IF9jKFwiZGl2XCIsIHtcbiAgICBzdGF0aWNDbGFzczogXCJ0cmVlLW5vZGUtY2hpbGRyZW5cIlxuICB9LCBfdm0uX2woX3ZtLmRhdGEuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBfYyhcIlRyZWVOb2RlXCIsIHtcbiAgICAgIGtleTogY2hpbGQuX2lkLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgZGF0YTogY2hpbGQsXG4gICAgICAgIHN0b3JlOiBfdm0uc3RvcmUsXG4gICAgICAgIGxldmVsOiBfdm0uY2hpbGRyZW5MZXZlbFxuICAgICAgfSxcbiAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW3tcbiAgICAgICAga2V5OiBcImRlZmF1bHRcIixcbiAgICAgICAgZm46IGZ1bmN0aW9uIGZuKHByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIFtfdm0uX3QoXCJkZWZhdWx0XCIsIG51bGwsIHtcbiAgICAgICAgICAgIGRhdGE6IHByb3BzLmRhdGEsXG4gICAgICAgICAgICBzdG9yZTogcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICB2bTogcHJvcHMudm1cbiAgICAgICAgICB9KV07XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm5vZGUtaW5uZXItYmFja1wiLFxuICAgICAgICBmbjogZnVuY3Rpb24gZm4ocHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gX3ZtLnN0b3JlLmN1c3RvbUlubmVyQmFjayA/IFtfdm0uX3QoXCJub2RlLWlubmVyLWJhY2tcIiwgbnVsbCwge1xuICAgICAgICAgICAgc3R5bGVPYmo6IHByb3BzLnN0eWxlT2JqLFxuICAgICAgICAgICAgZGF0YTogcHJvcHMuZGF0YSxcbiAgICAgICAgICAgIHN0b3JlOiBwcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIHZtOiBwcm9wcy52bVxuICAgICAgICAgIH0pXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfV0sIG51bGwsIHRydWUpXG4gICAgfSk7XG4gIH0pLCAxKSA6IF92bS5fZSgpXSldLCAyKTtcbn07XG5cbnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyA9IFtdO1xuX192dWVfcmVuZGVyX18uX3dpdGhTdHJpcHBlZCA9IHRydWU7XG4vKiBzdHlsZSAqL1xuXG52YXIgX192dWVfaW5qZWN0X3N0eWxlc19fID0gdW5kZWZpbmVkO1xuLyogc2NvcGVkICovXG5cbnZhciBfX3Z1ZV9zY29wZV9pZF9fID0gdW5kZWZpbmVkO1xuLyogbW9kdWxlIGlkZW50aWZpZXIgKi9cblxudmFyIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18gPSB1bmRlZmluZWQ7XG4vKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovXG5cbnZhciBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18gPSBmYWxzZTtcbi8qIHN0eWxlIGluamVjdCAqL1xuXG4vKiBzdHlsZSBpbmplY3QgU1NSICovXG5cbi8qIHN0eWxlIGluamVjdCBzaGFkb3cgZG9tICovXG5cbnZhciBfX3Z1ZV9jb21wb25lbnRfXyA9IF9fdnVlX25vcm1hbGl6ZV9fKHtcbiAgcmVuZGVyOiBfX3Z1ZV9yZW5kZXJfXyxcbiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfX1xufSwgX192dWVfaW5qZWN0X3N0eWxlc19fLCBfX3Z1ZV9zY3JpcHRfXywgX192dWVfc2NvcGVfaWRfXywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fLCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fLCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cbi8vXG52YXIgc2NyaXB0JDEgPSB7XG4gIHByb3BzOiB7XG4gICAgZGF0YToge30sXG4gICAgaWRMZW5ndGg6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDVcbiAgICB9LFxuICAgIGluZGVudDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMTZcbiAgICB9LFxuICAgIGFjdGl2YXRlZENsYXNzOiB7XG4gICAgICBkZWZhdWx0OiAnYWN0aXZlJ1xuICAgIH0sXG4gICAgb3BlbmVkQ2xhc3M6IHtcbiAgICAgIGRlZmF1bHQ6ICdvcGVuJ1xuICAgIH0sXG4gICAgc3BhY2U6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDEwXG4gICAgfSxcbiAgICAvLyBzcGFjZSBiZXR3ZWVuIG5vZGUsIHVuaXQgcHhcbiAgICBjaGlsZHJlblRyYW5zaXRpb25OYW1lOiB7fSxcbiAgICAvLyB0aGVyZSBhcmUgaXNzdWVzIHVuZGVyIGRyYWdnYWJsZSB0cmVlXG4gICAgY3VzdG9tSW5uZXJCYWNrOiB7fVxuICB9LFxuICBjb21wb25lbnRzOiB7XG4gICAgVHJlZU5vZGU6IF9fdnVlX2NvbXBvbmVudF9fXG4gIH0sXG5cbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RvcmU6IHRoaXMsXG4gICAgICByb290RGF0YTogbnVsbFxuICAgIH07XG4gIH0sXG5cbiAgLy8gY29tcHV0ZWQ6IHt9LFxuICB3YXRjaDoge1xuICAgIGRhdGE6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcblxuICAgICAgaGFuZGxlcihkYXRhLCBvbGQpIHtcbiAgICAgICAgaWYgKGRhdGEgPT09IG9sZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBtYWtlIHJvb3REYXRhIGFsd2F5cyB1c2UgYSBzYW1lIG9iamVjdFxuXG5cbiAgICAgICAgdGhpcy5yb290RGF0YSA9IHRoaXMucm9vdERhdGEgfHwge1xuICAgICAgICAgIGlzUm9vdDogdHJ1ZSxcbiAgICAgICAgICBfaWQ6IFwidHJlZV9cIi5jb25jYXQodGhpcy5fdWlkLCBcIl9ub2RlX3Jvb3RcIiksXG4gICAgICAgICAgY2hpbGRyZW46IFtdXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFkdGhGaXJzdFNlYXJjaChkYXRhLCAobm9kZSwgaywgcGFyZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5jb21wZWxldGVOb2RlKG5vZGUsIHBhcmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvb3REYXRhLmNoaWxkcmVuID0gZGF0YTtcbiAgICAgIH1cblxuICAgIH1cbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGNvbXBlbGV0ZU5vZGUobm9kZSwgcGFyZW50KSB7XG4gICAgICB2YXIgY29tcGVsZXRlZERhdGEgPSB7XG4gICAgICAgIG9wZW46IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICBjbGFzczogJycsXG4gICAgICAgIGlubmVyU3R5bGU6IHt9LFxuICAgICAgICBpbm5lckNsYXNzOiAnJyxcbiAgICAgICAgaW5uZXJCYWNrU3R5bGU6IHt9LFxuICAgICAgICBpbm5lckJhY2tDbGFzczoge31cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBjb21wZWxldGVkRGF0YSkge1xuICAgICAgICBpZiAoIW5vZGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMuJHNldChub2RlLCBrZXksIGNvbXBlbGV0ZWREYXRhW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJHNldChub2RlLCAncGFyZW50JywgcGFyZW50IHx8IHRoaXMucm9vdERhdGEpO1xuXG4gICAgICBpZiAoIW5vZGUuaGFzT3duUHJvcGVydHkoJ19pZCcpKSB7XG4gICAgICAgIG5vZGUuX2lkID0gXCJ0cmVlX1wiLmNvbmNhdCh0aGlzLl91aWQsIFwiX25vZGVfXCIpLmNvbmNhdChzdHJSYW5kKHRoaXMuaWRMZW5ndGgpKTtcbiAgICAgIH1cblxuICAgICAgbm9kZS5fdHJlZU5vZGVQcm9wZXJ0aWVzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLy8gcHVyZSBub2RlIHNlbGZcbiAgICBwdXJlKG5vZGUsIHdpdGhDaGlsZHJlbiwgYWZ0ZXIpIHtcbiAgICAgIHZhciB0ID0gT2JqZWN0LmFzc2lnbih7fSwgbm9kZSk7XG4gICAgICBkZWxldGUgdC5faWQ7XG4gICAgICBkZWxldGUgdC5wYXJlbnQ7XG4gICAgICBkZWxldGUgdC5jaGlsZHJlbjtcbiAgICAgIGRlbGV0ZSB0Lm9wZW47XG4gICAgICBkZWxldGUgdC5hY3RpdmU7XG4gICAgICBkZWxldGUgdC5zdHlsZTtcbiAgICAgIGRlbGV0ZSB0LmNsYXNzO1xuICAgICAgZGVsZXRlIHQuaW5uZXJTdHlsZTtcbiAgICAgIGRlbGV0ZSB0LmlubmVyQ2xhc3M7XG4gICAgICBkZWxldGUgdC5pbm5lckJhY2tTdHlsZTtcbiAgICAgIGRlbGV0ZSB0LmlubmVyQmFja0NsYXNzO1xuXG4gICAgICBmb3IgKHZhciBrZXkgb2YgT2JqZWN0LmtleXModCkpIHtcbiAgICAgICAgaWYgKGtleVswXSA9PT0gJ18nKSB7XG4gICAgICAgICAgZGVsZXRlIHRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAod2l0aENoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgdC5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgICAgdC5jaGlsZHJlbi5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgdC5jaGlsZHJlbltrXSA9IHRoaXMucHVyZSh2LCB3aXRoQ2hpbGRyZW4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgIHJldHVybiBhZnRlcih0LCBub2RlKSB8fCB0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdDtcbiAgICB9LFxuXG4gICAgZ2V0Tm9kZUJ5SWQoaWQpIHtcbiAgICAgIHZhciByO1xuICAgICAgYnJlYWR0aEZpcnN0U2VhcmNoKHRoaXMucm9vdERhdGEuY2hpbGRyZW4sIG5vZGUgPT4ge1xuICAgICAgICBpZiAobm9kZS5faWQgPT09IGlkKSB7XG4gICAgICAgICAgciA9IG5vZGU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICBnZXRBY3RpdmF0ZWQoKSB7XG4gICAgICB2YXIgciA9IFtdO1xuICAgICAgYnJlYWR0aEZpcnN0U2VhcmNoKHRoaXMucm9vdERhdGEuY2hpbGRyZW4sIG5vZGUgPT4ge1xuICAgICAgICBpZiAobm9kZS5hY3RpdmUpIHtcbiAgICAgICAgICByLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIGdldE9wZW5lZCgpIHtcbiAgICAgIHZhciByID0gW107XG4gICAgICBicmVhZHRoRmlyc3RTZWFyY2godGhpcy5yb290RGF0YS5jaGlsZHJlbiwgbm9kZSA9PiB7XG4gICAgICAgIGlmIChub2RlLm9wZW4pIHtcbiAgICAgICAgICByLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSxcblxuICAgIGFjdGl2ZU5vZGUobm9kZSwgaW5hY3RpdmVPbGQpIHtcblxuICAgICAgaWYgKGluYWN0aXZlT2xkKSB7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZhdGVkKCkuZm9yRWFjaChub2RlMiA9PiB7XG4gICAgICAgICAgbm9kZTIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBub2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgfSxcblxuICAgIHRvZ2dsZUFjdGl2ZShub2RlLCBpbmFjdGl2ZU9sZCkge1xuICAgICAgaWYgKG5vZGUuYWN0aXZlKSB7XG4gICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFjdGl2ZU5vZGUobm9kZSwgaW5hY3RpdmVPbGQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBvcGVuTm9kZShub2RlLCBjbG9zZU9sZCkge1xuXG4gICAgICBpZiAoY2xvc2VPbGQpIHtcbiAgICAgICAgdGhpcy5nZXRPcGVuZWQoKS5mb3JFYWNoKG5vZGUyID0+IHtcbiAgICAgICAgICBub2RlMi5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy4kZW1pdCgnbm9kZU9wZW5DaGFuZ2VkJywgbm9kZTIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgbm9kZS5vcGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuJGVtaXQoJ25vZGVPcGVuQ2hhbmdlZCcsIG5vZGUpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVPcGVuKG5vZGUsIGNsb3NlT2xkKSB7XG4gICAgICBpZiAobm9kZS5vcGVuKSB7XG4gICAgICAgIG5vZGUub3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRlbWl0KCdub2RlT3BlbkNoYW5nZWQnLCBub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3Blbk5vZGUobm9kZSwgY2xvc2VPbGQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRQdXJlRGF0YShhZnRlcikge1xuICAgICAgcmV0dXJuIHRoaXMucHVyZSh0aGlzLnJvb3REYXRhLCB0cnVlLCBhZnRlcikuY2hpbGRyZW47XG4gICAgfSxcblxuICAgIGRlbGV0ZU5vZGUobm9kZSkge1xuICAgICAgcmV0dXJuIGFycmF5UmVtb3ZlKG5vZGUucGFyZW50LmNoaWxkcmVuLCBub2RlKTtcbiAgICB9XG5cbiAgfSAvLyBjcmVhdGVkKCkge30sXG4gIC8vIG1vdW50ZWQoKSB7fSxcblxufTtcblxuLyogc2NyaXB0ICovXG52YXIgX192dWVfc2NyaXB0X18kMSA9IHNjcmlwdCQxO1xuLyogdGVtcGxhdGUgKi9cblxudmFyIF9fdnVlX3JlbmRlcl9fJDEgPSBmdW5jdGlvbiBfX3Z1ZV9yZW5kZXJfXygpIHtcbiAgdmFyIF92bSA9IHRoaXM7XG5cbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50O1xuXG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDtcblxuICByZXR1cm4gX2MoXCJkaXZcIiwge1xuICAgIHN0YXRpY0NsYXNzOiBcImhlLXRyZWUgdHJlZVwiXG4gIH0sIFtfYyhcIlRyZWVOb2RlXCIsIHtcbiAgICBhdHRyczoge1xuICAgICAgZGF0YTogX3ZtLnJvb3REYXRhLFxuICAgICAgc3RvcmU6IF92bS5zdG9yZVxuICAgIH0sXG4gICAgc2NvcGVkU2xvdHM6IF92bS5fdShbe1xuICAgICAga2V5OiBcImRlZmF1bHRcIixcbiAgICAgIGZuOiBmdW5jdGlvbiBmbihwcm9wcykge1xuICAgICAgICByZXR1cm4gW192bS5fdChcImRlZmF1bHRcIiwgbnVsbCwge1xuICAgICAgICAgIGRhdGE6IHByb3BzLmRhdGEsXG4gICAgICAgICAgc3RvcmU6IF92bS5zdG9yZSxcbiAgICAgICAgICB2bTogcHJvcHMudm1cbiAgICAgICAgfSldO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJub2RlLWlubmVyLWJhY2tcIixcbiAgICAgIGZuOiBmdW5jdGlvbiBmbihwcm9wcykge1xuICAgICAgICByZXR1cm4gX3ZtLmN1c3RvbUlubmVyQmFjayA/IFtfdm0uX3QoXCJub2RlLWlubmVyLWJhY2tcIiwgbnVsbCwge1xuICAgICAgICAgIHN0eWxlT2JqOiBwcm9wcy5zdHlsZU9iaixcbiAgICAgICAgICBkYXRhOiBwcm9wcy5kYXRhLFxuICAgICAgICAgIHN0b3JlOiBwcm9wcy5zdG9yZSxcbiAgICAgICAgICB2bTogcHJvcHMudm1cbiAgICAgICAgfSldIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1dLCBudWxsLCB0cnVlKVxuICB9KV0sIDEpO1xufTtcblxudmFyIF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDEgPSBbXTtcbl9fdnVlX3JlbmRlcl9fJDEuX3dpdGhTdHJpcHBlZCA9IHRydWU7XG4vKiBzdHlsZSAqL1xuXG52YXIgX192dWVfaW5qZWN0X3N0eWxlc19fJDEgPSB1bmRlZmluZWQ7XG4vKiBzY29wZWQgKi9cblxudmFyIF9fdnVlX3Njb3BlX2lkX18kMSA9IHVuZGVmaW5lZDtcbi8qIG1vZHVsZSBpZGVudGlmaWVyICovXG5cbnZhciBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDEgPSB1bmRlZmluZWQ7XG4vKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovXG5cbnZhciBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMSA9IGZhbHNlO1xuLyogc3R5bGUgaW5qZWN0ICovXG5cbi8qIHN0eWxlIGluamVjdCBTU1IgKi9cblxuLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi9cblxudmFyIF9fdnVlX2NvbXBvbmVudF9fJDEgPSBfX3Z1ZV9ub3JtYWxpemVfXyh7XG4gIHJlbmRlcjogX192dWVfcmVuZGVyX18kMSxcbiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQxXG59LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kMSwgX192dWVfc2NyaXB0X18kMSwgX192dWVfc2NvcGVfaWRfXyQxLCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMSwgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQxLCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cbmNsYXNzIENhY2hlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RvcmVcIiwge30pO1xuICB9XG5cbiAgaGFzKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgfVxuXG4gIHJlbWVtYmVyKG5hbWUsIGdldHRlcikge1xuICAgIGlmICghdGhpcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMuc3RvcmVbbmFtZV0gPSB7XG4gICAgICAgIHZhbHVlOiBnZXR0ZXIoKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yZVtuYW1lXS52YWx1ZTtcbiAgfVxuXG4gIGZvcmdldChuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGlmICh0aGlzLmhhcyhuYW1lKSkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdG9yZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdG9yZSA9IHt9O1xuICAgIH1cbiAgfVxuXG59XG5mdW5jdGlvbiBhdHRhY2hDYWNoZShvYmosIGNhY2hlLCB0b0NhY2hlKSB7XG4gIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGtleSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gY2FjaGUucmVtZW1iZXIoa2V5LCAoKSA9PiB0b0NhY2hlW2tleV0uY2FsbCh0aGlzKSk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gdG9DYWNoZSkge1xuICAgIF9sb29wKGtleSk7XG4gIH1cbn1cblxuLy8gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9pZGRhbi81NGQ1ZDllNTgzMTFiMDQ5NWE5MWJmMDZkZTY2MTM4MFxuXG5pZiAoIWRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50KSB7XG4gIGRvY3VtZW50LmVsZW1lbnRzRnJvbVBvaW50ID0gZWxlbWVudHNGcm9tUG9pbnQ7XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRzRnJvbVBvaW50KHgsIHkpIHtcbiAgdmFyIHBhcmVudHMgPSBbXTtcbiAgdmFyIHBhcmVudCA9IHZvaWQgMDtcblxuICBkbyB7XG4gICAgaWYgKHBhcmVudCAhPT0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KSkge1xuICAgICAgcGFyZW50ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgcGFyZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudCA9IGZhbHNlO1xuICAgIH1cbiAgfSB3aGlsZSAocGFyZW50KTtcblxuICBwYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhbGwnO1xuICB9KTtcbiAgcmV0dXJuIHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIGdldFRyZWVCeVBvaW50KHgsIHksIHRyZWVzKSB7XG4gIHZhciBlbHMgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCh4LCB5KTtcbiAgdmFyIHRyZWVFbDtcbiAgdmFyIG5vZGVFbDtcbiAgdmFyIGJldHdlZW5FbHMgPSBbXTtcblxuICBmb3IgKHZhciBlbCBvZiBlbHMpIHtcbiAgICBpZiAoIW5vZGVFbCkge1xuICAgICAgaWYgKGhhc0NsYXNzKGVsLCAndHJlZS1ub2RlJykpIHtcbiAgICAgICAgbm9kZUVsID0gZWw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVsKTtcbiAgICAgIGlmIChoYXNDbGFzcyhlbCwgJ3RyZWUnKSkge1xuICAgICAgICB0cmVlRWwgPSBlbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGJldHdlZW5FbHMucHVzaChlbCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRyZWVFbCkge1xuICAgIC8vIGlzIHRhcmdldCB0cmVlIGlzIGFub3RoZXIgdHJlZSwgYW5kIGJlIGNvdmVyZWQgYnkgb3RoZXIgZWxlbWVudCwgbGlrZSBtb2RhbCwgcG9wdXBcbiAgICB2YXIgY292ZXJlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFpc1BhcmVudChub2RlRWwsIHRyZWVFbCkpIHtcbiAgICAgIC8vIGNyb3NzIHRyZWVcbiAgICAgIGZvciAodmFyIF9lbCBvZiBiZXR3ZWVuRWxzKSB7XG4gICAgICAgIGlmICghaXNQYXJlbnQoX2VsLCB0cmVlRWwpKSB7XG4gICAgICAgICAgY292ZXJlZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vXG5cblxuICAgIGlmICghY292ZXJlZCkge1xuICAgICAgcmV0dXJuIHRyZWVzLmZpbmQodiA9PiB2LiRlbCA9PT0gdHJlZUVsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQYXJlbnQoY2hpbGQsIHBhcmVudCkge1xuICB2YXIgY3VyID0gY2hpbGQ7XG5cbiAgd2hpbGUgKGN1cikge1xuICAgIGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXG4gICAgaWYgKGN1ciA9PT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLy8g5a+5IGRyYWcgcGxhY2Vob2xkZXLov5vooYznmoTmk43kvZxcblxudmFyIHRhcmdldHMgPSB7XG4gICdub3RoaW5nJzogaW5mbyA9PiB7fSxcbiAgJ2FmdGVyJzogaW5mbyA9PiB7XG4gICAgaW5zZXJ0RHBsaEFmdGVyVG8oaW5mby5kcGxoLCBpbmZvLnRhcmdldE5vZGUpO1xuICB9LFxuICAnYmVmb3JlJzogaW5mbyA9PiB7XG4gICAgaWYgKGlzTm9kZURyb3BwYWJsZShpbmZvLnRhcmdldE5vZGUucGFyZW50KSkge1xuICAgICAgaW5zZXJ0QmVmb3JlKGluZm8uZHBsaCwgaW5mby50YXJnZXROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0RHBsaEFmdGVyVG8oaW5mby5kcGxoLCBpbmZvLnRhcmdldE5vZGUucGFyZW50KTtcbiAgICB9XG4gIH0sXG4gICdhcHBlbmQnOiBpbmZvID0+IHtcbiAgICBpZiAoaXNOb2RlRHJvcHBhYmxlKGluZm8udGFyZ2V0Tm9kZSkpIHtcbiAgICAgIGFwcGVuZFRvKGluZm8uZHBsaCwgaW5mby50YXJnZXROb2RlKTtcbiAgICAgIGlmICghaW5mby50YXJnZXROb2RlLm9wZW4pIGluZm8uc3RvcmUudG9nZ2xlT3BlbihpbmZvLnRhcmdldE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnNlcnREcGxoQWZ0ZXJUbyhpbmZvLmRwbGgsIGluZm8udGFyZ2V0Tm9kZSk7XG4gICAgfVxuICB9LFxuICAncHJlcGVuZCc6IGluZm8gPT4ge1xuICAgIGlmIChpc05vZGVEcm9wcGFibGUoaW5mby50YXJnZXROb2RlKSkge1xuICAgICAgcHJlcGVuZFRvKGluZm8uZHBsaCwgaW5mby50YXJnZXROb2RlKTtcbiAgICAgIGlmICghaW5mby50YXJnZXROb2RlLm9wZW4pIGluZm8uc3RvcmUudG9nZ2xlT3BlbihpbmZvLnRhcmdldE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnNlcnREcGxoQWZ0ZXJUbyhpbmZvLmRwbGgsIGluZm8udGFyZ2V0Tm9kZSk7XG4gICAgfVxuICB9LFxuICAnYWZ0ZXIgdGFyZ2V0IHBhcmVudCc6IGluZm8gPT4ge1xuICAgIGluc2VydERwbGhBZnRlclRvKGluZm8uZHBsaCwgaW5mby50YXJnZXROb2RlLnBhcmVudCk7XG4gIH0sXG4gIC8vIGFwcGVuZCB0byBwcmV2IHNpYmxpbmdcbiAgJ2FwcGVuZCBwcmV2JzogaW5mbyA9PiB7XG4gICAgaWYgKGlzTm9kZURyb3BwYWJsZShpbmZvLnRhcmdldFByZXYpKSB7XG4gICAgICBhcHBlbmRUbyhpbmZvLmRwbGgsIGluZm8udGFyZ2V0UHJldik7XG4gICAgICBpZiAoIWluZm8udGFyZ2V0UHJldi5vcGVuKSBpbmZvLnN0b3JlLnRvZ2dsZU9wZW4oaW5mby50YXJnZXRQcmV2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0RHBsaEFmdGVyVG8oaW5mby5kcGxoLCBpbmZvLnRhcmdldFByZXYpO1xuICAgIH1cbiAgfSxcbiAgLy8gYXBwZW5kIHRvIGN1cnJlbnQgdHJlZVxuICAnYXBwZW5kIGN1cnJlbnQgdHJlZSc6IGluZm8gPT4ge1xuICAgIGlmIChpc05vZGVEcm9wcGFibGUoaW5mby5jdXJyZW50VHJlZS5yb290RGF0YSkpIHtcbiAgICAgIGFwcGVuZFRvKGluZm8uZHBsaCwgaW5mby5jdXJyZW50VHJlZS5yb290RGF0YSk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBpbnNlcnREcGxoQWZ0ZXJUbyhkcGxoLCB0YXJnZXROb2RlLCBpbmZvKSB7XG4gIGlmICghdGFyZ2V0Tm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2xvc2VzdCA9IGZpbmRQYXJlbnQodGFyZ2V0Tm9kZSwgbm9kZSA9PiBub2RlLnBhcmVudCAmJiBpc05vZGVEcm9wcGFibGUobm9kZS5wYXJlbnQpKTtcblxuICAgIGlmIChjbG9zZXN0KSB7XG4gICAgICBpbnNlcnRBZnRlcihkcGxoLCBjbG9zZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc05vZGVEcmFnZ2FibGUobm9kZSkge1xuICBpZiAoIWRyYWdnYWJsZUlkcy5oYXNPd25Qcm9wZXJ0eShub2RlLl9pZCkpIHtcbiAgICB2YXIgcjtcblxuICAgIGlmIChub2RlLmhhc093blByb3BlcnR5KCdkcmFnZ2FibGUnKSkge1xuICAgICAgciA9IG5vZGUuZHJhZ2dhYmxlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5wYXJlbnQpIHtcbiAgICAgIHIgPSBpc05vZGVEcmFnZ2FibGUobm9kZS5wYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBkcmFnZ2FibGVJZHNbbm9kZS5faWRdID0gcjtcbiAgfVxuXG4gIHJldHVybiBkcmFnZ2FibGVJZHNbbm9kZS5faWRdO1xufVxuZnVuY3Rpb24gaXNOb2RlRHJvcHBhYmxlKG5vZGUpIHtcbiAgaWYgKCFkcm9wcGFibGVJZHMuaGFzT3duUHJvcGVydHkobm9kZS5faWQpKSB7XG4gICAgdmFyIHI7XG5cbiAgICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eSgnZHJvcHBhYmxlJykpIHtcbiAgICAgIHIgPSBub2RlLmRyb3BwYWJsZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICByID0gaXNOb2RlRHJvcHBhYmxlKG5vZGUucGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IHRydWU7XG4gICAgfVxuXG4gICAgZHJvcHBhYmxlSWRzW25vZGUuX2lkXSA9IHI7XG4gIH1cblxuICByZXR1cm4gZHJvcHBhYmxlSWRzW25vZGUuX2lkXTtcbn0gLy8gZmluZCBjaGlsZCwgZXhjbHVkaW5nIGRyYWdnaW5nIG5vZGUgZGVmYXVsdFxuXG5mdW5jdGlvbiBmaW5kQ2hpbGQoaW5mbywgY2hpbGRyZW4sIGhhbmRsZXIsIHJldmVyc2UpIHtcbiAgdmFyIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICBpZiAocmV2ZXJzZSkge1xuICAgIGZvciAodmFyIGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGl0ZW0gPSBjaGlsZHJlbltpXTsgLy8gZXhjbHVkaW5nIGRyYWdnaW5nIG5vZGVcblxuICAgICAgaWYgKGl0ZW0gIT09IGluZm8ubm9kZSkge1xuICAgICAgICBpZiAoaGFuZGxlcihpdGVtLCBpKSkge1xuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsZW47IF9pKyspIHtcbiAgICAgIHZhciBfaXRlbSA9IGNoaWxkcmVuW19pXTsgLy8gZXhjbHVkaW5nIGRyYWdnaW5nIG5vZGVcblxuICAgICAgaWYgKF9pdGVtICE9PSBpbmZvLm5vZGUpIHtcbiAgICAgICAgaWYgKGhhbmRsZXIoX2l0ZW0sIF9pKSkge1xuICAgICAgICAgIHJldHVybiBfaXRlbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufSAvLyBzdGFydCBmcm9tIG5vZGUgc2VsZlxuXG5cbmZ1bmN0aW9uIGZpbmRQYXJlbnQobm9kZSwgaGFuZGxlKSB7XG4gIHZhciBjdXJyZW50ID0gbm9kZTtcblxuICB3aGlsZSAoY3VycmVudCkge1xuICAgIGlmIChoYW5kbGUoY3VycmVudCkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgfVxufVxuXG52YXIgcnVsZXMgPSB7XG4gIC8vIOWPpuS4gOiKgueCueWtmOWcqFxuICAndGFyZ2V0Tm9kZSBleGlzdGVkJzogaW5mbyA9PiBpbmZvLnRhcmdldE5vZGUsXG4gIC8vIOWPpuS4gOiKgueCueaYr+aLluWKqOWNoOS9jeiKgueCuVxuICAndGFyZ2V0Tm9kZSBpcyBwbGFjZWhvbGRlcic6IGluZm8gPT4gaW5mby50YXJnZXROb2RlLmlzRHJhZ1BsYWNlSG9sZGVyLFxuICAvLyDlj6bkuIDoioLngrnlnKjmnIDkuIrpnaJcbiAgJ3RhcmdldE5vZGUgYXQgdG9wJzogaW5mbyA9PiBpbmZvLnRhcmdldEF0VG9wLFxuICAvLyDlj6bkuIDoioLngrnlnKjmnIDkuIvpnaJcbiAgJ3RhcmdldE5vZGUgYXQgYm90dG9tJzogaW5mbyA9PiBpbmZvLnRhcmdldEF0Qm90dG9tLFxuICAvLyDlj6bkuIDoioLngrnmmK/moLnoioLngrnnrKzkuozkuKrlrZBcbiAgJ3RhcmdldE5vZGUgaXMgdGhlIHNlY29uZCBjaGlsZCBvZiByb290JzogaW5mbyA9PiBpbmZvLmN1cnJlbnRUcmVlUm9vdFNlY29uZENoaWxkRXhjbHVkaW5nRHJhZ2dpbmcgPT09IGluZm8udGFyZ2V0Tm9kZSxcbiAgLy8g5ouW5Yqo54K55Z2Q5qCH5Zyo5Lu75LiA5qCR5LitLCDlkIzml7YsIOi1t+Wni+agkeimgeWPr+aLluWHuiwg5b2T5YmN5qCR6KaB5Y+v5ouW5YWlXG4gICdjdXJyZW50VHJlZSBleGlzdGVkJzogaW5mbyA9PiBpbmZvLmN1cnJlbnRUcmVlLFxuICAvLyDlvZPliY3moJHkuLrnqboo5LiN5YyF5ous5Y2g5L2N6IqC54K5KVxuICAnY3VycmVudFRyZWUgZW1wdHknOiBpbmZvID0+ICFmaW5kQ2hpbGQoaW5mbywgaW5mby5jdXJyZW50VHJlZS5yb290RGF0YS5jaGlsZHJlbiwgdiA9PiB2KSxcbiAgLy8g5Y2g5L2N6IqC54K55a2Y5ZyoXG4gICdwbGFjZWhvbGRlciBleGlzdGVkJzogaW5mbyA9PiBpbmZvLmRwbGhFbCxcbiAgLy8g5Y2g5L2N6IqC54K55Zyo5b2T5YmN5qCR5LitXG4gICdwbGFjZWhvbGRlciBpbiBjdXJyZW50VHJlZSc6IGluZm8gPT4gaW5mby5kcGxoRWxJbkN1cnJlbnRUcmVlLFxuICAvLyDljaDkvY3oioLngrnlnKjmnIDkuIrpnaJcbiAgJ3BsYWNlaG9sZGVyIGF0IHRvcCc6IGluZm8gPT4gaW5mby5kcGxoQXRUb3AsXG4gIC8vIOWPpuS4gOiKgueCueaYr+aJk+W8gOeahFxuICAndGFyZ2V0Tm9kZSBpcyBvcGVuJzogaW5mbyA9PiBpbmZvLnRhcmdldE5vZGUub3BlbixcbiAgLy8g5Y+m5LiA6IqC54K55pyJ5a2QKOS4jeWMheaLrOWNoOS9jeiKgueCuSlcbiAgJ3RhcmdldE5vZGUgaGFzIGNoaWxkcmVuIGV4Y2x1ZGluZyBwbGFjZWhvbGRlcic6IGluZm8gPT4gZmluZENoaWxkKGluZm8sIGluZm8udGFyZ2V0Tm9kZS5jaGlsZHJlbiwgdiA9PiB2ICE9PSBpbmZvLmRwbGgpLFxuICAvLyDlj6bkuIDoioLngrnmmK/nrKzkuIDkuKroioLngrlcbiAgJ3RhcmdldE5vZGUgaXMgMXN0IGNoaWxkJzogaW5mbyA9PiBmaW5kQ2hpbGQoaW5mbywgaW5mby50YXJnZXROb2RlLnBhcmVudC5jaGlsZHJlbiwgdiA9PiB2KSA9PT0gaW5mby50YXJnZXROb2RlLFxuICAvLyDlj6bkuIDoioLngrnmmK/mnIDlkI7oioLngrlcbiAgJ3RhcmdldE5vZGUgaXMgbGFzdCBjaGlsZCc6IGluZm8gPT4gZmluZENoaWxkKGluZm8sIGluZm8udGFyZ2V0Tm9kZS5wYXJlbnQuY2hpbGRyZW4sIHYgPT4gdiwgdHJ1ZSkgPT09IGluZm8udGFyZ2V0Tm9kZSxcbiAgLy8g5b2T5YmN5L2N572u5Zyo5Y+m5LiA6IqC54K5aW5uZXLlnoLnm7TkuK3nur/kuIpcbiAgJ29uIHRhcmdldE5vZGUgbWlkZGxlJzogaW5mbyA9PiBpbmZvLm9mZnNldC55IDw9IGluZm8udGlNaWRkbGVZLFxuICAvLyDlvZPliY3kvY3nva7lnKjlj6bkuIDoioLngrlpbm5lcuW3pui+uVxuICAnYXQgbGVmdCc6IGluZm8gPT4gaW5mby5vZmZzZXQueCA8IGluZm8udGlPZmZzZXQueCxcbiAgLy8g5b2T5YmN5L2N572u5Zyo5Y+m5LiA6IqC54K5aW5ubmVyIGluZGVudOS9jee9ruWPs+i+uVxuICAnYXQgaW5kZW50IHJpZ2h0JzogaW5mbyA9PiBpbmZvLm9mZnNldC54ID4gaW5mby50aU9mZnNldC54ICsgaW5mby5jdXJyZW50VHJlZS5pbmRlbnRcbn07IC8vIGNvbnZlcnQgcnVsZSBvdXRwdXQgdG8gQm9vbGVhblxuXG52YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChrZXkpIHtcbiAgdmFyIG9sZCA9IHJ1bGVzW2tleV07XG5cbiAgcnVsZXNba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gQm9vbGVhbihvbGQoLi4uYXJndW1lbnRzKSk7XG4gIH07XG59O1xuXG5mb3IgKHZhciBrZXkgb2YgT2JqZWN0LmtleXMocnVsZXMpKSB7XG4gIF9sb29wKGtleSk7XG59XG5cbnZhciBwcmV2VHJlZTtcbnZhciBkcm9wcGFibGVJZHMgPSB7fTtcbnZhciBkcmFnZ2FibGVJZHMgPSB7fTsgLy8gY29udGV4dCBpcyB2bVxuXG5mdW5jdGlvbiBhdXRvTW92ZURyYWdQbGFjZUhvbGRlcihkcmFnZ2FibGVIZWxwZXJJbmZvKSB7XG4gIHZhciB0cmVlcyA9IHRoaXMuc3RvcmUudHJlZXM7XG4gIHZhciBkaFN0b3JlID0gZHJhZ2dhYmxlSGVscGVySW5mby5zdG9yZTsgLy8gbWFrZSBpbmZvXG5cbiAgdmFyIGluZm8gPSB7XG4gICAgZXZlbnQ6IGRyYWdnYWJsZUhlbHBlckluZm8uZXZlbnQsXG4gICAgZWw6IGRoU3RvcmUuZWwsXG4gICAgdm06IHRoaXMsXG4gICAgbm9kZTogdGhpcy5kYXRhLFxuICAgIHN0b3JlOiB0aGlzLnN0b3JlLFxuICAgIGRwbGg6IHRoaXMuc3RvcmUuZHBsaCxcbiAgICBkcmFnZ2FibGVIZWxwZXJEYXRhOiB7XG4gICAgICBvcHQ6IGRyYWdnYWJsZUhlbHBlckluZm8ub3B0aW9ucyxcbiAgICAgIHN0b3JlOiBkaFN0b3JlXG4gICAgfVxuICB9OyAvL1xuXG4gIGF0dGFjaENhY2hlKGluZm8sIG5ldyBDYWNoZSgpLCB7XG4gICAgLy8gZHJhZ2dpbmcgbm9kZSBjb29yZGluYXRlXG4gICAgLy8g5ouW5Yqo5Lit55qE6IqC54K555u45YWz5Z2Q5qCHXG4gICAgbm9kZUlubmVyRWwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcudHJlZS1ub2RlLWlubmVyJyk7XG4gICAgfSxcblxuICAgIG9mZnNldCgpIHtcbiAgICAgIHJldHVybiBnZXRPZmZzZXQodGhpcy5ub2RlSW5uZXJFbCk7XG4gICAgfSxcblxuICAgIC8vIGxlZnQgdG9wIHBvaW50XG4gICAgb2Zmc2V0MigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHRoaXMub2Zmc2V0LnggKyB0aGlzLm5vZGVJbm5lckVsLm9mZnNldFdpZHRoLFxuICAgICAgICB5OiB0aGlzLm9mZnNldC55ICsgdGhpcy5ub2RlSW5uZXJFbC5vZmZzZXRIZWlnaHRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIHJpZ2h0IGJvdHRvbSBwb2ludFxuICAgIG9mZnNldFRvVmlld1BvcnQoKSB7XG4gICAgICB2YXIgciA9IHRoaXMubm9kZUlubmVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByLnggPSByLmxlZnQ7XG4gICAgICByLnkgPSByLnRvcDtcbiAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvLyB0cmVlXG4gICAgY3VycmVudFRyZWUoKSB7XG4gICAgICAvLyBjb25zdCBjdXJyZW50VHJlZSA9IHRyZWVzLmZpbmQodHJlZSA9PiBocC5pc09mZnNldEluRWwodGhpcy5vZmZzZXQueCwgdGhpcy5vZmZzZXQueSwgdHJlZS4kZWwpKVxuICAgICAgdmFyIGN1cnJlbnRUcmVlID0gZ2V0VHJlZUJ5UG9pbnQodGhpcy5vZmZzZXRUb1ZpZXdQb3J0LngsIHRoaXMub2Zmc2V0VG9WaWV3UG9ydC55LCB0cmVlcyk7XG5cbiAgICAgIGlmIChjdXJyZW50VHJlZSkge1xuICAgICAgICB2YXIgZHJhZ1N0YXJ0VHJlZSA9IHRoaXMuc3RvcmU7XG5cbiAgICAgICAgaWYgKHByZXZUcmVlID09IG51bGwpIHtcbiAgICAgICAgICBwcmV2VHJlZSA9IGRyYWdTdGFydFRyZWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldlRyZWUgIT09IGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgaWYgKCFpc1Byb3BUcnVlKGRyYWdTdGFydFRyZWUuY3Jvc3NUcmVlKSB8fCAhaXNQcm9wVHJ1ZShjdXJyZW50VHJlZS5jcm9zc1RyZWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcHJldlRyZWUgPSBjdXJyZW50VHJlZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNQcm9wVHJ1ZShjdXJyZW50VHJlZS5kcm9wcGFibGUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUcmVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjdXJyZW50VHJlZVJvb3RFbCgpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmN1cnJlbnRUcmVlLnJvb3REYXRhLl9pZCk7XG4gICAgfSxcblxuICAgIGN1cnJlbnRUcmVlUm9vdE9mNCgpIHtcbiAgICAgIHJldHVybiBnZXRPZjQodGhpcy5jdXJyZW50VHJlZVJvb3RFbCwgdGhpcy5jdXJyZW50VHJlZS5zcGFjZSk7XG4gICAgfSxcblxuICAgIC8vIHRoZSBzZWNvbmQgY2hpbGQgb2YgY3VycmVudFRyZWUgcm9vdCwgZXhjbHVkaW5nIGRyYWdnaW5nIG5vZGVcbiAgICBjdXJyZW50VHJlZVJvb3RTZWNvbmRDaGlsZEV4Y2x1ZGluZ0RyYWdnaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRyZWUucm9vdERhdGEuY2hpbGRyZW4uc2xpY2UoMCwgMykuZmlsdGVyKHYgPT4gdiAhPT0gdGhpcy5ub2RlKVsxXTtcbiAgICB9LFxuXG4gICAgLy8gcGxhY2Vob2xkZXJcbiAgICBkcGxoRWwoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kcGxoLl9pZCk7XG4gICAgfSxcblxuICAgIGRwbGhFbEluQ3VycmVudFRyZWUoKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmN1cnJlbnRUcmVlLiRlbC5xdWVyeVNlbGVjdG9yKFwiI1wiLmNvbmNhdCh0aGlzLmRwbGguX2lkKSkpO1xuICAgIH0sXG5cbiAgICBkcGxoT2Y0KCkge1xuICAgICAgcmV0dXJuIGdldE9mNCh0aGlzLmRwbGhFbCwgdGhpcy5jdXJyZW50VHJlZS5zcGFjZSk7XG4gICAgfSxcblxuICAgIGRwbGhBdFRvcCgpIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLmRwbGhPZjQueSAtIHRoaXMuY3VycmVudFRyZWVSb290T2Y0LnkpIDwgNTtcbiAgICB9LFxuXG4gICAgdGFyZ2V0QXRUb3AoKSB7XG4gICAgICByZXR1cm4gTWF0aC5hYnModGhpcy50aU9mNC55IC0gdGhpcy5jdXJyZW50VHJlZVJvb3RPZjQueSkgPCA1O1xuICAgIH0sXG5cbiAgICB0YXJnZXRBdEJvdHRvbSgpIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnRpT2Y0LnkyIC0gdGhpcy5jdXJyZW50VHJlZVJvb3RPZjQueTIpIDwgNTtcbiAgICB9LFxuXG4gICAgLy8gbW9zdCByZWxhdGVkIG5vZGVcbiAgICAvLyDmnIDnm7jlhbPnmoTlj6bkuIDkuKroioLngrlcbiAgICB0YXJnZXROb2RlKCkge1xuICAgICAgdmFyIHtcbiAgICAgICAgY3VycmVudFRyZWVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAoIWN1cnJlbnRUcmVlKSB7XG4gICAgICAgIHRocm93ICdubyBjdXJyZW50VHJlZSc7XG4gICAgICB9IC8vXG5cblxuICAgICAgdmFyIHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IHRoaXMub2Zmc2V0O1xuICAgICAgdmFyIGN1cnJlbnROb2RlID0gY3VycmVudFRyZWUucm9vdERhdGE7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGN1cnJlbnROb2RlLmNoaWxkcmVuO1xuXG4gICAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vZGUucGFyZW50ID09PSBjdXJyZW50Tm9kZSkge1xuICAgICAgICAgIC8vIGRyYWdnaW5nIG5vZGUgaXMgaW4gY3VycmVudE5vZGUgY2hpbGRyZW4sIHJlbW92ZSBpdCBmaXJzdFxuICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoY2hpbGRyZW4uaW5kZXhPZih0aGlzLm5vZGUpLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ID0gYmluYXJ5U2VhcmNoKGNoaWxkcmVuLCBub2RlID0+IHtcbiAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChub2RlLl9pZCk7XG4gICAgICAgICAgdmFyIHR5ID0gZ2V0T2Zmc2V0KGVsKS55O1xuICAgICAgICAgIHZhciB0eTIgPSB0eSArIGVsLm9mZnNldEhlaWdodCArIGN1cnJlbnRUcmVlLnNwYWNlO1xuXG4gICAgICAgICAgaWYgKHR5MiA8IHkpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5IDw9IHkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIG51bGwsIG51bGwsIHRydWUpO1xuXG4gICAgICAgIGlmICh0LmhpdCkge1xuICAgICAgICAgIGN1cnJlbnROb2RlID0gdC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodC5iaWdnZXIpIHtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY2hpbGRyZW5bdC5pbmRleCAtIDFdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IHQudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjdXJyZW50Tm9kZSkge1xuICAgICAgICAgIGN1cnJlbnROb2RlID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5uZXJFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnROb2RlLl9pZCkucXVlcnlTZWxlY3RvcignLnRyZWUtbm9kZS1pbm5lcicpO1xuICAgICAgICB2YXIgb2YgPSBnZXRPZjQoaW5uZXJFbCwgY3VycmVudFRyZWUuc3BhY2UpO1xuXG4gICAgICAgIGlmIChvZi55IDw9IHkgJiYgeSA8PSBvZi55Mikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9LFxuXG4gICAgdGFyZ2V0Tm9kZUVsKCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMudGFyZ2V0Tm9kZS5faWQpO1xuICAgIH0sXG5cbiAgICAvLyB0YXJnZXROb2RlSW5uZXJFbE9mZnNldFxuICAgIHRpSW5uZXJFbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldE5vZGVFbC5xdWVyeVNlbGVjdG9yKCcudHJlZS1ub2RlLWlubmVyJyk7XG4gICAgfSxcblxuICAgIHRpT2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIGdldE9mZnNldCh0aGlzLnRpSW5uZXJFbCk7XG4gICAgfSxcblxuICAgIHRpT2Y0KCkge1xuICAgICAgcmV0dXJuIGdldE9mNCh0aGlzLnRpSW5uZXJFbCwgdGhpcy5jdXJyZW50VHJlZS5zcGFjZSk7XG4gICAgfSxcblxuICAgIHRpTWlkZGxlWSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRpT2Zmc2V0LnkgKyB0aGlzLnRpSW5uZXJFbC5vZmZzZXRIZWlnaHQgLyAyO1xuICAgIH0sXG5cbiAgICAvL1xuICAgIHRhcmdldFByZXZFbCgpIHtcbiAgICAgIC8vIHRyZWUgbm9kZSDkuYvpl7TkuI3opoHmnInlhbbku5blhYPntKAsIOWQpuWImei/memHjOS8muiOt+WPluWIsOmUmeivr+eahOWFg+e0oFxuICAgICAgdmFyIHIgPSB0aGlzLnRhcmdldE5vZGVFbC5wcmV2aW91c1NpYmxpbmc7XG5cbiAgICAgIGlmIChoYXNDbGFzcyhyLCAnZHJhZ2dpbmcnKSkge1xuICAgICAgICByID0gci5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICB0YXJnZXRQcmV2KCkge1xuICAgICAgdmFyIGlkID0gdGhpcy50YXJnZXRQcmV2RWwuZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRyZWUuZ2V0Tm9kZUJ5SWQoaWQpO1xuICAgIH1cblxuICB9KTsgLy8gYXR0YWNoQ2FjaGUgZW5kXG4gIC8vIGRlY2lzaW9uIHN0YXJ0ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBleGVjdXRlZFJ1bGVDYWNoZSA9IHt9OyAvLyBleGVjIHJ1bGVcblxuICB2YXIgZXhlYyA9IHJ1bGVJZCA9PiB7XG4gICAgaWYgKCFleGVjdXRlZFJ1bGVDYWNoZS5oYXNPd25Qcm9wZXJ0eShydWxlSWQpKSB7XG4gICAgICB2YXIgcjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgciA9IHJ1bGVzW3J1bGVJZF0oaW5mbyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHIgPSBlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52LkRFVkVMT1BFX1NFTEYpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgdmlzaWJsZSB3aGVuIGRldmVsb3AgaXRzIHNlbGZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImZhaWxlZCB0byBleGVjdXRlIHJ1bGUgJ1wiLmNvbmNhdChydWxlSWQsIFwiJ1wiKSwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlMikge31cbiAgICAgIH1cblxuICAgICAgZXhlY3V0ZWRSdWxlQ2FjaGVbcnVsZUlkXSA9IHI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4ZWN1dGVkUnVsZUNhY2hlW3J1bGVJZF07XG4gIH07XG5cbiAgaWYgKGV4ZWMoJ2N1cnJlbnRUcmVlIGV4aXN0ZWQnKSA9PT0gdHJ1ZSkge1xuICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIHBsYWNlaG9sZGVyJykgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyB0aGUgc2Vjb25kIGNoaWxkIG9mIHJvb3QnKSA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBoYXMgY2hpbGRyZW4gZXhjbHVkaW5nIHBsYWNlaG9sZGVyJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRhcmdldHNbJ2JlZm9yZSddKGluZm8pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB0YXJnZXRzWydhcHBlbmQnXShpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyJ10oaW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaGFzIGNoaWxkcmVuIGV4Y2x1ZGluZyBwbGFjZWhvbGRlcicpID09PSB0cnVlKSB7XG4gICAgICAgICAgdGFyZ2V0c1sncHJlcGVuZCddKGluZm8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaXMgdGhlIHNlY29uZCBjaGlsZCBvZiByb290JykgPT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChleGVjKCdjdXJyZW50VHJlZSBlbXB0eScpID09PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGF0IHRvcCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZXhlYygncGxhY2Vob2xkZXIgaW4gY3VycmVudFRyZWUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBoYXMgY2hpbGRyZW4gZXhjbHVkaW5nIHBsYWNlaG9sZGVyJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYmVmb3JlJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaGFzIGNoaWxkcmVuIGV4Y2x1ZGluZyBwbGFjZWhvbGRlcicpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRzWydwcmVwZW5kJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRzWydiZWZvcmUnXShpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygncGxhY2Vob2xkZXIgaW4gY3VycmVudFRyZWUnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snYmVmb3JlJ10oaW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChleGVjKCd0YXJnZXROb2RlIGF0IHRvcCcpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgYXQgYm90dG9tJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGlmIChleGVjKCdwbGFjZWhvbGRlciBhdCB0b3AnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldHNbJ3ByZXBlbmQnXShpbmZvKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdwbGFjZWhvbGRlciBhdCB0b3AnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBoYXMgY2hpbGRyZW4gZXhjbHVkaW5nIHBsYWNlaG9sZGVyJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ3ByZXBlbmQnXShpbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaGFzIGNoaWxkcmVuIGV4Y2x1ZGluZyBwbGFjZWhvbGRlcicpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaXMgMXN0IGNoaWxkJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIGxhc3QgY2hpbGQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXInXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzWydhZnRlciddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIGxhc3QgY2hpbGQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaXMgMXN0IGNoaWxkJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaXMgbGFzdCBjaGlsZCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyBsYXN0IGNoaWxkJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzWydhZnRlciddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzWydhcHBlbmQnXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBhdCBib3R0b20nKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoZXhlYygncGxhY2Vob2xkZXIgaW4gY3VycmVudFRyZWUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXInXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdwbGFjZWhvbGRlciBpbiBjdXJyZW50VHJlZScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCddKGluZm8pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2N1cnJlbnRUcmVlIGVtcHR5JykgPT09IHRydWUpIHtcbiAgICAgICAgICB0YXJnZXRzWydhcHBlbmQgY3VycmVudCB0cmVlJ10oaW5mbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgaXMgcGxhY2Vob2xkZXInKSA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKGV4ZWMoJ3RhcmdldE5vZGUgYXQgYm90dG9tJykgPT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIHRoZSBzZWNvbmQgY2hpbGQgb2Ygcm9vdCcpID09PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIDFzdCBjaGlsZCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyBsYXN0IGNoaWxkJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHRhcmdldHNbJ25vdGhpbmcnXShpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyBsYXN0IGNoaWxkJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXIgdGFyZ2V0IHBhcmVudCddKGluZm8pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgbGVmdCcpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXIgdGFyZ2V0IHBhcmVudCddKGluZm8pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgbGVmdCcpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyAxc3QgY2hpbGQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIGxhc3QgY2hpbGQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyIHRhcmdldCBwYXJlbnQnXShpbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzWydhcHBlbmQgcHJldiddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FmdGVyIHRhcmdldCBwYXJlbnQnXShpbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzWydhcHBlbmQgcHJldiddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIGxhc3QgY2hpbGQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgbGVmdCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRzWydub3RoaW5nJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kIHByZXYnXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ25vdGhpbmcnXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgbGVmdCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRzWydub3RoaW5nJ10oaW5mbyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kIHByZXYnXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNbJ25vdGhpbmcnXShpbmZvKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyB0aGUgc2Vjb25kIGNoaWxkIG9mIHJvb3QnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kIHByZXYnXShpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHRhcmdldHNbJ25vdGhpbmcnXShpbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kIHByZXYnXShpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHRhcmdldHNbJ25vdGhpbmcnXShpbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZXhlYygndGFyZ2V0Tm9kZSBhdCBib3R0b20nKSA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoZXhlYygndGFyZ2V0Tm9kZSBpcyAxc3QgY2hpbGQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB0YXJnZXRzWydhZnRlciB0YXJnZXQgcGFyZW50J10oaW5mbyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnb24gdGFyZ2V0Tm9kZSBtaWRkbGUnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXIgdGFyZ2V0IHBhcmVudCddKGluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChleGVjKCd0YXJnZXROb2RlIGlzIDFzdCBjaGlsZCcpID09PSBmYWxzZSkge1xuICAgICAgICAgIGlmIChleGVjKCdvbiB0YXJnZXROb2RlIG1pZGRsZScpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB0YXJnZXRzWydhZnRlciB0YXJnZXQgcGFyZW50J10oaW5mbyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ2F0IGxlZnQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgaWYgKGV4ZWMoJ2F0IGluZGVudCByaWdodCcpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0c1snYXBwZW5kIHByZXYnXShpbmZvKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzWydub3RoaW5nJ10oaW5mbyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGV4ZWMoJ29uIHRhcmdldE5vZGUgbWlkZGxlJykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgdGFyZ2V0c1snYWZ0ZXIgdGFyZ2V0IHBhcmVudCddKGluZm8pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGVjKCdhdCBsZWZ0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGlmIChleGVjKCdhdCBpbmRlbnQgcmlnaHQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldHNbJ2FwcGVuZCBwcmV2J10oaW5mbyk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhlYygnYXQgaW5kZW50IHJpZ2h0JykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0c1snbm90aGluZyddKGluZm8pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4ZWMoJ2N1cnJlbnRUcmVlIGV4aXN0ZWQnKSA9PT0gZmFsc2UpIHtcbiAgICB0YXJnZXRzWydub3RoaW5nJ10oaW5mbyk7XG4gIH0gLy8gZGVjaXNpb24gZW5kID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvL1xuXG59XG5cbmZ1bmN0aW9uIGdldE9mNChlbCwgc3BhY2UpIHtcbiAgdmFyIHIgPSBnZXRPZmZzZXQoZWwpO1xuICByLngyID0gci54ICsgZWwub2Zmc2V0V2lkdGg7XG4gIHIueTIgPSByLnkgKyBlbC5vZmZzZXRIZWlnaHQgKyBzcGFjZTtcbiAgcmV0dXJuIHI7XG59XG5cbmF1dG9Nb3ZlRHJhZ1BsYWNlSG9sZGVyLmRyYWdTdGFydCA9IGZ1bmN0aW9uIGRyYWdTdGFydCgpIHt9O1xuXG5hdXRvTW92ZURyYWdQbGFjZUhvbGRlci5kcmFnRW5kID0gZnVuY3Rpb24gZHJhZ0VuZCgpIHtcbiAgcHJldlRyZWUgPSBudWxsO1xuICBkcm9wcGFibGVJZHMgPSB7fTtcbiAgZHJhZ2dhYmxlSWRzID0ge307XG59O1xuXG52YXIgc2NyaXB0JDIgPSB7XG4gIGV4dGVuZHM6IF9fdnVlX2NvbXBvbmVudF9fLFxuICBuYW1lOiAnVHJlZU5vZGUnLFxuXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zdG9yZS5pc05vZGVEcmFnZ2FibGUgPSBpc05vZGVEcmFnZ2FibGU7XG4gICAgdGhpcy5zdG9yZS5pc05vZGVEcm9wcGFibGUgPSBpc05vZGVEcm9wcGFibGU7XG5cbiAgICBpZiAodGhpcy5pc1Jvb3QgfHwgdGhpcy5kYXRhLmlzRHJhZ1BsYWNlSG9sZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHtcbiAgICAgIGRwbGhcbiAgICB9ID0gdGhpcy5zdG9yZTtcbiAgICB0aGlzLiR3YXRjaCgnc3RvcmUuZHJhZ2dhYmxlJywgZHJhZ2dhYmxlID0+IHtcbiAgICAgIGlmIChpc1Byb3BUcnVlKGRyYWdnYWJsZSkpIHtcbiAgICAgICAgdmFyIHRyaWdnZXJFbCA9IHRoaXMuc3RvcmUuZ2V0VHJpZ2dlckVsID8gdGhpcy5zdG9yZS5nZXRUcmlnZ2VyRWwodGhpcykgOiB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcudHJlZS1ub2RlLWlubmVyJyk7XG4gICAgICAgIHRoaXMuX2RyYWdnYWJsZURlc3Ryb3kgPSBkcmFnZ2FibGVIZWxwZXIodHJpZ2dlckVsLCB7XG4gICAgICAgICAgcHJldmVudFNlbGVjdDogaXNQcm9wVHJ1ZSh0aGlzLnN0b3JlLnByZXZlbnRTZWxlY3QpLFxuICAgICAgICAgIC8vIHRyaWdnZXIgZWxcbiAgICAgICAgICBnZXRFbDogKCkgPT4gdGhpcy4kZWwsXG4gICAgICAgICAgbWluVHJhbnNsYXRlOiAxMCxcbiAgICAgICAgICBkcmFnOiAoZSwgb3B0LCBzdG9yZSkgPT4ge1xuICAgICAgICAgICAgYXV0b01vdmVEcmFnUGxhY2VIb2xkZXIuZHJhZ1N0YXJ0KCk7IC8vIHRoaXMgc3RvcmUgaXMgbm90IHRyZWVcblxuICAgICAgICAgICAgdmFyIGRyYWdnYWJsZUhlbHBlckluZm8gPSB7XG4gICAgICAgICAgICAgIGV2ZW50OiBlLFxuICAgICAgICAgICAgICBvcHRpb25zOiBvcHQsXG4gICAgICAgICAgICAgIHN0b3JlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZS5vbmRyYWdzdGFydCAmJiB0aGlzLnN0b3JlLm9uZHJhZ3N0YXJ0KHRoaXMuZGF0YSwgZHJhZ2dhYmxlSGVscGVySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpc05vZGVEcmFnZ2FibGUodGhpcy5kYXRhKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RvcmUuJGVtaXQoJ2RyYWcnLCB0aGlzLmRhdGEpOyAvLyByZWNvcmQgc3RhcnQgcG9zaXRvblxuXG4gICAgICAgICAgICB2YXIgc2libGluZ3MgPSB0aGlzLmRhdGEucGFyZW50LmNoaWxkcmVuO1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICBzaWJsaW5ncyxcbiAgICAgICAgICAgICAgaW5kZXg6IHNpYmxpbmdzLmluZGV4T2YodGhpcy5kYXRhKVxuICAgICAgICAgICAgfTsgLy9cblxuICAgICAgICAgICAgZHBsaC5pbm5lclN0eWxlLmhlaWdodCA9IHN0b3JlLmVsLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgICAgICAgICBpbnNlcnRBZnRlcihkcGxoLCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNsYXNzICs9ICcgZHJhZ2dpbmcnOyAvLyBjb25zb2xlLmxvZygnZHJhZyBzdGFydCcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbW92aW5nOiAoZSwgb3B0LCBzdG9yZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0b3JlLm1vdmVkQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZHJhZ2dhYmxlSGVscGVySW5mbyA9IHtcbiAgICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IG9wdCxcbiAgICAgICAgICAgICAgc3RvcmVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gYXV0b01vdmVEcmFnUGxhY2VIb2xkZXIuY2FsbCh0aGlzLCBkcmFnZ2FibGVIZWxwZXJJbmZvKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRyb3A6IChlLCBvcHQsIHN0b3JlKSA9PiB7XG4gICAgICAgICAgICBhdXRvTW92ZURyYWdQbGFjZUhvbGRlci5kcmFnRW5kKCk7XG4gICAgICAgICAgICB2YXIgZHJhZ2dhYmxlSGVscGVySW5mbyA9IHtcbiAgICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IG9wdCxcbiAgICAgICAgICAgICAgc3RvcmVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlLm9uZHJhZ2VuZCAmJiB0aGlzLnN0b3JlLm9uZHJhZ2VuZCh0aGlzLmRhdGEsIGRyYWdnYWJsZUhlbHBlckluZm8pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICBhcnJheVJlbW92ZShkcGxoLnBhcmVudC5jaGlsZHJlbiwgZHBsaCk7IC8vIGNhbid0IGRyb3AsIG5vIGNoYW5nZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHRhcmdldFRyZWUgPSBkcGxoLl92bS5zdG9yZTtcbiAgICAgICAgICAgICAgdmFyIGNyb3NzVHJlZSA9IHRhcmdldFRyZWUgIT09IHRoaXMuc3RvcmU7XG4gICAgICAgICAgICAgIHZhciBvbGRUcmVlID0gY3Jvc3NUcmVlID8gdGhpcy5zdG9yZSA6IG51bGw7XG4gICAgICAgICAgICAgIGluc2VydEFmdGVyKHRoaXMuZGF0YSwgZHBsaCk7XG4gICAgICAgICAgICAgIGFycmF5UmVtb3ZlKGRwbGgucGFyZW50LmNoaWxkcmVuLCBkcGxoKTtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhLmNsYXNzID0gdGhpcy5kYXRhLmNsYXNzLnJlcGxhY2UoLyhefCApZHJhZ2dpbmcoIHwkKS9nLCAnICcpO1xuICAgICAgICAgICAgICB0YXJnZXRUcmVlLiRlbWl0KCdkcm9wJywgdGhpcy5kYXRhLCB0YXJnZXRUcmVlLCBvbGRUcmVlKTtcbiAgICAgICAgICAgICAgb2xkVHJlZSAmJiBvbGRUcmVlLiRlbWl0KCdkcm9wJywgdGhpcy5kYXRhLCB0YXJnZXRUcmVlLCBvbGRUcmVlKTsgLy8gZW1pdCBjaGFuZ2UgZXZlbnQgaWYgY2hhbmdlZFxuXG4gICAgICAgICAgICAgIHZhciBzaWJsaW5ncyA9IHRoaXMuZGF0YS5wYXJlbnQuY2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgaWYgKHNpYmxpbmdzID09PSB0aGlzLnN0YXJ0UG9zaXRpb24uc2libGluZ3MgJiYgc2libGluZ3MuaW5kZXhPZih0aGlzLmRhdGEpID09PSB0aGlzLnN0YXJ0UG9zaXRpb24uaW5kZXgpIDsgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS4kZW1pdCgnY2hhbmdlJywgdGhpcy5kYXRhLCB0YXJnZXRUcmVlLCBvbGRUcmVlKTtcbiAgICAgICAgICAgICAgICBvbGRUcmVlICYmIG9sZFRyZWUuJGVtaXQoJ2NoYW5nZScsIHRoaXMuZGF0YSwgdGFyZ2V0VHJlZSwgb2xkVHJlZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgfSAvLyBjb25zb2xlLmxvZygnZHJhZyBlbmQnKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5fZHJhZ2dhYmxlRGVzdHJveSkge1xuICAgICAgICAgIHRoaXMuX2RyYWdnYWJsZURlc3Ryb3koKTtcblxuICAgICAgICAgIHRoaXMuX2RyYWdnYWJsZURlc3Ryb3kgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxufTtcblxuLyogc2NyaXB0ICovXG52YXIgX192dWVfc2NyaXB0X18kMiA9IHNjcmlwdCQyO1xuLyogdGVtcGxhdGUgKi9cblxuLyogc3R5bGUgKi9cblxudmFyIF9fdnVlX2luamVjdF9zdHlsZXNfXyQyID0gdW5kZWZpbmVkO1xuLyogc2NvcGVkICovXG5cbnZhciBfX3Z1ZV9zY29wZV9pZF9fJDIgPSB1bmRlZmluZWQ7XG4vKiBtb2R1bGUgaWRlbnRpZmllciAqL1xuXG52YXIgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQyID0gdW5kZWZpbmVkO1xuLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqL1xuXG52YXIgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDIgPSB1bmRlZmluZWQ7XG4vKiBzdHlsZSBpbmplY3QgKi9cblxuLyogc3R5bGUgaW5qZWN0IFNTUiAqL1xuXG4vKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqL1xuXG52YXIgX192dWVfY29tcG9uZW50X18kMiA9IF9fdnVlX25vcm1hbGl6ZV9fKHt9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kMiwgX192dWVfc2NyaXB0X18kMiwgX192dWVfc2NvcGVfaWRfXyQyLCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMiwgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQyLCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cbnZhciB0cmVlcyA9IFtdOyAvLyBmb3IgbXVsdGlwbGUgdHJlZXNcbi8vIERyYWdQbGFjZUhvbGRlciwgdW5pcXVlXG5cbnZhciBkcGxoID0ge1xuICBfaWQ6ICdkcmFnZ2FibGVfdHJlZV9kcmFnX3BsYWNlSG9sZGVyJyxcbiAgbGV2ZWw6IG51bGwsXG4gIGRyb3BwYWJsZTogZmFsc2UsXG4gIGlzRHJhZ1BsYWNlSG9sZGVyOiB0cnVlLFxuICBjbGFzczogJ2RyYWdnYWJsZS1wbGFjZWhvbGRlcicsXG4gIHN0eWxlOiB7fSxcbiAgaW5uZXJTdHlsZToge30sXG4gIGlubmVyQ2xhc3M6ICdkcmFnZ2FibGUtcGxhY2Vob2xkZXItaW5uZXInLFxuICBpbm5lckJhY2tTdHlsZToge30sXG4gIGlubmVyQmFja0NsYXNzOiAnZHJhZ2dhYmxlLXBsYWNlaG9sZGVyLWlubmVyLWJhY2snIC8vIGNoaWxkcmVuOiBbXSxcblxufTtcbnZhciBzY3JpcHQkMyA9IHtcbiAgZXh0ZW5kczogX192dWVfY29tcG9uZW50X18kMSxcbiAgcHJvcHM6IHtcbiAgICBnZXRUcmlnZ2VyRWw6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uXG4gICAgfSxcbiAgICBkcmFnZ2FibGU6IHt9LFxuICAgIGRyb3BwYWJsZToge1xuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgY3Jvc3NUcmVlOiB7fSxcbiAgICBvbmRyYWdzdGFydDoge1xuICAgICAgdHlwZTogRnVuY3Rpb25cbiAgICB9LFxuICAgIG9uZHJhZ2VuZDoge1xuICAgICAgdHlwZTogRnVuY3Rpb25cbiAgICB9LFxuICAgIHByZXZlbnRTZWxlY3Q6IHtcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBUcmVlTm9kZTogX192dWVfY29tcG9uZW50X18kMlxuICB9LFxuXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIERyYWdQbGFjZUhvbGRlclxuICAgICAgZHBsaCxcbiAgICAgIHRyZWVzXG4gICAgfTtcbiAgfSxcblxuICAvLyBjb21wdXRlZDoge30sXG4gIC8vIHdhdGNoOiB7fSxcbiAgLy8gbWV0aG9kczoge30sXG4gIGNyZWF0ZWQoKSB7XG4gICAgdHJlZXMucHVzaCh0aGlzKTtcbiAgfSxcblxuICBtb3VudGVkKCkge30sXG5cbiAgYmVmb3JlRGVzdHJveSgpIHtcbiAgICBhcnJheVJlbW92ZSh0cmVlcywgdGhpcyk7XG4gIH1cblxufTtcblxuLyogc2NyaXB0ICovXG52YXIgX192dWVfc2NyaXB0X18kMyA9IHNjcmlwdCQzO1xuLyogdGVtcGxhdGUgKi9cblxuLyogc3R5bGUgKi9cblxudmFyIF9fdnVlX2luamVjdF9zdHlsZXNfXyQzID0gdW5kZWZpbmVkO1xuLyogc2NvcGVkICovXG5cbnZhciBfX3Z1ZV9zY29wZV9pZF9fJDMgPSB1bmRlZmluZWQ7XG4vKiBtb2R1bGUgaWRlbnRpZmllciAqL1xuXG52YXIgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQzID0gdW5kZWZpbmVkO1xuLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqL1xuXG52YXIgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDMgPSB1bmRlZmluZWQ7XG4vKiBzdHlsZSBpbmplY3QgKi9cblxuLyogc3R5bGUgaW5qZWN0IFNTUiAqL1xuXG4vKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqL1xuXG52YXIgX192dWVfY29tcG9uZW50X18kMyA9IF9fdnVlX25vcm1hbGl6ZV9fKHt9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kMywgX192dWVfc2NyaXB0X18kMywgX192dWVfc2NvcGVfaWRfXyQzLCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMywgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQzLCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG5cbmV4cG9ydCB7IF9fdnVlX2NvbXBvbmVudF9fJDMgYXMgRHJhZ2dhYmxlVHJlZSwgX192dWVfY29tcG9uZW50X18kMiBhcyBEcmFnZ2FibGVUcmVlTm9kZSwgX192dWVfY29tcG9uZW50X18kMSBhcyBUcmVlLCBfX3Z1ZV9jb21wb25lbnRfXyBhcyBUcmVlTm9kZSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-draggable-nested-tree/dist/vue-draggable-nested-tree.esm.js\n");

/***/ }),

/***/ "./node_modules/vue-draggable-nested-tree/node_modules/@babel/runtime/helpers/defineProperty.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/vue-draggable-nested-tree/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWRyYWdnYWJsZS1uZXN0ZWQtdHJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcz8wODM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWRyYWdnYWJsZS1uZXN0ZWQtdHJlZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9kZWZpbmVQcm9wZXJ0eTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-draggable-nested-tree/node_modules/@babel/runtime/helpers/defineProperty.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/dist/vue-functions.esm.js":
/*!**************************************************************!*\
  !*** ./node_modules/vue-functions/dist/vue-functions.esm.js ***!
  \**************************************************************/
/*! exports provided: doWatch, hookHelper, isPropTrue, iterateObjectWithoutDollarDash, mountedMixin, registerPreventURLChange, updatablePropsEvenUnbound, watchAsync, windowSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"doWatch\", function() { return doWatch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hookHelper\", function() { return hookHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPropTrue\", function() { return isPropTrue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"iterateObjectWithoutDollarDash\", function() { return iterateObjectWithoutDollarDash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mountedMixin\", function() { return mountedMixin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerPreventURLChange\", function() { return registerPreventURLChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updatablePropsEvenUnbound\", function() { return updatablePropsEvenUnbound; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"watchAsync\", function() { return watchAsync; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"windowSize\", function() { return windowSize; });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/vue-functions/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! helper-js */ \"./node_modules/vue-functions/node_modules/helper-js/dist/helper-js.esm.js\");\n/*!\n * vue-functions v2.0.6\n * (c) phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: undefined\n * Released under the MIT License.\n */\n\n\n\n\nvar _marked = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(iterateObjectWithoutDollarDash);\n/**\n * [updatablePropsEvenUnbound description]\n * @param  {[type]} props [object or getter]\n * @return {[type]}       [description]\n * props eg: {\n    value: {$localName: 'current', $localSetter: (value, vm)},\n  }\n  default localName is `localProps_${name}`\n */\n\nfunction updatablePropsEvenUnbound(props) {\n  if (Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"isFunction\"])(props)) {\n    props = props();\n  } else {\n    // object\n    props = Object.assign({}, props);\n  }\n\n  var standardProps = {}; // without key starts with `$`\n\n  var _loop = function _loop(name) {\n    var prop = props[name]; // complete 补全选项\n\n    if (!prop.$localName) {\n      prop.$localName = \"localProps_\".concat(name);\n    }\n\n    if (!prop.$localSetter) {\n      prop.$localSetter = function (value) {\n        return value;\n      };\n    } // make standardProp\n\n\n    var standardProp = {};\n    standardProps[name] = standardProp;\n    Object.keys(props[name]).forEach(function (key) {\n      if (key[0] !== '$') {\n        standardProp[key] = prop[key];\n      }\n    });\n  };\n\n  for (var name in props) {\n    _loop(name);\n  }\n\n  var component = {\n    props: standardProps,\n    computed: {},\n    watch: {}\n  };\n\n  component.data = function () {\n    var t = {\n      localValueOfUpdatableProps: {}\n    };\n\n    for (var _i = 0, _Object$keys = Object.keys(props); _i < _Object$keys.length; _i++) {\n      var _name = _Object$keys[_i];\n      t.localValueOfUpdatableProps[_name] = this[_name];\n    }\n\n    return t;\n  };\n\n  var _loop2 = function _loop2() {\n    var name = _Object$keys2[_i2];\n    var prop = props[name];\n\n    component.watch[name] = function (value) {\n      this.localValueOfUpdatableProps[name] = prop.$localSetter(value, this);\n    };\n\n    var localName = prop.$localName;\n    component.computed[localName] = {\n      get: function get() {\n        return this.localValueOfUpdatableProps[name];\n      },\n      set: function set(value) {\n        if (name === 'value') {\n          this.$emit('input', value);\n        } else {\n          this.$emit(\"update:\".concat(name), value);\n        }\n\n        this.localValueOfUpdatableProps[name] = prop.$localSetter(value, this);\n      }\n    };\n  };\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(props); _i2 < _Object$keys2.length; _i2++) {\n    _loop2();\n  }\n\n  return component;\n}\nfunction isPropTrue(value) {\n  return value === '' || value;\n} // the dependences in getter can't be auto resolved. must use exec to include dependences\n\nfunction watchAsync(vm, getter, handler, opt) {\n  var destroies = [];\n  var value, oldValue;\n  var count = -1; // updated count\n\n  main();\n  return destroy;\n\n  function destroy() {\n    destroies.forEach(function (f) {\n      return f();\n    });\n    destroies = [];\n  }\n\n  function exec(getter, opt) {\n    var value;\n    var first = true;\n    var unwatch = vm.$watch(function () {\n      return getter.call(vm, exec);\n    }, function (value2) {\n      value = value2;\n\n      if (first) {\n        first = false;\n      } else {\n        main();\n      }\n    }, {\n      immediate: true,\n      deep: opt && opt.deep\n    });\n    destroies.push(unwatch);\n    return value;\n  }\n\n  function main() {\n    destroy();\n    var result = getter.call(vm, exec);\n    count++;\n    var localCount = count;\n    oldValue = value;\n\n    var getterExecuted = function getterExecuted(value) {\n      if (localCount !== count) {\n        // expired\n        return;\n      }\n\n      if (localCount === 0) {\n        if (opt && opt.immediate) {\n          handler.call(vm, value, oldValue);\n        }\n      } else {\n        handler.call(vm, value, oldValue);\n      }\n    }; //\n\n\n    if (Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"isPromise\"])(result)) {\n      result.then(getterExecuted);\n    } else {\n      getterExecuted(result);\n    }\n  }\n} // do handler first, handler return getter\n\nfunction doWatch(vm, handler) {\n  var oldValue, unwatch;\n\n  var update = function update() {\n    var getter = handler.call(vm, oldValue);\n    unwatch = vm.$watch(getter, function (value) {\n      unwatch();\n      oldValue = value;\n      update();\n    });\n  };\n\n  update();\n  return function () {\n    return unwatch && unwatch();\n  };\n}\nfunction iterateObjectWithoutDollarDash(obj) {\n  var key, start;\n  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function iterateObjectWithoutDollarDash$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.t0 = _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.keys(obj);\n\n        case 1:\n          if ((_context.t1 = _context.t0()).done) {\n            _context.next = 9;\n            break;\n          }\n\n          key = _context.t1.value;\n          start = key.substr(0, 1);\n\n          if (!(start !== '$' && start !== '_')) {\n            _context.next = 7;\n            break;\n          }\n\n          _context.next = 7;\n          return {\n            key: key,\n            value: obj[key]\n          };\n\n        case 7:\n          _context.next = 1;\n          break;\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n} // add reactive `windowSize`\n\nvar windowSize = {\n  data: function data() {\n    return {\n      windowSize: {\n        innerWidth: window.innerWidth,\n        innerHeight: window.innerHeight,\n        outerWidth: window.outerWidth,\n        outerHeight: window.outerHeight\n      }\n    };\n  },\n  methods: {\n    updateWindowSize: function updateWindowSize() {\n      Object.assign(this.windowSize, {\n        innerWidth: window.innerWidth,\n        innerHeight: window.innerHeight,\n        outerWidth: window.outerWidth,\n        outerHeight: window.outerHeight\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this._windowSize_onresize = function () {\n      _this.updateWindowSize();\n\n      _this.$emit('window-resize');\n    };\n\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"onDOM\"])(window, 'resize', this._windowSize_onresize);\n  },\n  beforeDestroy: function beforeDestroy() {\n    Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"offDOM\"])(window, 'resize', this._windowSize_onresize);\n  }\n};\nfunction registerPreventURLChange(Vue, router, msg) {\n  var preventRouter = false;\n  var msg0 = \"It looks like you have been editing something.\\nIf you leave before saving, your changes will be lost.\";\n  router.beforeEach(function (to, from, next) {\n    if (preventRouter) {\n      if (window.confirm(msg || msg0)) {\n        Vue.allowURLChange();\n        next();\n      } else {\n        next(false);\n      }\n    } else {\n      next();\n    }\n  });\n\n  var beforeunload = function beforeunload(e) {\n    var confirmationMessage = msg || msg0;\n    e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+\n\n    return confirmationMessage; // Gecko, WebKit, Chrome <34\n  };\n\n  Vue.preventURLChange = Vue.prototype.$preventURLChange = function (msg2) {\n    if (msg2 != null) {\n      msg = msg2;\n    }\n\n    if (!preventRouter) {\n      preventRouter = true;\n      window.addEventListener(\"beforeunload\", beforeunload);\n    }\n  };\n\n  Vue.allowURLChange = Vue.prototype.$allowURLChange = function () {\n    preventRouter = false;\n    window.removeEventListener(\"beforeunload\", beforeunload);\n  };\n}\nvar hookHelper = {\n  methods: {\n    // todo extract hooks to vue-functions\n    // get hooks in this._hooks, without which in props\n    _getNonPropHooksByName: function _getNonPropHooksByName(name) {\n      if (this._hooks) {\n        return this._hooks[name];\n      }\n    },\n    addHook: function addHook(name, func) {\n      if (!this._getNonPropHooksByName(name)) {\n        if (!this._hooks) {\n          this._hooks = {};\n        }\n\n        if (!this._hooks[name]) {\n          this._hooks[name] = [];\n        }\n      }\n\n      this._hooks[name].push(func);\n    },\n    removeHook: function removeHook(name, func) {\n      var hooks = this._getNonPropHooksByName(name);\n\n      if (hooks) {\n        Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"arrayRemove\"])(hooks, func);\n      }\n    },\n    hasHook: function hasHook(name) {\n      return this._getNonPropHooksByName(name) || this[name];\n    },\n    executeHook: function executeHook(name, args) {\n      var _this2 = this;\n\n      var hooks = this._getNonPropHooksByName(name);\n\n      hooks = hooks ? hooks.slice() : [];\n\n      if (this[name] && Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"isFunction\"])(this[name])) {\n        hooks.push(function (next) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          return _this2[name].apply(_this2, args);\n        });\n      }\n\n      return Object(helper_js__WEBPACK_IMPORTED_MODULE_2__[\"joinFunctionsByNext\"])(hooks).apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(args));\n    }\n  }\n};\nvar mountedMixin = {\n  data: function data() {\n    var _this3 = this;\n\n    return {\n      mounted: new Promise(function (resolve, reject) {\n        _this3._mounted_resolve = resolve;\n      })\n    };\n  },\n  mounted: function mounted() {\n    this._mounted_resolve();\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9kaXN0L3Z1ZS1mdW5jdGlvbnMuZXNtLmpzP2QzYjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzBFO0FBQ2I7QUFDc0M7O0FBRW5HLDJCQUEyQixpRUFBbUI7QUFDOUM7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQSxZQUFZLGlEQUFpRDtBQUM3RDtBQUNBLHFDQUFxQyxLQUFLO0FBQzFDOztBQUVBO0FBQ0EsTUFBTSw0REFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBLDRCQUE0QjtBQUM1Qjs7QUFFQSx5QkFBeUI7O0FBRXpCO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1REFBdUQsMEJBQTBCO0FBQ2pGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdURBQXVELDRCQUE0QjtBQUNuRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE1BQU07OztBQUdOLFFBQVEsMkRBQVM7QUFDakI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsaUVBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpRUFBbUI7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSSx1REFBSztBQUNULEdBQUc7QUFDSDtBQUNBLElBQUksd0RBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSx3Q0FBd0M7O0FBRXhDLCtCQUErQjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFFBQVEsNkRBQVc7QUFDbkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBOztBQUVBLHdCQUF3Qiw0REFBVTtBQUNsQztBQUNBLGdHQUFnRyxhQUFhO0FBQzdHO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsYUFBYSxxRUFBbUIsc0JBQXNCLCtFQUFrQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVzSyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL2Rpc3QvdnVlLWZ1bmN0aW9ucy5lc20uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIHZ1ZS1mdW5jdGlvbnMgdjIuMC42XG4gKiAoYykgcGhwaGUgPHBocGhlQG91dGxvb2suY29tPiAoaHR0cHM6Ly9naXRodWIuY29tL3BocGhlKVxuICogSG9tZXBhZ2U6IHVuZGVmaW5lZFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknO1xuaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAnQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNQcm9taXNlLCBvbkRPTSwgb2ZmRE9NLCBhcnJheVJlbW92ZSwgam9pbkZ1bmN0aW9uc0J5TmV4dCB9IGZyb20gJ2hlbHBlci1qcyc7XG5cbnZhciBfbWFya2VkID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhpdGVyYXRlT2JqZWN0V2l0aG91dERvbGxhckRhc2gpO1xuLyoqXG4gKiBbdXBkYXRhYmxlUHJvcHNFdmVuVW5ib3VuZCBkZXNjcmlwdGlvbl1cbiAqIEBwYXJhbSAge1t0eXBlXX0gcHJvcHMgW29iamVjdCBvciBnZXR0ZXJdXG4gKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAqIHByb3BzIGVnOiB7XG4gICAgdmFsdWU6IHskbG9jYWxOYW1lOiAnY3VycmVudCcsICRsb2NhbFNldHRlcjogKHZhbHVlLCB2bSl9LFxuICB9XG4gIGRlZmF1bHQgbG9jYWxOYW1lIGlzIGBsb2NhbFByb3BzXyR7bmFtZX1gXG4gKi9cblxuZnVuY3Rpb24gdXBkYXRhYmxlUHJvcHNFdmVuVW5ib3VuZChwcm9wcykge1xuICBpZiAoaXNGdW5jdGlvbihwcm9wcykpIHtcbiAgICBwcm9wcyA9IHByb3BzKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gb2JqZWN0XG4gICAgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBwcm9wcyk7XG4gIH1cblxuICB2YXIgc3RhbmRhcmRQcm9wcyA9IHt9OyAvLyB3aXRob3V0IGtleSBzdGFydHMgd2l0aCBgJGBcblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChuYW1lKSB7XG4gICAgdmFyIHByb3AgPSBwcm9wc1tuYW1lXTsgLy8gY29tcGxldGUg6KGl5YWo6YCJ6aG5XG5cbiAgICBpZiAoIXByb3AuJGxvY2FsTmFtZSkge1xuICAgICAgcHJvcC4kbG9jYWxOYW1lID0gXCJsb2NhbFByb3BzX1wiLmNvbmNhdChuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoIXByb3AuJGxvY2FsU2V0dGVyKSB7XG4gICAgICBwcm9wLiRsb2NhbFNldHRlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgIH0gLy8gbWFrZSBzdGFuZGFyZFByb3BcblxuXG4gICAgdmFyIHN0YW5kYXJkUHJvcCA9IHt9O1xuICAgIHN0YW5kYXJkUHJvcHNbbmFtZV0gPSBzdGFuZGFyZFByb3A7XG4gICAgT2JqZWN0LmtleXMocHJvcHNbbmFtZV0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleVswXSAhPT0gJyQnKSB7XG4gICAgICAgIHN0YW5kYXJkUHJvcFtrZXldID0gcHJvcFtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIHtcbiAgICBfbG9vcChuYW1lKTtcbiAgfVxuXG4gIHZhciBjb21wb25lbnQgPSB7XG4gICAgcHJvcHM6IHN0YW5kYXJkUHJvcHMsXG4gICAgY29tcHV0ZWQ6IHt9LFxuICAgIHdhdGNoOiB7fVxuICB9O1xuXG4gIGNvbXBvbmVudC5kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ID0ge1xuICAgICAgbG9jYWxWYWx1ZU9mVXBkYXRhYmxlUHJvcHM6IHt9XG4gICAgfTtcblxuICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpOyBfaSA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfbmFtZSA9IF9PYmplY3Qka2V5c1tfaV07XG4gICAgICB0LmxvY2FsVmFsdWVPZlVwZGF0YWJsZVByb3BzW19uYW1lXSA9IHRoaXNbX25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoKSB7XG4gICAgdmFyIG5hbWUgPSBfT2JqZWN0JGtleXMyW19pMl07XG4gICAgdmFyIHByb3AgPSBwcm9wc1tuYW1lXTtcblxuICAgIGNvbXBvbmVudC53YXRjaFtuYW1lXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy5sb2NhbFZhbHVlT2ZVcGRhdGFibGVQcm9wc1tuYW1lXSA9IHByb3AuJGxvY2FsU2V0dGVyKHZhbHVlLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdmFyIGxvY2FsTmFtZSA9IHByb3AuJGxvY2FsTmFtZTtcbiAgICBjb21wb25lbnQuY29tcHV0ZWRbbG9jYWxOYW1lXSA9IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFZhbHVlT2ZVcGRhdGFibGVQcm9wc1tuYW1lXTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJGVtaXQoXCJ1cGRhdGU6XCIuY29uY2F0KG5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvY2FsVmFsdWVPZlVwZGF0YWJsZVByb3BzW25hbWVdID0gcHJvcC4kbG9jYWxTZXR0ZXIodmFsdWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgZm9yICh2YXIgX2kyID0gMCwgX09iamVjdCRrZXlzMiA9IE9iamVjdC5rZXlzKHByb3BzKTsgX2kyIDwgX09iamVjdCRrZXlzMi5sZW5ndGg7IF9pMisrKSB7XG4gICAgX2xvb3AyKCk7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gaXNQcm9wVHJ1ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09ICcnIHx8IHZhbHVlO1xufSAvLyB0aGUgZGVwZW5kZW5jZXMgaW4gZ2V0dGVyIGNhbid0IGJlIGF1dG8gcmVzb2x2ZWQuIG11c3QgdXNlIGV4ZWMgdG8gaW5jbHVkZSBkZXBlbmRlbmNlc1xuXG5mdW5jdGlvbiB3YXRjaEFzeW5jKHZtLCBnZXR0ZXIsIGhhbmRsZXIsIG9wdCkge1xuICB2YXIgZGVzdHJvaWVzID0gW107XG4gIHZhciB2YWx1ZSwgb2xkVmFsdWU7XG4gIHZhciBjb3VudCA9IC0xOyAvLyB1cGRhdGVkIGNvdW50XG5cbiAgbWFpbigpO1xuICByZXR1cm4gZGVzdHJveTtcblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGRlc3Ryb2llcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICByZXR1cm4gZigpO1xuICAgIH0pO1xuICAgIGRlc3Ryb2llcyA9IFtdO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhlYyhnZXR0ZXIsIG9wdCkge1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgZmlyc3QgPSB0cnVlO1xuICAgIHZhciB1bndhdGNoID0gdm0uJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXR0ZXIuY2FsbCh2bSwgZXhlYyk7XG4gICAgfSwgZnVuY3Rpb24gKHZhbHVlMikge1xuICAgICAgdmFsdWUgPSB2YWx1ZTI7XG5cbiAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFpbigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGRlZXA6IG9wdCAmJiBvcHQuZGVlcFxuICAgIH0pO1xuICAgIGRlc3Ryb2llcy5wdXNoKHVud2F0Y2gpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1haW4oKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIHZhciByZXN1bHQgPSBnZXR0ZXIuY2FsbCh2bSwgZXhlYyk7XG4gICAgY291bnQrKztcbiAgICB2YXIgbG9jYWxDb3VudCA9IGNvdW50O1xuICAgIG9sZFZhbHVlID0gdmFsdWU7XG5cbiAgICB2YXIgZ2V0dGVyRXhlY3V0ZWQgPSBmdW5jdGlvbiBnZXR0ZXJFeGVjdXRlZCh2YWx1ZSkge1xuICAgICAgaWYgKGxvY2FsQ291bnQgIT09IGNvdW50KSB7XG4gICAgICAgIC8vIGV4cGlyZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9jYWxDb3VudCA9PT0gMCkge1xuICAgICAgICBpZiAob3B0ICYmIG9wdC5pbW1lZGlhdGUpIHtcbiAgICAgICAgICBoYW5kbGVyLmNhbGwodm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXIuY2FsbCh2bSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9OyAvL1xuXG5cbiAgICBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdC50aGVuKGdldHRlckV4ZWN1dGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2V0dGVyRXhlY3V0ZWQocmVzdWx0KTtcbiAgICB9XG4gIH1cbn0gLy8gZG8gaGFuZGxlciBmaXJzdCwgaGFuZGxlciByZXR1cm4gZ2V0dGVyXG5cbmZ1bmN0aW9uIGRvV2F0Y2godm0sIGhhbmRsZXIpIHtcbiAgdmFyIG9sZFZhbHVlLCB1bndhdGNoO1xuXG4gIHZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIGdldHRlciA9IGhhbmRsZXIuY2FsbCh2bSwgb2xkVmFsdWUpO1xuICAgIHVud2F0Y2ggPSB2bS4kd2F0Y2goZ2V0dGVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHVud2F0Y2goKTtcbiAgICAgIG9sZFZhbHVlID0gdmFsdWU7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICB1cGRhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdW53YXRjaCAmJiB1bndhdGNoKCk7XG4gIH07XG59XG5mdW5jdGlvbiBpdGVyYXRlT2JqZWN0V2l0aG91dERvbGxhckRhc2gob2JqKSB7XG4gIHZhciBrZXksIHN0YXJ0O1xuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGl0ZXJhdGVPYmplY3RXaXRob3V0RG9sbGFyRGFzaCQoX2NvbnRleHQpIHtcbiAgICB3aGlsZSAoMSkge1xuICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgX2NvbnRleHQudDAgPSBfcmVnZW5lcmF0b3JSdW50aW1lLmtleXMob2JqKTtcblxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKChfY29udGV4dC50MSA9IF9jb250ZXh0LnQwKCkpLmRvbmUpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAga2V5ID0gX2NvbnRleHQudDEudmFsdWU7XG4gICAgICAgICAgc3RhcnQgPSBrZXkuc3Vic3RyKDAsIDEpO1xuXG4gICAgICAgICAgaWYgKCEoc3RhcnQgIT09ICckJyAmJiBzdGFydCAhPT0gJ18nKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB2YWx1ZTogb2JqW2tleV1cbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDk6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZCk7XG59IC8vIGFkZCByZWFjdGl2ZSBgd2luZG93U2l6ZWBcblxudmFyIHdpbmRvd1NpemUgPSB7XG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpbmRvd1NpemU6IHtcbiAgICAgICAgaW5uZXJXaWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGlubmVySGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgIG91dGVyV2lkdGg6IHdpbmRvdy5vdXRlcldpZHRoLFxuICAgICAgICBvdXRlckhlaWdodDogd2luZG93Lm91dGVySGVpZ2h0XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHVwZGF0ZVdpbmRvd1NpemU6IGZ1bmN0aW9uIHVwZGF0ZVdpbmRvd1NpemUoKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMud2luZG93U2l6ZSwge1xuICAgICAgICBpbm5lcldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgaW5uZXJIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgb3V0ZXJXaWR0aDogd2luZG93Lm91dGVyV2lkdGgsXG4gICAgICAgIG91dGVySGVpZ2h0OiB3aW5kb3cub3V0ZXJIZWlnaHRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5fd2luZG93U2l6ZV9vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnVwZGF0ZVdpbmRvd1NpemUoKTtcblxuICAgICAgX3RoaXMuJGVtaXQoJ3dpbmRvdy1yZXNpemUnKTtcbiAgICB9O1xuXG4gICAgb25ET00od2luZG93LCAncmVzaXplJywgdGhpcy5fd2luZG93U2l6ZV9vbnJlc2l6ZSk7XG4gIH0sXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7XG4gICAgb2ZmRE9NKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX3dpbmRvd1NpemVfb25yZXNpemUpO1xuICB9XG59O1xuZnVuY3Rpb24gcmVnaXN0ZXJQcmV2ZW50VVJMQ2hhbmdlKFZ1ZSwgcm91dGVyLCBtc2cpIHtcbiAgdmFyIHByZXZlbnRSb3V0ZXIgPSBmYWxzZTtcbiAgdmFyIG1zZzAgPSBcIkl0IGxvb2tzIGxpa2UgeW91IGhhdmUgYmVlbiBlZGl0aW5nIHNvbWV0aGluZy5cXG5JZiB5b3UgbGVhdmUgYmVmb3JlIHNhdmluZywgeW91ciBjaGFuZ2VzIHdpbGwgYmUgbG9zdC5cIjtcbiAgcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7XG4gICAgaWYgKHByZXZlbnRSb3V0ZXIpIHtcbiAgICAgIGlmICh3aW5kb3cuY29uZmlybShtc2cgfHwgbXNnMCkpIHtcbiAgICAgICAgVnVlLmFsbG93VVJMQ2hhbmdlKCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0KCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgYmVmb3JldW5sb2FkID0gZnVuY3Rpb24gYmVmb3JldW5sb2FkKGUpIHtcbiAgICB2YXIgY29uZmlybWF0aW9uTWVzc2FnZSA9IG1zZyB8fCBtc2cwO1xuICAgIGUucmV0dXJuVmFsdWUgPSBjb25maXJtYXRpb25NZXNzYWdlOyAvLyBHZWNrbywgVHJpZGVudCwgQ2hyb21lIDM0K1xuXG4gICAgcmV0dXJuIGNvbmZpcm1hdGlvbk1lc3NhZ2U7IC8vIEdlY2tvLCBXZWJLaXQsIENocm9tZSA8MzRcbiAgfTtcblxuICBWdWUucHJldmVudFVSTENoYW5nZSA9IFZ1ZS5wcm90b3R5cGUuJHByZXZlbnRVUkxDaGFuZ2UgPSBmdW5jdGlvbiAobXNnMikge1xuICAgIGlmIChtc2cyICE9IG51bGwpIHtcbiAgICAgIG1zZyA9IG1zZzI7XG4gICAgfVxuXG4gICAgaWYgKCFwcmV2ZW50Um91dGVyKSB7XG4gICAgICBwcmV2ZW50Um91dGVyID0gdHJ1ZTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGJlZm9yZXVubG9hZCk7XG4gICAgfVxuICB9O1xuXG4gIFZ1ZS5hbGxvd1VSTENoYW5nZSA9IFZ1ZS5wcm90b3R5cGUuJGFsbG93VVJMQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZlbnRSb3V0ZXIgPSBmYWxzZTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBiZWZvcmV1bmxvYWQpO1xuICB9O1xufVxudmFyIGhvb2tIZWxwZXIgPSB7XG4gIG1ldGhvZHM6IHtcbiAgICAvLyB0b2RvIGV4dHJhY3QgaG9va3MgdG8gdnVlLWZ1bmN0aW9uc1xuICAgIC8vIGdldCBob29rcyBpbiB0aGlzLl9ob29rcywgd2l0aG91dCB3aGljaCBpbiBwcm9wc1xuICAgIF9nZXROb25Qcm9wSG9va3NCeU5hbWU6IGZ1bmN0aW9uIF9nZXROb25Qcm9wSG9va3NCeU5hbWUobmFtZSkge1xuICAgICAgaWYgKHRoaXMuX2hvb2tzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ob29rc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFkZEhvb2s6IGZ1bmN0aW9uIGFkZEhvb2sobmFtZSwgZnVuYykge1xuICAgICAgaWYgKCF0aGlzLl9nZXROb25Qcm9wSG9va3NCeU5hbWUobmFtZSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob29rcykge1xuICAgICAgICAgIHRoaXMuX2hvb2tzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2hvb2tzW25hbWVdKSB7XG4gICAgICAgICAgdGhpcy5faG9va3NbbmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9ob29rc1tuYW1lXS5wdXNoKGZ1bmMpO1xuICAgIH0sXG4gICAgcmVtb3ZlSG9vazogZnVuY3Rpb24gcmVtb3ZlSG9vayhuYW1lLCBmdW5jKSB7XG4gICAgICB2YXIgaG9va3MgPSB0aGlzLl9nZXROb25Qcm9wSG9va3NCeU5hbWUobmFtZSk7XG5cbiAgICAgIGlmIChob29rcykge1xuICAgICAgICBhcnJheVJlbW92ZShob29rcywgZnVuYyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYXNIb29rOiBmdW5jdGlvbiBoYXNIb29rKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXROb25Qcm9wSG9va3NCeU5hbWUobmFtZSkgfHwgdGhpc1tuYW1lXTtcbiAgICB9LFxuICAgIGV4ZWN1dGVIb29rOiBmdW5jdGlvbiBleGVjdXRlSG9vayhuYW1lLCBhcmdzKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGhvb2tzID0gdGhpcy5fZ2V0Tm9uUHJvcEhvb2tzQnlOYW1lKG5hbWUpO1xuXG4gICAgICBob29rcyA9IGhvb2tzID8gaG9va3Muc2xpY2UoKSA6IFtdO1xuXG4gICAgICBpZiAodGhpc1tuYW1lXSAmJiBpc0Z1bmN0aW9uKHRoaXNbbmFtZV0pKSB7XG4gICAgICAgIGhvb2tzLnB1c2goZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXMyW25hbWVdLmFwcGx5KF90aGlzMiwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gam9pbkZ1bmN0aW9uc0J5TmV4dChob29rcykuYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgIH1cbiAgfVxufTtcbnZhciBtb3VudGVkTWl4aW4gPSB7XG4gIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbW91bnRlZDogbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBfdGhpczMuX21vdW50ZWRfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KVxuICAgIH07XG4gIH0sXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5fbW91bnRlZF9yZXNvbHZlKCk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGRvV2F0Y2gsIGhvb2tIZWxwZXIsIGlzUHJvcFRydWUsIGl0ZXJhdGVPYmplY3RXaXRob3V0RG9sbGFyRGFzaCwgbW91bnRlZE1peGluLCByZWdpc3RlclByZXZlbnRVUkxDaGFuZ2UsIHVwZGF0YWJsZVByb3BzRXZlblVuYm91bmQsIHdhdGNoQXN5bmMsIHdpbmRvd1NpemUgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/dist/vue-functions.esm.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzPzk2NzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithHoles.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhIb2xlcy5qcz84MGNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aEhvbGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithHoles.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcz8zMjc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QixtQkFBTyxDQUFDLGdIQUFvQjs7QUFFbkQ7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRob3V0SG9sZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXJyYXlMaWtlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2FycmF5TGlrZVRvQXJyYXlcIik7XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkoYXJyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRob3V0SG9sZXM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanM/ZTczZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/assertThisInitialized.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcz9mYmQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/classCallCheck.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/createClass.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/createClass.js ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcz81MWIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NyZWF0ZUNsYXNzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/createClass.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/get.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/get.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var superPropBase = __webpack_require__(/*! ./superPropBase */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/superPropBase.js\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXQuanM/MWIzOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IsbUJBQU8sQ0FBQywwR0FBaUI7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3VwZXJQcm9wQmFzZSA9IHJlcXVpcmUoXCIuL3N1cGVyUHJvcEJhc2VcIik7XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0ID0gUmVmbGVjdC5nZXQ7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgICAgdmFyIGJhc2UgPSBzdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgaWYgKCFiYXNlKSByZXR1cm47XG4gICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzYy52YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/get.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/getPrototypeOf.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZi5qcz9kNjg5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/getPrototypeOf.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/inherits.js":
/*!************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/inherits.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcz8zYjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFCQUFxQixtQkFBTyxDQUFDLDRHQUFrQjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3NldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/inherits.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanM/YmI0NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArray.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcz80NTdhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QywrQkFBK0I7QUFDNUU7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableRest.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanM/MjlhZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVJlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVJlc3Q7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableRest.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcz85NmNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVTcHJlYWQ7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableSpread.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var _typeof = __webpack_require__(/*! ../helpers/typeof */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuLmpzPzc4NWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyxtQkFBTyxDQUFDLHFHQUFtQjs7QUFFekMsNEJBQTRCLG1CQUFPLENBQUMsMEhBQXlCOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgYXNzZXJ0VGhpc0luaXRpYWxpemVkID0gcmVxdWlyZShcIi4vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCIpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcz9mYWRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NldFByb3RvdHlwZU9mLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2Y7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/setPrototypeOf.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/slicedToArray.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithHoles.js\");\n\nvar iterableToArrayLimit = __webpack_require__(/*! ./iterableToArrayLimit */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableRest = __webpack_require__(/*! ./nonIterableRest */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzP2E5NmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsNEdBQWtCOztBQUUvQywyQkFBMkIsbUJBQU8sQ0FBQyx3SEFBd0I7O0FBRTNELGlDQUFpQyxtQkFBTyxDQUFDLG9JQUE4Qjs7QUFFdkUsc0JBQXNCLG1CQUFPLENBQUMsOEdBQW1COztBQUVqRDtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0XCIpO1xuXG52YXIgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIG5vbkl0ZXJhYmxlUmVzdCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlUmVzdFwiKTtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gIHJldHVybiBhcnJheVdpdGhIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2xpY2VkVG9BcnJheTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/slicedToArray.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/superPropBase.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/superPropBase.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zdXBlclByb3BCYXNlLmpzPzQ1NTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCLG1CQUFPLENBQUMsNEdBQWtCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zdXBlclByb3BCYXNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vZ2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgd2hpbGUgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICBvYmplY3QgPSBnZXRQcm90b3R5cGVPZihvYmplY3QpO1xuICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIG9iamVjdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc3VwZXJQcm9wQmFzZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/superPropBase.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcz8zN2Q3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QixtQkFBTyxDQUFDLGtIQUFxQjs7QUFFckQsc0JBQXNCLG1CQUFPLENBQUMsOEdBQW1COztBQUVqRCxpQ0FBaUMsbUJBQU8sQ0FBQyxvSUFBOEI7O0FBRXZFLHdCQUF3QixtQkFBTyxDQUFDLGtIQUFxQjs7QUFFckQ7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdG9Db25zdW1hYmxlQXJyYXk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/toConsumableArray.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/typeof.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/typeof.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanM/MjVjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90eXBlb2Y7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/typeof.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheS5qcz9kZDFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHVCQUF1QixtQkFBTyxDQUFDLGdIQUFvQjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy92dWUtZnVuY3Rpb25zL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7XG4gIGlmICghbykgcmV0dXJuO1xuICBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG4gIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTtcbiAgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7XG4gIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/@babel/runtime/regenerator/index.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/@babel/runtime/regenerator/index.js ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/vue-functions/node_modules/regenerator-runtime/runtime.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanM/ZjBkZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUIsbUJBQU8sQ0FBQyxxR0FBcUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/@babel/runtime/regenerator/index.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/helper-js/dist/helper-js.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/helper-js/dist/helper-js.esm.js ***!
  \*********************************************************************************/
/*! exports provided: Cache, CrossWindow, CrossWindowEventProcessor, EventProcessor, TreeData, URLHelper, addClass, addDate, appendTo, arrayAt, arrayDistinct, arrayFirst, arrayFlat, arrayGetRange, arrayLast, arrayRemove, arrayRemoveBySortedIndexes, arraySubtract, arrayWithoutEnd, assignIfDifferent, attachCache, backupAttr, binarySearch, camelCase, camelToWords, cloneDate, copyTextToClipboard, createElementFromHTML, debounceImmediate, debounceTrailing, depthFirstSearch, easeInOutQuad, elementsFromPoint, empty, executePromiseGetters, executeWithCount, findNodeList, findNodeListReverse, findParent, getArrayItemSibling, getArrayItemSiblings, getBorder, getBoundingClientRect, getCalendar, getElSizeEvenInvisible, getImageSizeByUrl, getLocalStorage2, getMonthEnd, getMonthStart, getOffset, getOffsetParent, getOuterAttachedHeight, getOuterAttachedWidth, getPosition, getPositionFromOffset, getScroll, getSessionStorage2, getUrlParam, getUserLanguage, getViewportPosition, glb, groupArray, hasClass, insertAfter, insertBefore, isArray, isBool, isDescendantOf, isDocumentExisted, isFunction, isIE, isIsoFormat, isNode, isNumber, isNumeric, isObject, isOffsetInEl, isPromise, isString, isWindowDefined, iterateAll, joinFunctionsByNext, joinFunctionsByResult, kebabCase, makeStorageHelper, mapObjectTree, mapObjects, newArrayExcludingIndexes, notGreaterThan, notLessThan, objectAssignIfKeyNull, objectExcept, objectGet, objectMap, objectOnly, objectSet, offDOM, offsetToViewportPosition, onContinuousInput, onDOM, onDOMMany, onQuickKeydown, openCenterWindow, openWindow, pairRows, parseISO, prependTo, promiseTimeout, randChoice, randInt, randString, removeClass, removeEl, resolveArgsByType, resolveValueOrGettter, restoreAttr, retry, scrollTo, setElChildByIndex, snakeCase, splitArray, store, strPad, studlyCase, titleCase, toArrayIfNot, uniqueId, unset, viewportPositionToOffset, waitFor, waitTime, walkTreeData, watchChange, windowLoaded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Cache\", function() { return Cache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrossWindow\", function() { return CrossWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CrossWindowEventProcessor\", function() { return CrossWindowEventProcessor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventProcessor\", function() { return EventProcessor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeData\", function() { return TreeData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"URLHelper\", function() { return URLHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addClass\", function() { return addClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addDate\", function() { return addDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appendTo\", function() { return appendTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayAt\", function() { return arrayAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayDistinct\", function() { return arrayDistinct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayFirst\", function() { return arrayFirst; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayFlat\", function() { return arrayFlat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayGetRange\", function() { return arrayGetRange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayLast\", function() { return arrayLast; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayRemove\", function() { return arrayRemove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayRemoveBySortedIndexes\", function() { return arrayRemoveBySortedIndexes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arraySubtract\", function() { return arraySubtract; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"arrayWithoutEnd\", function() { return arrayWithoutEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"assignIfDifferent\", function() { return assignIfDifferent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attachCache\", function() { return attachCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"backupAttr\", function() { return backupAttr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"binarySearch\", function() { return binarySearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelCase\", function() { return camelCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelToWords\", function() { return camelToWords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneDate\", function() { return cloneDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"copyTextToClipboard\", function() { return copyTextToClipboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElementFromHTML\", function() { return createElementFromHTML; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounceImmediate\", function() { return debounceImmediate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounceTrailing\", function() { return debounceTrailing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"depthFirstSearch\", function() { return depthFirstSearch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"easeInOutQuad\", function() { return easeInOutQuad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"elementsFromPoint\", function() { return elementsFromPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"empty\", function() { return empty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executePromiseGetters\", function() { return executePromiseGetters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executeWithCount\", function() { return executeWithCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findNodeList\", function() { return findNodeList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findNodeListReverse\", function() { return findNodeListReverse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findParent\", function() { return findParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getArrayItemSibling\", function() { return getArrayItemSibling; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getArrayItemSiblings\", function() { return getArrayItemSiblings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBorder\", function() { return getBorder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBoundingClientRect\", function() { return getBoundingClientRect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCalendar\", function() { return getCalendar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElSizeEvenInvisible\", function() { return getElSizeEvenInvisible; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getImageSizeByUrl\", function() { return getImageSizeByUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLocalStorage2\", function() { return getLocalStorage2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthEnd\", function() { return getMonthEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMonthStart\", function() { return getMonthStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOffset\", function() { return getOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOffsetParent\", function() { return getOffsetParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOuterAttachedHeight\", function() { return getOuterAttachedHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOuterAttachedWidth\", function() { return getOuterAttachedWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPosition\", function() { return getPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPositionFromOffset\", function() { return getPositionFromOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getScroll\", function() { return getScroll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSessionStorage2\", function() { return getSessionStorage2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUrlParam\", function() { return getUrlParam; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUserLanguage\", function() { return getUserLanguage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getViewportPosition\", function() { return getViewportPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"glb\", function() { return glb; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupArray\", function() { return groupArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasClass\", function() { return hasClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertAfter\", function() { return insertAfter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertBefore\", function() { return insertBefore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return isArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isBool\", function() { return isBool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDescendantOf\", function() { return isDescendantOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDocumentExisted\", function() { return isDocumentExisted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFunction\", function() { return isFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIE\", function() { return isIE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIsoFormat\", function() { return isIsoFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNode\", function() { return isNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNumber\", function() { return isNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNumeric\", function() { return isNumeric; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return isObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOffsetInEl\", function() { return isOffsetInEl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPromise\", function() { return isPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return isString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWindowDefined\", function() { return isWindowDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"iterateAll\", function() { return iterateAll; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinFunctionsByNext\", function() { return joinFunctionsByNext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinFunctionsByResult\", function() { return joinFunctionsByResult; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"kebabCase\", function() { return kebabCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeStorageHelper\", function() { return makeStorageHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapObjectTree\", function() { return mapObjectTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapObjects\", function() { return mapObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"newArrayExcludingIndexes\", function() { return newArrayExcludingIndexes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"notGreaterThan\", function() { return notGreaterThan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"notLessThan\", function() { return notLessThan; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectAssignIfKeyNull\", function() { return objectAssignIfKeyNull; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectExcept\", function() { return objectExcept; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectGet\", function() { return objectGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectMap\", function() { return objectMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectOnly\", function() { return objectOnly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectSet\", function() { return objectSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"offDOM\", function() { return offDOM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"offsetToViewportPosition\", function() { return offsetToViewportPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onContinuousInput\", function() { return onContinuousInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onDOM\", function() { return onDOM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onDOMMany\", function() { return onDOMMany; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onQuickKeydown\", function() { return onQuickKeydown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openCenterWindow\", function() { return openCenterWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openWindow\", function() { return openWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pairRows\", function() { return pairRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseISO\", function() { return parseISO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prependTo\", function() { return prependTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"promiseTimeout\", function() { return promiseTimeout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randChoice\", function() { return randChoice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randInt\", function() { return randInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randString\", function() { return randString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeClass\", function() { return removeClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeEl\", function() { return removeEl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveArgsByType\", function() { return resolveArgsByType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveValueOrGettter\", function() { return resolveValueOrGettter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"restoreAttr\", function() { return restoreAttr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"retry\", function() { return retry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scrollTo\", function() { return scrollTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setElChildByIndex\", function() { return setElChildByIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"snakeCase\", function() { return snakeCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitArray\", function() { return splitArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"store\", function() { return store; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"strPad\", function() { return strPad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"studlyCase\", function() { return studlyCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"titleCase\", function() { return titleCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toArrayIfNot\", function() { return toArrayIfNot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uniqueId\", function() { return uniqueId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unset\", function() { return unset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"viewportPositionToOffset\", function() { return viewportPositionToOffset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitFor\", function() { return waitFor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"waitTime\", function() { return waitTime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"walkTreeData\", function() { return walkTreeData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"watchChange\", function() { return watchChange; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"windowLoaded\", function() { return windowLoaded; });\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/get.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/vue-functions/node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/vue-functions/node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_10__);\n/*!\n * helper-js v2.0.1\n * (c) phphe <phphe@outlook.com> (https://github.com/phphe)\n * Homepage: undefined\n * Released under the MIT License.\n */\n\n\n\n\n\n\n\n\n\n\n\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction _createSuper(Derived) { return function () { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _marked = /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(iterateAll);\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n// 为此库有需要的方法存储信息\n// @ts-ignore\n\nvar store = {\n  uniqueId: {}\n}; // get global, such as window in browser.\n// 返回顶级全局变量. 例如浏览器的`window`\n\nfunction glb() {\n  // `this` !== global or window because of build tool. So you can't use `this` to get `global`\n  if (store.glb) {\n    return store.glb;\n  } else {\n    // resolve global\n    var t;\n\n    try {\n      t = global;\n    } catch (e) {\n      t = window;\n    }\n\n    store.glb = t;\n    return t;\n  }\n} // detect if global variable `document` existing.\n// 判断全局变量`document`是否存在\n\nfunction isDocumentExisted() {\n  try {\n    var t = document;\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\nfunction isArray(v) {\n  return Object.prototype.toString.call(v) === '[object Array]';\n}\nfunction isBool(v) {\n  return Object.prototype.toString.call(v) === '[object Boolean]';\n}\nfunction isNumber(v) {\n  return Object.prototype.toString.call(v) === '[object Number]';\n}\nfunction isNumeric(v) {\n  return isFinite(v) && !isNaN(parseFloat(v));\n}\nfunction isString(v) {\n  return Object.prototype.toString.call(v) === '[object String]';\n}\nfunction isObject(v) {\n  return Object.prototype.toString.call(v) === '[object Object]';\n}\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isPromise(v) {\n  return Object.prototype.toString.call(v) === '[object Promise]';\n} // detect if argumrnt is null, undefined, empty array, empty string, false, NaN, empty object\n// 检查是否是null, undefined, 空数组, 空字符串, false, NaN, 空对象\n\nfunction empty(v) {\n  if (v == null) {\n    return true;\n  } else if (v.length != null) {\n    return v.length === 0;\n  } else if (isBool(v)) {\n    return false;\n  } else if (isNumber(v)) {\n    return isNaN(v);\n  } else if (isObject(v)) {\n    return Object.keys(v).length === 0;\n  }\n} // rand int in range, including min and max\n// 返回指定范围随机整数, 包括范围起始值和终止值\n\nfunction randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n} // rand item in array\n// 返回数组随机一项\n\nfunction randChoice(arr) {\n  return arr[randInt(0, arr.length - 1)];\n} // Pad a string to a certain length with another string\n// 左边补充指定字符, 使其达到指定长度\n\nfunction strPad(str, n) {\n  var padString = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  var r = str.toString();\n  var len = str.toString().length;\n\n  while (len < n) {\n    r = padString + r;\n    len++;\n  }\n\n  if (r.length > n) {\n    r = r.substr(r.length - n);\n  }\n\n  return str;\n} // If n less than `min`, return `min`, else n.\n// 如果n小于min, 返回min, 否则n.\n\nfunction notLessThan(n, min) {\n  return n < min ? min : n;\n} // If n greater than `max`, return `max`, else n.\n// 如果n大于max, 返回max, 否则n.\n\nfunction notGreaterThan(n, max) {\n  return n < max ? n : max;\n} // ## string\n// ## 字符串\n// 'abc abc' to 'Abc abc'\n\nfunction studlyCase(str) {\n  return str && str[0].toUpperCase() + str.substr(1);\n} // To lower case and use `-` as delimiter. example: '-ABC abc_def camelCase-- helloMyFriend' to 'a-b-c-abc-def-camel-case-hello-my-friend'\n\nfunction kebabCase(str) {\n  return str.replace(/ /g, '-').replace(/_/g, '-').replace(/([A-Z])/g, '-$1').replace(/--+/g, '-').replace(/^-|-$|/g, '').toLowerCase();\n} // To lower case and use `_` as delimiter.\n\nfunction snakeCase(str) {\n  return kebabCase(str).replace(/-/g, '_');\n} // 'abc-abc-abc_abc' to 'AbcAbcAbcAbc'\n\nfunction camelCase(str) {\n  var temp = str.toString().split(/[-_]/);\n\n  for (var i = 1; i < temp.length; i++) {\n    temp[i] = studlyCase(temp[i]);\n  }\n\n  return temp.join('');\n} // 'AbcAbcAbcAbc' to ['Abc', 'Abc', 'Abc', 'Abc']\n\nfunction camelToWords(str) {\n  return str.toString().trim().split(/(?=[A-Z])/);\n} // 'abcAbc' to 'Abc Abc'\n\nfunction titleCase(str) {\n  return camelToWords(studlyCase(camelCase(str))).join(' ').replace(/\\bid\\b/ig, 'ID');\n} // generate random string\n// 随机字符串\n\nfunction randString() {\n  var len = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n  var seeds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var r = '';\n\n  for (var i = 0; i < len; i++) {\n    r += randChoice(seeds);\n  }\n\n  return r;\n} // ## Array\n// ## 数组\n// remove item from array. return removed count\n// 从数组删除项. 返回删除计数\n\nfunction arrayRemove(arr, v) {\n  var index;\n  var count = 0;\n\n  while ((index = arr.indexOf(v)) > -1) {\n    arr.splice(index, 1);\n    count++;\n  }\n\n  return count;\n} // remove items from array by sorted indexes. indexes example: [0, 2, 6, 8, 9]\n// 通过有序的索引集删除数组项. 索引集例子: [0, 2, 6, 8, 9]\n\nfunction arrayRemoveBySortedIndexes(arr, sortedIndexes) {\n  for (var i = sortedIndexes.length - 1; i >= 0; i--) {\n    var index = sortedIndexes[i];\n    arr.splice(index, 1);\n  }\n} // return new array excluding indexes\n// 返回新数组除了给定索引\n\nfunction newArrayExcludingIndexes(arr, indexes) {\n  var mapping = {};\n\n  var _iterator = _createForOfIteratorHelper(indexes),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var index = _step.value;\n      mapping[index] = true;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var newArr = [];\n  var len = arr.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!mapping[i]) {\n      newArr.push(arr[i]);\n    }\n  }\n\n  return newArr;\n} // get item from array by index. index can be negative number\n// 通过所以获取数组一项. 支持负值索引.\n\nfunction arrayAt(arr, n) {\n  return arr[n >= 0 ? n : arr.length + n];\n} // get first or array\n// 返回数组首项\n\nfunction arrayFirst(arr) {\n  return arr[0];\n} // get last of array\n// 返回数组末项\n\nfunction arrayLast(arr) {\n  return arr[arr.length - 1];\n} // return arr1 - arr2\n\nfunction arraySubtract(arr1, arr2) {\n  var len = arr1.length;\n  var arr = [];\n\n  while (len--) {\n    if (arr2.indexOf(arr1[len]) < 0) {\n      arr.push(arr1[len]);\n    }\n  }\n\n  return arr;\n} // get array item sibling. Example: getArrayItemSibling(arr, item, -1), get previous sibling\n// 获得数组项的一个同级. 例: getArrayItemSibling(arr, item, -1), 获得前一个\n\nfunction getArrayItemSibling(arr, item, offset) {\n  return getArrayItemSiblings(arr, item, [offset])[0];\n} // get array item siblings. Example: getArrayItemSiblings(arr, item, [-1, 1]), get previous and next sibling\n// 获得数组项的多个同级. 例: getArrayItemSiblings(arr, item, [-1, 1]), 获得前一个和后一个\n\nfunction getArrayItemSiblings(arr, item, offsets) {\n  var index = arr.indexOf(item);\n\n  if (index === -1) {\n    throw 'item is not in array';\n  }\n\n  return offsets.map(function (v) {\n    return arr[index + v];\n  });\n}\nfunction toArrayIfNot(arrOrNot) {\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot];\n}\nfunction splitArray(arr, n) {\n  var r = [];\n\n  if (isFunction(n)) {\n    var getChunkLength = n;\n    var times = 1;\n    var i = 0;\n\n    while (i < arr.length) {\n      var _n = getChunkLength(times);\n\n      var end = i + _n;\n      r.push(arr.slice(i, end));\n      i = end;\n      times++;\n    }\n  } else {\n    var _i = 0;\n\n    while (_i < arr.length) {\n      var _end = _i + n;\n\n      r.push(arr.slice(_i, _end));\n      _i = _end;\n    }\n  }\n\n  return r;\n} // Compute mark of each item, and group them by mark.\n// 计算每项的标识, 通过标识将数组项分组.\n\nfunction groupArray(arr, getMark) {\n  var groups = new Map();\n  arr.forEach(function (v) {\n    var mark = getMark(v);\n\n    if (!groups.has(mark)) {\n      groups.set(mark, []);\n    }\n\n    groups.get(mark).push(v);\n  });\n  return groups;\n} // Each item in the new array is unique.\n// 新数组每项唯一.\n\nfunction arrayDistinct(arr) {\n  // @ts-ignore\n  if (glb().Set) {\n    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(new Set(arr));\n  } else {\n    return arr.filter(function (v, i, a) {\n      return a.indexOf(v) === i;\n    });\n  }\n} // get items from array by range. range can be negative\n// 从数组获得一个范围内的项. 范围可以为负.\n\nfunction arrayGetRange(arr, index, endIndex) {\n  if (index < 0) {\n    index += arr.length;\n  }\n\n  if (endIndex == null) {\n    return arr[index];\n  } else {\n    if (endIndex < 0) {\n      endIndex += arr.length;\n    }\n\n    return arr.slice(index, endIndex - index + 1);\n  }\n} // return new array excluding n items from end\n// 返回新数组排除末尾n项\n\nfunction arrayWithoutEnd(arr, n) {\n  return arr.slice(0, arr.length - n);\n} // get one-dimensional array from multidimensional array\n// 从多维数组获取一维数组\n\nfunction arrayFlat(arr) {\n  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  var r = [];\n\n  var rec = function rec(arr, curentDepth) {\n    var _iterator2 = _createForOfIteratorHelper(arr),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var item = _step2.value;\n\n        if (isArray(item) && curentDepth < depth) {\n          rec(item, curentDepth + 1);\n        } else {\n          r.push(item);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  rec(arr, 0);\n  return r;\n} // ## Object\n// ## 对象\n\nfunction assignIfDifferent(obj, key, val) {\n  if (obj[key] !== val) {\n    obj[key] = val;\n  }\n} // like Array.map\n\nfunction objectMap(obj, handler) {\n  var r = {};\n  var i = 0;\n\n  for (var key in obj) {\n    r[key] = handler(obj[key], key, i);\n    i++;\n  }\n\n  return r;\n}\nfunction objectOnly(obj, keys) {\n  var keysSet = new Set(keys);\n  var r = {};\n\n  for (var key in obj) {\n    if (keysSet.has(key)) {\n      r[key] = obj[key];\n    }\n  }\n\n  return r;\n}\nfunction objectExcept(obj, keys) {\n  var keysSet = new Set(keys);\n  var r = {};\n\n  for (var key in obj) {\n    if (!keysSet.has(key)) {\n      r[key] = obj[key];\n    }\n  }\n\n  return r;\n}\nfunction iterateAll(val) {\n  var opt,\n      i,\n      info,\n      _i2,\n      _Object$keys,\n      key,\n      _info,\n      _i3,\n      _info2,\n      keys,\n      _i4,\n      _keys,\n      _key,\n      _info3,\n      _args = arguments;\n\n  return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function iterateAll$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          opt = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n          if (opt.reverse) {\n            _context.next = 30;\n            break;\n          }\n\n          if (!(val.length != null)) {\n            _context.next = 14;\n            break;\n          }\n\n          i = 0;\n\n        case 4:\n          if (!(i < val.length)) {\n            _context.next = 12;\n            break;\n          }\n\n          info = {\n            value: val[i],\n            index: i\n          };\n\n          if (!(!opt.exclude || !opt.exclude(info))) {\n            _context.next = 9;\n            break;\n          }\n\n          _context.next = 9;\n          return info;\n\n        case 9:\n          i++;\n          _context.next = 4;\n          break;\n\n        case 12:\n          _context.next = 28;\n          break;\n\n        case 14:\n          if (!isObject(val)) {\n            _context.next = 27;\n            break;\n          }\n\n          _i2 = 0, _Object$keys = Object.keys(val);\n\n        case 16:\n          if (!(_i2 < _Object$keys.length)) {\n            _context.next = 25;\n            break;\n          }\n\n          key = _Object$keys[_i2];\n          _info = {\n            value: val[key],\n            key: key\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info))) {\n            _context.next = 22;\n            break;\n          }\n\n          _context.next = 22;\n          return _info;\n\n        case 22:\n          _i2++;\n          _context.next = 16;\n          break;\n\n        case 25:\n          _context.next = 28;\n          break;\n\n        case 27:\n          throw 'Unsupported type';\n\n        case 28:\n          _context.next = 58;\n          break;\n\n        case 30:\n          if (!(val.length != null)) {\n            _context.next = 42;\n            break;\n          }\n\n          _i3 = val.length - 1;\n\n        case 32:\n          if (!(_i3 >= 0)) {\n            _context.next = 40;\n            break;\n          }\n\n          _info2 = {\n            value: val[_i3],\n            index: _i3\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info2))) {\n            _context.next = 37;\n            break;\n          }\n\n          _context.next = 37;\n          return _info2;\n\n        case 37:\n          _i3--;\n          _context.next = 32;\n          break;\n\n        case 40:\n          _context.next = 58;\n          break;\n\n        case 42:\n          if (!isObject(val)) {\n            _context.next = 57;\n            break;\n          }\n\n          keys = Object.keys(val);\n          keys.reverse();\n          _i4 = 0, _keys = keys;\n\n        case 46:\n          if (!(_i4 < _keys.length)) {\n            _context.next = 55;\n            break;\n          }\n\n          _key = _keys[_i4];\n          _info3 = {\n            value: val[_key],\n            key: _key\n          };\n\n          if (!(!opt.exclude || !opt.exclude(_info3))) {\n            _context.next = 52;\n            break;\n          }\n\n          _context.next = 52;\n          return _info3;\n\n        case 52:\n          _i4++;\n          _context.next = 46;\n          break;\n\n        case 55:\n          _context.next = 58;\n          break;\n\n        case 57:\n          throw 'Unsupported type';\n\n        case 58:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n} // example: objectGet(window, 'document.body.children.0') . source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n// 例: objectGet(window, 'document.body.children.0') . 参考: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\n\nfunction objectGet(obj, path, throwError) {\n  var paths = isArray(path) ? path : path.split('.');\n  var current = obj;\n\n  try {\n    var _iterator3 = _createForOfIteratorHelper(paths),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var key = _step3.value;\n        current = current[key];\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  } catch (e) {\n    if (throwError) {\n      throw \"Path does not exist\";\n    }\n  }\n\n  return current;\n} // refer [objectGet](#objectGet)\n\nfunction objectSet(obj, path, value) {\n  var paths = isArray(path) ? path : path.split('.');\n  var lastKey = arrayLast(paths);\n  var parent = objectGet(obj, paths.slice(0, paths.length - 1));\n\n  if (!parent) {\n    throw \"Path does not exist\";\n  }\n\n  parent[lastKey] = value;\n} // try delete obj[prop]\n\nfunction unset(obj, prop) {\n  obj[prop] = undefined;\n\n  try {\n    delete obj[prop];\n  } catch (e) {}\n}\nfunction objectAssignIfKeyNull(obj1, obj2) {\n  Object.keys(obj2).forEach(function (key) {\n    if (obj1[key] == null) {\n      obj1[key] = obj2[key];\n    }\n  });\n}\nfunction mapObjectTree(obj, handler) {\n  var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10000;\n  var r;\n  var count = 0;\n  var stack = [{\n    value: obj\n  }];\n\n  var _loop2 = function _loop2() {\n    if (count >= limit) {\n      throw \"mapObjectTree: limit(\".concat(limit, \") reached, object may has circular reference\");\n    }\n\n    count++; // @ts-ignore\n\n    var _stack$shift = stack.shift(),\n        value = _stack$shift.value,\n        key = _stack$shift.key,\n        parent = _stack$shift.parent,\n        newParent = _stack$shift.newParent;\n\n    var t = handler(value, key, parent, newParent);\n\n    var assign = function assign(value, key, canPush) {\n      if (isArray(value)) {\n        value = [];\n      } else if (isObject(value)) {\n        value = {};\n      }\n\n      if (parent) {\n        if (isArray(newParent) && canPush) {\n          newParent.push(value);\n        } else {\n          newParent[key] = value;\n        }\n      } else {\n        r = value;\n      } // value may changed\n\n\n      return value;\n    };\n\n    var newVal = void 0,\n        val = void 0,\n        toDelete = void 0,\n        stop = void 0,\n        skip = void 0;\n\n    if (!t) {\n      // no change\n      val = value; // @ts-ignore\n\n      newVal = assign(value, key);\n    } else {\n      var key2 = t.key,\n          _value = t.value;\n      val = _value; // @ts-ignore\n\n      if (t.delete || key2 === false) {\n        // del\n        toDelete = true;\n      } else if (key2 == null) {\n        // don't change key\n        newVal = assign(_value, key, true);\n      } else if (t.hasOwnProperty('value')) {\n        // @ts-ignore\n        newVal = assign(_value, key2);\n      }\n\n      stop = t.stop;\n      skip = t.skip;\n    }\n\n    if (toDelete) {\n      return \"continue\";\n    }\n\n    if (skip) {\n      return \"continue\";\n    }\n\n    if (stop) {\n      return \"break\";\n    }\n\n    if (isArray(val)) {\n      var len = val.length;\n\n      for (var i = 0; i < len; i++) {\n        // @ts-ignore\n        stack.push({\n          value: val[i],\n          key: i,\n          parent: val,\n          newParent: newVal\n        });\n      }\n    } else if (isObject(val)) {\n      Object.keys(val).forEach(function (key) {\n        // @ts-ignore\n        stack.push({\n          value: val[key],\n          key: key,\n          parent: val,\n          newParent: newVal\n        });\n      });\n    }\n  };\n\n  _loop: while (stack.length > 0) {\n    var _ret = _loop2();\n\n    switch (_ret) {\n      case \"continue\":\n        continue;\n\n      case \"break\":\n        break _loop;\n    }\n  }\n\n  return r;\n}\nfunction mapObjects(arr, idKey) {\n  var r = {};\n  var len = arr.length;\n\n  for (var i = 0; i < len; i++) {\n    var item = arr[i]; // @ts-ignore\n\n    var id = isFunction(idKey) ? idKey(item, i) : item[idKey];\n    r[id] = item;\n  }\n\n  return r;\n} // example: pairRows(users, userProfiles, 'id', 'user_id')\n\nfunction pairRows(rows1, rows2, key1) {\n  var key2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : key1;\n  var map = mapObjects(rows2, key2);\n  return rows1.map(function (row1) {\n    return [row1, map[row1[key1]]];\n  });\n}\nfunction depthFirstSearch(obj, handler) {\n  var childrenKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'children';\n  var opt = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var rootChildren = isArray(obj) ? obj : [obj]; //\n\n  var StopException = function StopException() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, StopException);\n  };\n\n  var func = function func(children, parent, parentPath) {\n    if (opt.reverse) {\n      children = children.slice();\n      children.reverse();\n    }\n\n    var len = children.length;\n\n    for (var i = 0; i < len; i++) {\n      var item = children[i];\n      var index = opt.reverse ? len - i - 1 : i;\n      var path = parentPath ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(parentPath), [index]) : [];\n      var r = handler(item, index, parent, path);\n\n      if (r === false) {\n        // stop\n        throw new StopException();\n      } else if (r === 'skip children') {\n        continue;\n      } else if (r === 'skip siblings') {\n        break;\n      }\n\n      if (item[childrenKey] != null) {\n        func(item[childrenKey], item, path);\n      }\n    }\n  };\n\n  try {\n    func(rootChildren, null, isArray(obj) ? [] : null);\n  } catch (e) {\n    if (e instanceof StopException) ; else {\n      throw e;\n    }\n  }\n} // refer [depthFirstSearch](#depthFirstSearch)\n\nvar walkTreeData = depthFirstSearch; // tree data helpers\n\nvar TreeData = /*#__PURE__*/function () {\n  // data = null;\n  function TreeData() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, TreeData);\n\n    this.childrenKey = 'children';\n    this.data = data;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(TreeData, [{\n    key: \"iteratePath\",\n    value: /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function iteratePath(path) {\n      var opt,\n          childrenKey,\n          rootChildren,\n          prevPath,\n          prevChildren,\n          _iterator4,\n          _step4,\n          index,\n          currentPath,\n          currentNode,\n          list,\n          _iterator5,\n          _step5,\n          _step5$value,\n          path0,\n          node,\n          _path,\n          _args2 = arguments;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function iteratePath$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              opt = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n              childrenKey = this.childrenKey, rootChildren = this.rootChildren;\n\n              if (opt.reverse) {\n                _context2.next = 29;\n                break;\n              }\n\n              prevPath = [];\n              prevChildren = rootChildren;\n              _iterator4 = _createForOfIteratorHelper(path);\n              _context2.prev = 6;\n\n              _iterator4.s();\n\n            case 8:\n              if ((_step4 = _iterator4.n()).done) {\n                _context2.next = 19;\n                break;\n              }\n\n              index = _step4.value;\n              currentPath = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(prevPath), [index]);\n              currentNode = prevChildren[index];\n              _context2.next = 14;\n              return {\n                path: currentPath,\n                node: currentNode\n              };\n\n            case 14:\n              prevPath = currentPath;\n              prevChildren = currentNode[childrenKey];\n\n            case 17:\n              _context2.next = 8;\n              break;\n\n            case 19:\n              _context2.next = 24;\n              break;\n\n            case 21:\n              _context2.prev = 21;\n              _context2.t0 = _context2[\"catch\"](6);\n\n              _iterator4.e(_context2.t0);\n\n            case 24:\n              _context2.prev = 24;\n\n              _iterator4.f();\n\n              return _context2.finish(24);\n\n            case 27:\n              _context2.next = 49;\n              break;\n\n            case 29:\n              list = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(this.iteratePath(path, Object.assign(Object.assign({}, opt), {\n                reverse: false\n              })));\n              list.reverse();\n              _iterator5 = _createForOfIteratorHelper(list);\n              _context2.prev = 32;\n\n              _iterator5.s();\n\n            case 34:\n              if ((_step5 = _iterator5.n()).done) {\n                _context2.next = 41;\n                break;\n              }\n\n              _step5$value = _step5.value, path0 = _step5$value.path, node = _step5$value.node;\n              _path = path0;\n              _context2.next = 39;\n              return {\n                path: _path,\n                node: node\n              };\n\n            case 39:\n              _context2.next = 34;\n              break;\n\n            case 41:\n              _context2.next = 46;\n              break;\n\n            case 43:\n              _context2.prev = 43;\n              _context2.t1 = _context2[\"catch\"](32);\n\n              _iterator5.e(_context2.t1);\n\n            case 46:\n              _context2.prev = 46;\n\n              _iterator5.f();\n\n              return _context2.finish(46);\n\n            case 49:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, iteratePath, this, [[6, 21, 24, 27], [32, 43, 46, 49]]);\n    })\n  }, {\n    key: \"getAllNodes\",\n    value: function getAllNodes(path) {\n      var all = [];\n\n      var _iterator6 = _createForOfIteratorHelper(this.iteratePath(path)),\n          _step6;\n\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var node = _step6.value.node;\n          all.push(node);\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n\n      return all;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode(path) {\n      return arrayLast(this.getAllNodes(path));\n    }\n  }, {\n    key: \"getNodeIndexAndParent\",\n    value: function getNodeIndexAndParent(path) {\n      var parentPath = path.slice();\n      var index = parentPath.pop();\n      return {\n        parent: this.getNode(parentPath),\n        index: index,\n        parentPath: parentPath\n      };\n    }\n  }, {\n    key: \"getNodeParent\",\n    value: function getNodeParent(path) {\n      return this.getNodeIndexAndParent(path).parent;\n    }\n  }, {\n    key: \"setPathNode\",\n    value: function setPathNode(path, node) {\n      if (path == null || path.length === 0) {\n        this.data = node;\n      } else {\n        var childrenKey = this.childrenKey,\n            rootChildren = this.rootChildren;\n\n        var _this$getNodeIndexAnd = this.getNodeIndexAndParent(path),\n            parent = _this$getNodeIndexAnd.parent,\n            index = _this$getNodeIndexAnd.index;\n\n        var parentChildren = path.length === 1 ? rootChildren : parent[childrenKey];\n        parentChildren[index] = node;\n      }\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(path) {\n      var childrenKey = this.childrenKey,\n          rootChildren = this.rootChildren;\n\n      var _this$getNodeIndexAnd2 = this.getNodeIndexAndParent(path),\n          parent = _this$getNodeIndexAnd2.parent,\n          index = _this$getNodeIndexAnd2.index;\n\n      var parentChildren = path.length === 1 ? rootChildren : parent[childrenKey];\n      var node = parentChildren[index];\n      parentChildren.splice(index, 1);\n      return node;\n    }\n  }, {\n    key: \"walk\",\n    value: function walk(handler, opt) {\n      var childrenKey = this.childrenKey,\n          data = this.data; // @ts-ignore\n\n      return walkTreeData(data, handler, childrenKey, opt);\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // opt.afterNodeCreated(newNode, {oldNode: node, index, parent, path})\n      var childrenKey = this.childrenKey;\n      var td = new TreeData();\n      this.walk(function (node, index, parent, path) {\n        var newNode = Object.assign({}, node);\n\n        if (newNode[childrenKey]) {\n          newNode[childrenKey] = [];\n        }\n\n        if (opt.afterNodeCreated) {\n          opt.afterNodeCreated(newNode, {\n            oldNode: node,\n            index: index,\n            parent: parent,\n            path: path\n          });\n        }\n\n        td.setPathNode(path, newNode);\n      });\n      return td.data;\n    }\n  }, {\n    key: \"rootChildren\",\n    get: function get() {\n      var childrenKey = this.childrenKey;\n      var data = this.data;\n      return isArray(data) ? data : data[childrenKey];\n    }\n  }]);\n\n  return TreeData;\n}(); // ## function\n// ## 函数\n// if it is function, return result, else return it directly.\n\nfunction resolveValueOrGettter(valueOrGetter) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (isFunction(valueOrGetter)) {\n    return valueOrGetter.apply(void 0, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(args));\n  } else {\n    return valueOrGetter;\n  }\n}\nfunction executeWithCount(func) {\n  var count = 0;\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    // @ts-ignore\n    return func.call.apply(func, [this, count++].concat(args));\n  }\n\n  return wrapper;\n}\nfunction watchChange(getVal, handler) {\n  var oldVal;\n\n  var update = function update() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    // @ts-ignore\n    var newVal = getVal.apply(void 0, args);\n\n    if (oldVal !== newVal) {\n      // @ts-ignore\n      handler.apply(void 0, [newVal].concat(args));\n    }\n\n    oldVal = newVal;\n  };\n\n  return update;\n}\nfunction debounceTrailing(action) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var t;\n  var delaying;\n  var lastArgs; // when trailing, use last args\n\n  var resolves = [];\n  var rejects = [];\n\n  var wrappedAction = function wrappedAction() {\n    var _this = this;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return new Promise(function (resolve, reject) {\n      resolves.push(resolve);\n      rejects.push(reject); //\n\n      lastArgs = args;\n\n      if (!delaying) {\n        delaying = true;\n        t = setTimeout(function () {\n          // @ts-ignore\n          var result = action.call.apply(action, [_this].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(lastArgs)));\n          t = null;\n          delaying = false;\n          resolves.forEach(function (resolve) {\n            return resolve(result);\n          });\n          resolves = [];\n          rejects = [];\n        }, wait);\n      }\n    });\n  };\n\n  var stop = function stop() {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n\n    delaying = false;\n    resolves = [];\n    rejects.forEach(function (reject) {\n      return reject();\n    });\n    rejects = [];\n  }; // @ts-ignore\n\n\n  return {\n    action: wrappedAction,\n    stop: stop\n  };\n}\nfunction debounceImmediate(action) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var t;\n  var delaying;\n  var result;\n\n  var wrappedAction = function wrappedAction() {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (delaying) {\n        resolve(result);\n      } else {\n        delaying = true; // @ts-ignore\n\n        result = action.call.apply(action, [_this2].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(lastArgs)));\n        resolve(result);\n        t = setTimeout(function () {\n          t = null;\n          delaying = false;\n          result = null;\n        }, wait);\n      }\n    });\n  };\n\n  var stop = function stop() {\n    if (t) {\n      clearTimeout(t);\n      t = null;\n    }\n\n    delaying = false;\n  }; // @ts-ignore\n\n\n  return {\n    action: wrappedAction,\n    stop: stop\n  };\n} // the returned function only accept one argument\n\nfunction joinFunctionsByResult(funcs) {\n  var wrappedFunc = funcs[0];\n\n  for (var i = 1; i < funcs.length; i++) {\n    wrappedFunc = join2func(wrappedFunc, funcs[i]);\n  }\n\n  return wrappedFunc;\n\n  function join2func(func1, func2) {\n    return function (arg) {\n      var result1 = func1(arg);\n      return func2(result1);\n    };\n  }\n} // must pass arguments to `next` manually\n\nfunction joinFunctionsByNext(funcs) {\n  var next = function next() {};\n\n  var _iterator7 = _createForOfIteratorHelper(iterateAll(funcs, {\n    reverse: true\n  })),\n      _step7;\n\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var func = _step7.value.value;\n      var currentNext = next;\n      next = wrapFuncWithNext(func, currentNext);\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n\n  return next;\n\n  function wrapFuncWithNext(func, next) {\n    return function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key5 = 0; _key5 < _len4; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      return func.apply(void 0, [next].concat(args));\n    };\n  }\n} // ## promise\n// execute promise in sequence\n\nfunction executePromiseGetters(getters) {\n  var concurrent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var stopped;\n  var promise = new Promise(function (resolve, reject) {\n    return __awaiter(this, void 0, void 0, /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee() {\n      var chunks, promises, _iterator8, _step8, chunk, chunkPromises;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              chunks = splitArray(getters, concurrent);\n              promises = [];\n              _iterator8 = _createForOfIteratorHelper(chunks);\n              _context3.prev = 3;\n\n              _iterator8.s();\n\n            case 5:\n              if ((_step8 = _iterator8.n()).done) {\n                _context3.next = 15;\n                break;\n              }\n\n              chunk = _step8.value;\n              chunkPromises = chunk.map(function (v) {\n                return v();\n              });\n              promises.push.apply(promises, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(chunkPromises));\n              _context3.next = 11;\n              return Promise.all(chunkPromises);\n\n            case 11:\n              if (!stopped) {\n                _context3.next = 13;\n                break;\n              }\n\n              return _context3.abrupt(\"break\", 15);\n\n            case 13:\n              _context3.next = 5;\n              break;\n\n            case 15:\n              _context3.next = 20;\n              break;\n\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](3);\n\n              _iterator8.e(_context3.t0);\n\n            case 20:\n              _context3.prev = 20;\n\n              _iterator8.f();\n\n              return _context3.finish(20);\n\n            case 23:\n              Promise.all(promises).then(function () {\n                resolve.apply(void 0, arguments);\n              });\n\n            case 24:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee, null, [[3, 17, 20, 23]]);\n    }));\n  });\n  return {\n    promise: promise,\n    stop: function stop() {\n      stopped = true;\n    }\n  };\n}\nfunction promiseTimeout(promise, timeout) {\n  return new Promise(function (resolve, reject) {\n    var t, rejected;\n    promise.then(function () {\n      clearTimeout(t);\n      resolve.apply(void 0, arguments);\n    }, function () {\n      if (!rejected) {\n        clearTimeout(t);\n        reject.apply(void 0, arguments);\n      }\n    });\n    t = setTimeout(function () {\n      rejected = true;\n      var e = new Error('Promise timeout!');\n      e.name = 'timeout';\n      reject(e);\n    }, timeout);\n  });\n} // ## url\n\nfunction getUrlParam(par) {\n  // 获取当前URL\n  var local_url = document.location.href; // 获取要取得的get参数位置\n\n  var get = local_url.indexOf(par + '=');\n\n  if (get == -1) {\n    return false;\n  } // 截取字符串\n\n\n  var get_par = local_url.slice(par.length + get + 1); // 判断截取后的字符串是否还有其他get参数\n\n  var nextPar = get_par.indexOf('&');\n\n  if (nextPar != -1) {\n    get_par = get_par.slice(0, nextPar);\n  }\n\n  return get_par;\n} // ## dom\n// return NodeList if there are multiple top-level nodes\n\nfunction createElementFromHTML(htmlString) {\n  var div = document.createElement('div');\n  div.innerHTML = htmlString.trim();\n\n  if (div.childNodes.length > 1) {\n    return div.childNodes;\n  } else {\n    return div.childNodes[0];\n  }\n}\nfunction uniqueId() {\n  var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'id_';\n  var id = prefix + randString();\n  if (!store.uniqueId) store.uniqueId = {};\n  var generatedIds = store.uniqueId;\n\n  if (document.getElementById(id) || generatedIds[id]) {\n    return uniqueId(prefix);\n  } else {\n    generatedIds[id] = true;\n    return id;\n  }\n}\nfunction isDescendantOf(el, parent) {\n  while (true) {\n    if (el.parentElement == null) {\n      return false;\n    } else if (el.parentElement === parent) {\n      return true;\n    } else {\n      el = el.parentElement;\n    }\n  }\n}\nfunction removeEl(el) {\n  if (el.parentNode !== null) {\n    return el.parentNode.removeChild(el);\n  }\n} // refer: https://stackoverflow.com/questions/871399/cross-browser-method-for-detecting-the-scrolltop-of-the-browser-window\n\nfunction getScroll() {\n  if (typeof pageYOffset != 'undefined') {\n    //most browsers except IE before #9\n    return {\n      top: pageYOffset,\n      left: pageXOffset\n    };\n  } else {\n    var B = document.body; //IE 'quirks'\n\n    var D = document.documentElement; //IE with doctype\n\n    D = D.clientHeight ? D : B;\n    return {\n      top: D.scrollTop,\n      left: D.scrollLeft\n    };\n  }\n} // refer: https://gist.github.com/aderaaij/89547e34617b95ac29d1\n\nfunction getOffset(el) {\n  var rect = getBoundingClientRect(el);\n  var scroll = getScroll();\n  return {\n    x: rect.left + scroll.left,\n    y: rect.top + scroll.top\n  };\n} // there is some trap in el.offsetParent, so use this func to fix\n\nfunction getOffsetParent(el) {\n  var offsetParent = el.offsetParent;\n\n  if (!offsetParent || offsetParent === document.body && getComputedStyle(document.body).position === 'static') {\n    offsetParent = document.body.parentElement;\n  }\n\n  return offsetParent;\n} // get el current position. like jQuery.position. The position is relative to offsetParent viewport left top. it is for set absolute position, absolute position is relative to offsetParent viewport left top.\n// 相对于offsetParent可视区域左上角(el.offsetLeft或top包含父元素的滚动距离, 所以要减去). position一般用于设置绝对定位的情况, 而绝对定位就是以可视区域左上角为原点.\n\nfunction getPosition(el) {\n  var offsetParent = getOffsetParent(el);\n  var ps = {\n    x: el.offsetLeft,\n    y: el.offsetTop\n  };\n  var parent = el;\n\n  while (true) {\n    parent = parent.parentElement;\n\n    if (parent === offsetParent || !parent) {\n      break;\n    }\n\n    ps.x -= parent.scrollLeft;\n    ps.y -= parent.scrollTop;\n  }\n\n  return ps;\n} // like jQuery.offset(x, y), but it just return cmputed position, don't update style\n// 类似 jQuery.offset的设置功能, 但是它只返回计算的position, 不改变元素样式.\n\nfunction getPositionFromOffset(el, of) {\n  var offsetParent = getOffsetParent(el);\n  var parentOf = getOffset(offsetParent);\n  return {\n    x: of.x - parentOf.x,\n    y: of.y - parentOf.y\n  };\n}\nfunction getBoundingClientRect(el) {\n  // refer: http://www.51xuediannao.com/javascript/getBoundingClientRect.html\n  var xy = el.getBoundingClientRect();\n  var top = xy.top - document.documentElement.clientTop,\n      //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\n  bottom = xy.bottom,\n      left = xy.left - document.documentElement.clientLeft,\n      //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\n  right = xy.right,\n      width = xy.width || right - left,\n      //IE67不存在width 使用right - left获得\n  height = xy.height || bottom - top;\n  var x = left;\n  var y = top;\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n} // refer [getBoundingClientRect](#getBoundingClientRect)\n\nvar getViewportPosition = getBoundingClientRect; // TODO not tested\n\nfunction viewportPositionToOffset(position) {\n  var body = document.body;\n  var bodyOf = getOffset(body);\n  var bodyVP = getViewportPosition(body);\n  return {\n    x: position.x + bodyOf.x - bodyVP.x,\n    y: position.y + bodyOf.y - bodyVP.y\n  };\n} // TODO not tested\n\nfunction offsetToViewportPosition(offset) {\n  var body = document.body;\n  var bodyOf = getOffset(body);\n  var bodyVP = getViewportPosition(body);\n  return {\n    x: offset.x + bodyVP.x - bodyOf.x,\n    y: offset.y + bodyVP.y - bodyOf.y\n  };\n}\nfunction findParent(el, callback) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var cur = opt && opt.withSelf ? el : el.parentElement;\n\n  while (cur) {\n    var r = callback(cur);\n\n    if (r === 'break') {\n      return;\n    } else if (r) {\n      return cur;\n    } else {\n      cur = cur.parentElement;\n    }\n  }\n}\nfunction backupAttr(el, name) {\n  var key = \"original_\".concat(name);\n  el[key] = el.getAttribute(name);\n}\nfunction restoreAttr(el, name) {\n  var key = \"original_\".concat(name);\n  var value = el[key];\n\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    el.setAttribute(name, value);\n  }\n} // source: http://youmightnotneedjquery.com/\n\nfunction hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\n  }\n} // source: http://youmightnotneedjquery.com/\n\nfunction addClass(el, className) {\n  if (!hasClass(el, className)) {\n    if (el.classList) {\n      el.classList.add(className);\n    } else {\n      el.className += ' ' + className;\n    }\n  }\n} // source: http://youmightnotneedjquery.com/\n\nfunction removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  }\n}\nfunction getElSizeEvenInvisible(el) {\n  backupAttr(el, 'style');\n  el.style.display = 'block';\n  var t = getBoundingClientRect(el);\n  var size = {\n    width: t.width,\n    height: t.height\n  };\n  restoreAttr(el, 'style');\n  return size;\n}\n/**\r\n * [isOffsetInEl]\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Object} el HTML Element\r\n */\n\nfunction isOffsetInEl(x, y, el) {\n  var offset = getOffset(el);\n  return offset.x <= x && offset.x + el.offsetWidth >= x && offset.y <= y && offset.y + el.offsetHeight >= y;\n} // get border\n\nfunction getBorder(el) {\n  var body = document.body;\n  var workArea = findParent(el, function (v) {\n    return hasClass(v, 'work-area');\n  });\n  var of = getOffset(workArea);\n  return {\n    left: of.x,\n    right: of.x + workArea.offsetWidth,\n    top: of.y + 50,\n    bottom: body.offsetHeight < glb().innerHeight ? glb().innerHeight : body.offsetHeight\n  };\n}\nfunction setElChildByIndex(el, child, index) {\n  // @ts-ignore\n  child.childComponentIndex = index;\n  var len = el.childNodes.length;\n\n  if (len === 0) {\n    el.appendChild(child);\n  } else if (index === 0) {\n    el.insertBefore(child, el.childNodes[0]);\n  } else {\n    var _binarySearch = binarySearch(el.childNodes, function (el) {\n      return el.childComponentIndex - index;\n    }, {\n      start: 0,\n      end: notGreaterThan(index, len - 1),\n      returnNearestIfNoHit: true\n    }),\n        nearestIndex = _binarySearch.index,\n        nearest = _binarySearch.value,\n        greater = _binarySearch.greater;\n\n    if (greater) {\n      el.insertBefore(child, nearest);\n    } else {\n      var next = el.childNodes[nearestIndex + 1];\n\n      if (next) {\n        el.insertBefore(child, next);\n      } else {\n        el.appendChild(child);\n      }\n    }\n  }\n}\nfunction onDOM(el, name, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key6 = 3; _key6 < _len5; _key6++) {\n    args[_key6 - 3] = arguments[_key6];\n  }\n\n  if (el.addEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.addEventListener.apply(el, [name, handler].concat(args)); // @ts-ignore\n  } else if (el.attachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.attachEvent.apply(el, [\"on\".concat(name), handler].concat(args));\n  }\n}\nfunction offDOM(el, name, handler) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key7 = 3; _key7 < _len6; _key7++) {\n    args[_key7 - 3] = arguments[_key7];\n  }\n\n  if (el.removeEventListener) {\n    // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.removeEventListener.apply(el, [name, handler].concat(args)); // @ts-ignore\n  } else if (el.detachEvent) {\n    // IE 8 及更早 IE 版本\n    // @ts-ignore\n    el.detachEvent.apply(el, [\"on\".concat(name), handler].concat(args));\n  }\n}\nfunction onDOMMany(els, names, handler) {\n  for (var _len7 = arguments.length, args = new Array(_len7 > 3 ? _len7 - 3 : 0), _key8 = 3; _key8 < _len7; _key8++) {\n    args[_key8 - 3] = arguments[_key8];\n  }\n\n  var _iterator9 = _createForOfIteratorHelper(els),\n      _step9;\n\n  try {\n    for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n      var el = _step9.value;\n\n      var _iterator12 = _createForOfIteratorHelper(names),\n          _step12;\n\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var name = _step12.value;\n          onDOM.apply(void 0, [el, name, handler].concat(args));\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n    }\n  } catch (err) {\n    _iterator9.e(err);\n  } finally {\n    _iterator9.f();\n  }\n\n  var destroy = function destroy() {\n    var _iterator10 = _createForOfIteratorHelper(els),\n        _step10;\n\n    try {\n      for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n        var el = _step10.value;\n\n        var _iterator11 = _createForOfIteratorHelper(names),\n            _step11;\n\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var name = _step11.value;\n            offDOM(el, name, handler);\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n      }\n    } catch (err) {\n      _iterator10.e(err);\n    } finally {\n      _iterator10.f();\n    }\n  };\n\n  return destroy;\n}\nfunction getImageSizeByUrl(url) {\n  var image = document.createElement('img');\n  return new Promise(function (resolve, reject) {\n    onDOM(image, 'load', function () {\n      resolve({\n        width: image.width,\n        height: image.height\n      });\n    });\n    onDOM(image, 'error', function (e) {\n      reject(e);\n    });\n    image.src = url;\n  });\n}\nfunction findNodeList(list, callback) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var iterator = iterateAll(list, {\n    reverse: opt.reverse\n  });\n\n  var _iterator13 = _createForOfIteratorHelper(iterator),\n      _step13;\n\n  try {\n    for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n      var _step13$value = _step13.value,\n          value = _step13$value.value,\n          index = _step13$value.index;\n\n      if (callback(value, index)) {\n        return value;\n      }\n    }\n  } catch (err) {\n    _iterator13.e(err);\n  } finally {\n    _iterator13.f();\n  }\n}\nfunction findNodeListReverse(list, callback) {\n  return findNodeList(list, callback, {\n    reverse: true\n  });\n}\nfunction elementsFromPoint(x, y) {\n  var args = [x, y]; // @ts-ignore\n\n  var func = document.elementsFromPoint || document.msElementsFromPoint || elementsFromPoint;\n  return func.apply(document, args);\n\n  function elementsFromPoint(x, y) {\n    var parents = [];\n    var parent = void 0;\n\n    do {\n      if (parent !== document.elementFromPoint(x, y)) {\n        parent = document.elementFromPoint(x, y);\n        parents.push(parent);\n        parent.style.pointerEvents = 'none';\n      } else {\n        parent = false;\n      }\n    } while (parent);\n\n    parents.forEach(function (parent) {\n      return parent.style.pointerEvents = 'all';\n    });\n    return parents;\n  }\n}\nfunction getOuterAttachedHeight(el) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = Object.assign({\n    margin: true,\n    border: true\n  }, opt);\n  var stl = getComputedStyle(el);\n  var r = 0;\n  var arr = [];\n\n  if (opt.margin) {\n    arr.push('margin-top', 'margin-bottom');\n  }\n\n  if (opt.border) {\n    arr.push('border-top-width', 'border-bottom-width');\n  }\n\n  arr.forEach(function (key) {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\nfunction getOuterAttachedWidth(el) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = Object.assign({\n    margin: true,\n    border: true\n  }, opt);\n  var stl = getComputedStyle(el);\n  var r = 0;\n  var arr = [];\n\n  if (opt.margin) {\n    arr.push('margin-left', 'margin-right');\n  }\n\n  if (opt.border) {\n    arr.push('border-left-width', 'border-right-width');\n  }\n\n  arr.forEach(function (key) {\n    r += parseFloat(stl[key]);\n  });\n  return r;\n}\n/* scroll to a positon with duration\r\nfrom https://gist.github.com/andjosh/6764939\r\ninterface options{\r\n  x: number // nullable. don't scroll horizontally when null\r\n  y: number // nullable. don't scroll vertically when null\r\n  duration: number // default 0\r\n  element: Element // default is the top scrollable element.\r\n  beforeEveryFrame: (count: number) => boolean|void // call before requestAnimationFrame execution. return false to stop\r\n}\r\nreturn stop\r\n*/\n\nfunction scrollTo(options) {\n  if (!options.element) {\n    options.element = document.scrollingElement || document.documentElement;\n  }\n\n  if (options.duration == null) {\n    options.duration = 0;\n  }\n\n  var x = options.x,\n      y = options.y,\n      duration = options.duration,\n      element = options.element;\n  var requestAnimationFrameId;\n  var count = 0;\n\n  var startY = element.scrollTop,\n      changeY = y - startY,\n      startX = element.scrollLeft,\n      changeX = x - startX,\n      startDate = +new Date(),\n      animateScroll = function animateScroll() {\n    if (options.beforeEveryFrame && options.beforeEveryFrame(count) === false) {\n      return;\n    }\n\n    var currentDate = new Date().getTime();\n    var changedTime = currentDate - startDate;\n\n    if (y != null) {\n      element.scrollTop = parseInt(calc(startY, changeY, changedTime, duration));\n    }\n\n    if (x != null) {\n      element.scrollLeft = parseInt(calc(startX, changeX, changedTime, duration));\n    }\n\n    if (changedTime < duration) {\n      requestAnimationFrameId = requestAnimationFrame(animateScroll);\n    } else {\n      if (y != null) {\n        element.scrollTop = y;\n      }\n\n      if (x != null) {\n        element.scrollLeft = x;\n      }\n    }\n\n    count++;\n  };\n\n  var stop = function stop() {\n    cancelAnimationFrame(requestAnimationFrameId);\n  };\n\n  animateScroll(); // return stop\n\n  return stop;\n\n  function calc(startValue, changeInValue, changedTime, duration) {\n    return startValue + changeInValue * (changedTime / duration);\n  }\n} // ### DOM structure\n\nfunction insertBefore(el, target) {\n  target.parentElement.insertBefore(el, target);\n}\nfunction insertAfter(el, target) {\n  target.parentElement.insertBefore(el, target.nextSibling);\n}\nfunction prependTo(el, target) {\n  target.insertBefore(el, target.firstChild);\n}\nfunction appendTo(el, target) {\n  target.appendChild(el);\n} // ## Date\n\nfunction cloneDate(dateObj) {\n  return new Date(dateObj.getTime());\n} // day and date is same\n\nfunction addDate(dateObj, n, type) {\n  if (!['year', 'month', 'day', 'date'].includes(type)) {\n    type += 's';\n  }\n\n  var type2 = studlyCase(type);\n\n  if (type2 === 'Day') {\n    type2 = 'Date';\n  }\n\n  var setFuncName = 'set' + type2;\n  var getFuncName = 'get' + type2;\n  dateObj[setFuncName](dateObj[getFuncName]() + n);\n  return dateObj;\n}\nfunction getMonthStart(dateObj) {\n  var clonedObj = cloneDate(dateObj);\n  clonedObj.setDate(1);\n  return clonedObj;\n}\nfunction getMonthEnd(dateObj) {\n  var r = cloneDate(dateObj);\n  addDate(r, 1, 'month');\n  r.setDate(0);\n  return r;\n}\nfunction getCalendar(year, month) {\n  var startWeekDay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var results = [];\n  var date = new Date(year, month - 1);\n  year = date.getFullYear();\n  month = date.getMonth() + 1;\n  var monthStart = getMonthStart(date);\n  var monthStartDay = monthStart.getDay();\n  var calendarStart = addDate(cloneDate(monthStart), -(monthStartDay + startWeekDay), 'day');\n\n  if (monthStartDay > startWeekDay) {\n    var startDate = calendarStart.getDate();\n\n    var _year = calendarStart.getFullYear();\n\n    var _month = calendarStart.getMonth() + 1;\n\n    for (var i = startWeekDay; i < monthStartDay; i++) {\n      var _date = startDate + i;\n\n      results.push({\n        year: _year,\n        month: _month,\n        date: _date,\n        text: _date,\n        prevMonth: true\n      });\n    }\n  } //\n\n\n  var monthEnd = getMonthEnd(date);\n  var monthEndtDate = monthEnd.getDate();\n\n  for (var _i5 = 1; _i5 <= monthEndtDate; _i5++) {\n    var _date2 = _i5;\n    results.push({\n      year: year,\n      month: month,\n      date: _date2,\n      text: _date2,\n      currentMonth: true\n    });\n  } //\n\n\n  var monthEndDay = monthEnd.getDay();\n  var endWeekDay = 6 - startWeekDay;\n\n  if (monthEndDay < endWeekDay) {\n    var nextMonth = addDate(cloneDate(date), 1, 'month');\n\n    var _year2 = nextMonth.getFullYear();\n\n    var _month2 = nextMonth.getMonth() + 1;\n\n    for (var _i6 = monthEndDay + 1, _date3 = 1; _i6 <= endWeekDay; _i6++, _date3++) {\n      results.push({\n        year: _year2,\n        month: _month2,\n        date: _date3,\n        text: _date3,\n        nextMonth: true\n      });\n    }\n  } //\n\n\n  return splitArray(results, 7);\n} // eg: 2018-09-07T03:38:37.888Z\n// timezone must be UTC\n\nfunction isIsoFormat(str) {\n  return Boolean(str.length > 15 && str.length < 30 && str.match(/^\\d{4}-\\d{2}-\\d{2}T.*Z$/));\n} // timestamp eg: 2018-09-07T03:38:37.888Z\n\nfunction parseISO(timestamp) {\n  var _timestamp$split = timestamp.split('T'),\n      _timestamp$split2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_timestamp$split, 2),\n      datePart = _timestamp$split2[0],\n      timePart = _timestamp$split2[1];\n\n  var y,\n      m,\n      d,\n      h = 0,\n      min = 0,\n      s = 0;\n\n  var _datePart$split$map = datePart.split('-').map(function (v) {\n    return parseInt(v);\n  });\n\n  var _datePart$split$map2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_5___default()(_datePart$split$map, 3);\n\n  y = _datePart$split$map2[0];\n  m = _datePart$split$map2[1];\n  d = _datePart$split$map2[2];\n  m = m - 1;\n\n  if (timePart) {\n    var t = timePart.split('-').map(function (v) {\n      return parseFloat(v);\n    });\n    h = t[0];\n\n    if (t[1] != null) {\n      min = t[1];\n    }\n\n    if (t[2] != null) {\n      s = t[2];\n    }\n  }\n\n  var dt = new Date(y, m, d, h, min, s); // the dt timezone is current, so reset hour with setUTCHours\n\n  dt.setUTCHours(h);\n  return dt;\n}\nfunction binarySearch(arr, callback) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opt = Object.assign({\n    start: 0,\n    end: arr.length - 1,\n    maxTimes: 1000\n  }, opt);\n  var _opt = opt,\n      start = _opt.start,\n      end = _opt.end;\n  var _opt2 = opt,\n      returnNearestIfNoHit = _opt2.returnNearestIfNoHit,\n      maxTimes = _opt2.maxTimes;\n  var midNum;\n  var mid;\n\n  if (start == null) {\n    start = 0;\n    end = arr.length - 1;\n  }\n\n  var i = 0;\n  var r;\n\n  while (start >= 0 && start <= end) {\n    if (i >= maxTimes) {\n      throw Error(\"binarySearch: loop times is over \".concat(maxTimes, \", you can increase the limit.\"));\n    }\n\n    midNum = Math.floor((end - start) / 2 + start);\n    mid = arr[midNum];\n    r = callback(mid, i);\n\n    if (r > 0) {\n      end = midNum - 1;\n    } else if (r < 0) {\n      start = midNum + 1;\n    } else {\n      return {\n        index: midNum,\n        value: mid,\n        count: i + 1,\n        hit: true\n      };\n    }\n\n    i++;\n  }\n\n  return returnNearestIfNoHit ? {\n    index: midNum,\n    value: mid,\n    count: i + 1,\n    hit: false,\n    greater: r > 0\n  } : null;\n} //\n\nfunction windowLoaded() {\n  return new Promise(function (resolve, reject) {\n    if (document && document.readyState === 'complete') {\n      resolve();\n    } else {\n      glb().addEventListener('load', function once() {\n        resolve();\n        glb().removeEventListener('load', once);\n      });\n    }\n  });\n}\nfunction waitTime(milliseconds, callback) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      callback && callback();\n      resolve();\n    }, milliseconds);\n  });\n}\nfunction waitFor(condition) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var maxTimes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n  var interval;\n  var promise = new Promise(function (resolve, reject) {\n    var count = 0;\n\n    function judge() {\n      if (count <= maxTimes) {\n        if (condition()) {\n          stop();\n          resolve();\n        }\n      } else {\n        stop();\n        reject(new Error('waitFor: Limit is reached'));\n      }\n\n      count++;\n    }\n\n    interval = setInterval(function () {\n      judge();\n    }, time);\n    judge();\n  });\n  return {\n    promise: promise,\n    stop: stop\n  };\n\n  function stop() {\n    clearInterval(interval);\n  }\n}\nfunction retry(action) {\n  var limitTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n    var index;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            index = 1;\n\n          case 1:\n            if (!(index <= limitTimes)) {\n              _context4.next = 15;\n              break;\n            }\n\n            _context4.prev = 2;\n            _context4.next = 5;\n            return action();\n\n          case 5:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](2);\n\n            if (!(index === limitTimes)) {\n              _context4.next = 12;\n              break;\n            }\n\n            throw _context4.t0;\n\n          case 12:\n            index++;\n            _context4.next = 1;\n            break;\n\n          case 15:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee2, null, [[2, 8]]);\n  }));\n} // clipboard-polyfill is more powerful\n// 复制文字到剪贴板. 仅限于简单使用. 复杂环境推荐clipboard-polyfill\n\nfunction copyTextToClipboard(text) {\n  try {\n    // use latest api\n    navigator.clipboard.writeText(text);\n    return;\n  } catch (e) {}\n\n  var textArea = document.createElement('textarea'); //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n  // Place in top-left corner of screen regardless of scroll position.\n\n  textArea.style.position = 'fixed';\n  textArea.style.top = '0';\n  textArea.style.left = '0'; // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n\n  textArea.style.width = '2em';\n  textArea.style.height = '2em'; // We don't need padding, reducing the size if it does flash render.\n\n  textArea.style.padding = '0'; // Clean up any borders.\n\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none'; // Avoid flash of white box if rendered for any reason.\n\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    var msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Copying text command was ' + msg);\n  } catch (err) {\n    console.log('Oops, unable to copy');\n  }\n\n  document.body.removeChild(textArea);\n}\nfunction isWindowDefined() {\n  try {\n    return window && true;\n  } catch (error) {\n    return false;\n  }\n}\nfunction isNode() {\n  // @ts-ignore\n  return Boolean(typeof glb().module !== 'undefined' && glb().module.exports);\n}\nfunction isIE() {\n  // @ts-ignore\n  return Boolean(window.ActiveXObject || \"ActiveXObject\" in window);\n}\n/*\r\nhttps://developer.mozilla.org/docs/Web/API/Window/open\r\nhttp://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\r\n*/\n\nfunction openWindow(url, name) {\n  var opt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  glb().open(url, name, Object.keys(opt).map(function (k) {\n    return \"\".concat(k, \"=\").concat(opt[k]);\n  }).join(','));\n}\nfunction openCenterWindow(url, name, width, height) {\n  var opt = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var t = {\n    width: width,\n    height: height,\n    top: (glb().screen.availHeight - 30 - height) / 2,\n    left: (glb().screen.availWidth - 30 - width) / 2\n  };\n  Object.assign(t, opt);\n  openWindow(url, name, t);\n}\nvar URLHelper = /*#__PURE__*/function () {\n  function URLHelper(baseUrl) {\n    var _this3 = this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, URLHelper);\n\n    this.baseUrl = ''; // protocol, hostname, port, pastname\n\n    this.search = {};\n    var t = decodeURI(baseUrl).split('?');\n    this.baseUrl = t[0];\n\n    if (t[1]) {\n      t[1].split('&').forEach(function (v) {\n        var t2 = v.split('=');\n        _this3.search[t2[0]] = t2[1] == null ? '' : decodeURIComponent(t2[1]);\n      });\n    }\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(URLHelper, [{\n    key: \"getHref\",\n    value: function getHref() {\n      var _this4 = this;\n\n      var t = [this.baseUrl];\n      var searchStr = Object.keys(this.search).map(function (k) {\n        return \"\".concat(k, \"=\").concat(encodeURIComponent(_this4.search[k]));\n      }).join('&');\n\n      if (searchStr) {\n        t.push(searchStr);\n      }\n\n      return t.join('?');\n    }\n  }]);\n\n  return URLHelper;\n}();\n/* resolve arguments to help overload. 解析函数参数, 帮助重载\r\n```js\r\ntypes eg: ['Object', (i) => i > 3, ['Number', default], null ]\r\nnull represent all types of argument\r\nresolveArgsByType([1,'str'], ['Number', 'Boolean' ,'String']) -> [1, null, 'str']\r\nresolveArgsByType([1,'str'], ['Number', ['Boolean', true] ,'String']) -> [1, true, 'str']\r\n```\r\n*/\n\nfunction resolveArgsByType(args, types) {\n  var argIndex = 0;\n  return types.map(function (v) {\n    // make rule\n    var rule, dft;\n\n    if (isArray(v)) {\n      rule = v[0];\n      dft = v[1];\n    } else {\n      rule = v;\n      dft = undefined;\n    }\n\n    if (!isFunction(rule)) {\n      if (rule == null) {\n        rule = function rule() {\n          return true;\n        };\n      } else {\n        var t = rule;\n\n        rule = function rule(x) {\n          return Object.prototype.toString.call(x) === \"[object \".concat(t, \"]\");\n        };\n      }\n    }\n\n    var arg = args[argIndex];\n\n    if (rule(arg)) {\n      argIndex++;\n      return arg;\n    } else {\n      return dft;\n    }\n  });\n}\nfunction makeStorageHelper(storage) {\n  return {\n    storage: storage,\n    set: function set(name, value, minutes) {\n      // set null can remove a item\n      if (value == null) {\n        this.storage.removeItem(name);\n      } else {\n        this.storage.setItem(name, JSON.stringify({\n          value: value,\n          expired_at: minutes ? new Date().getTime() + minutes * 60 * 1000 : null\n        }));\n      }\n    },\n    get: function get(name) {\n      var t = this.storage.getItem(name);\n\n      if (t) {\n        t = JSON.parse(t);\n\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\n          return t.value;\n        } else {\n          this.storage.removeItem(name);\n        }\n      }\n\n      return null;\n    },\n    clear: function clear() {\n      this.storage.clear();\n    }\n  };\n}\nfunction getLocalStorage2() {\n  if (!store.localStorage2) {\n    store.localStorage2 = makeStorageHelper(localStorage);\n  }\n\n  return store.localStorage2;\n}\nfunction getSessionStorage2() {\n  if (!store.sessionStorage2) {\n    store.sessionStorage2 = makeStorageHelper(glb().sessionStorage);\n  }\n\n  return store.sessionStorage2;\n} // 事件处理\n\nvar EventProcessor = /*#__PURE__*/function () {\n  function EventProcessor() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, EventProcessor);\n\n    this.eventStore = [];\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(EventProcessor, [{\n    key: \"on\",\n    value: function on(name, handler) {\n      this.eventStore.push({\n        name: name,\n        handler: handler\n      });\n    }\n  }, {\n    key: \"once\",\n    value: function once(name, handler) {\n      var _this5 = this;\n\n      var off = function off() {\n        _this5.off(name, wrappedHandler);\n      };\n\n      var wrappedHandler = function wrappedHandler() {\n        handler.apply(void 0, arguments);\n        off();\n      };\n\n      this.on(name, wrappedHandler);\n      return off;\n    }\n  }, {\n    key: \"onceTimeout\",\n    value: function onceTimeout(name, handler, timeout) {\n      var _this6 = this;\n\n      var off;\n      var promise = new Promise(function (resolve, reject) {\n        var wrappedHandler = function wrappedHandler() {\n          handler.apply(void 0, arguments);\n          resolve();\n        };\n\n        off = _this6.once(name, wrappedHandler);\n        waitTime(timeout).then(function () {\n          off();\n          reject();\n        });\n      });\n\n      var off2 = function off2() {\n        off && off();\n      };\n\n      return {\n        off: off2,\n        promise: promise\n      };\n    }\n  }, {\n    key: \"off\",\n    value: function off(name, handler) {\n      var indexes = []; // to remove indexes; reverse; 倒序的\n\n      var len = this.eventStore.length;\n\n      for (var i = 0; i < len; i++) {\n        var item = this.eventStore[i];\n\n        if (item.name === name && item.handler === handler) {\n          indexes.unshift(i);\n        }\n      }\n\n      for (var _i7 = 0, _indexes = indexes; _i7 < _indexes.length; _i7++) {\n        var index = _indexes[_i7];\n        this.eventStore.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\n      var items = [];\n\n      var _iterator14 = _createForOfIteratorHelper(this.eventStore),\n          _step14;\n\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var _item = _step14.value;\n\n          if (_item.name === name) {\n            items.push(_item);\n          }\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n\n      for (var _len8 = arguments.length, args = new Array(_len8 > 1 ? _len8 - 1 : 0), _key9 = 1; _key9 < _len8; _key9++) {\n        args[_key9 - 1] = arguments[_key9];\n      }\n\n      for (var _i8 = 0, _items = items; _i8 < _items.length; _i8++) {\n        var item = _items[_i8];\n        item.handler.apply(item, args);\n      }\n    }\n  }]);\n\n  return EventProcessor;\n}();\nvar CrossWindowEventProcessor = /*#__PURE__*/function (_EventProcessor) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(CrossWindowEventProcessor, _EventProcessor);\n\n  var _super = _createSuper(CrossWindowEventProcessor);\n\n  // id\n  function CrossWindowEventProcessor(opt) {\n    var _this7;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, CrossWindowEventProcessor);\n\n    _this7 = _super.call(this);\n    _this7.storageName = '_crossWindow';\n    _this7.windows = [];\n    _this7.timeout = 200;\n    _this7.BROADCAST = '__BROADCAST__';\n\n    if (opt) {\n      Object.assign(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default()(_this7), opt);\n    }\n\n    onDOM(window, 'storage', function (ev) {\n      if (ev.key === _this7.storageName) {\n        var event = JSON.parse(ev.newValue);\n\n        if (!event.targets || event.targets.includes(_this7.id)) {\n          var _this8;\n\n          (_this8 = _this7).emitLocal.apply(_this8, [event.name].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_9___default()(event.args)));\n        }\n      }\n    }); // social parts 集体部分\n    // join\n\n    _this7.id = randString();\n    _this7.windows = [_this7.id];\n    _this7.ready = new Promise(function (resolve, reject) {\n      _this7.onceTimeout('_windows_updated', function (_ref) {\n        var windows = _ref.windows;\n        _this7.windows = windows;\n      }, _this7.timeout).promise.then(function () {\n        resolve(); // responsed 被响应\n      }, function () {\n        // no response 无响应\n        resolve();\n      });\n\n      _this7.broadcast('_join', _this7.id);\n    });\n\n    _this7.ready.then(function () {\n      // on join\n      _this7.on('_join', function (id) {\n        _this7.windows.push(id);\n\n        if (_this7.isMain()) {\n          _this7.broadcast('_windows_updated', {\n            windows: _this7.windows,\n            type: 'join',\n            id: id\n          });\n        }\n      }); // on _windows_updated\n\n\n      _this7.on('_windows_updated', function (_ref2) {\n        var windows = _ref2.windows;\n        _this7.windows = windows;\n      }); // on exit\n\n\n      _this7.on('_exit', function (id) {\n        var oldMain = _this7.windows[0];\n        arrayRemove(_this7.windows, id);\n\n        if (_this7.isMain()) {\n          _this7.emit('_windows_updated', {\n            windows: _this7.windows,\n            type: 'exit',\n            id: id\n          });\n\n          if (oldMain != _this7.id) {\n            _this7.emit('_main_updated', {\n              windows: _this7.windows,\n              old: oldMain,\n              'new': _this7.id\n            });\n          }\n        }\n      });\n\n      onDOM(window, 'beforeunload', function () {\n        _this7.exitGroup();\n      });\n    });\n\n    return _this7;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(CrossWindowEventProcessor, [{\n    key: \"isMain\",\n    value: function isMain() {\n      return this.id === this.windows[0];\n    }\n  }, {\n    key: \"emitTo\",\n    value: function emitTo(name, targets) {\n      for (var _len9 = arguments.length, args = new Array(_len9 > 2 ? _len9 - 2 : 0), _key10 = 2; _key10 < _len9; _key10++) {\n        args[_key10 - 2] = arguments[_key10];\n      }\n\n      if (targets === this.BROADCAST) {\n        targets = null;\n      } else {\n        if (targets && !isArray(targets)) {\n          targets = [targets];\n        }\n\n        if (targets.includes(this.id)) {\n          var _get2;\n\n          (_get2 = _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(CrossWindowEventProcessor.prototype), \"emit\", this)).call.apply(_get2, [this, name].concat(args)); // emit to current window\n\n        }\n      }\n\n      glb().localStorage.setItem(this.storageName, JSON.stringify({\n        name: name,\n        targets: targets,\n        args: args,\n        // use random make storage event triggered every time\n        // 加入随机保证触发storage事件\n        random: Math.random()\n      }));\n    }\n  }, {\n    key: \"emitLocal\",\n    value: function emitLocal(name) {\n      for (var _len10 = arguments.length, args = new Array(_len10 > 1 ? _len10 - 1 : 0), _key11 = 1; _key11 < _len10; _key11++) {\n        args[_key11 - 1] = arguments[_key11];\n      }\n\n      this.emitTo.apply(this, [name, this.id].concat(args));\n    }\n  }, {\n    key: \"broadcast\",\n    value: function broadcast(name) {\n      for (var _len11 = arguments.length, args = new Array(_len11 > 1 ? _len11 - 1 : 0), _key12 = 1; _key12 < _len11; _key12++) {\n        args[_key12 - 1] = arguments[_key12];\n      }\n\n      this.emitTo.apply(this, [name, this.BROADCAST].concat(args));\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(name) {\n      for (var _len12 = arguments.length, args = new Array(_len12 > 1 ? _len12 - 1 : 0), _key13 = 1; _key13 < _len12; _key13++) {\n        args[_key13 - 1] = arguments[_key13];\n      }\n\n      this.emitTo.apply(this, [name, this.windows].concat(args));\n    }\n  }, {\n    key: \"exitGroup\",\n    value: function exitGroup() {\n      this.broadcast('_exit', this.id);\n    }\n  }]);\n\n  return CrossWindowEventProcessor;\n}(EventProcessor); // Deprecated in next version\n\nvar CrossWindow = CrossWindowEventProcessor; // on continuous input. return destroy\n// 监听连续输入事件. 返回取消监听函数.\n\nfunction onContinuousInput(handler) {\n  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opt = Object.assign({\n    timeout: 1000\n  }, opt);\n  var input = '';\n  var timeoutId;\n\n  var keydownHandler = function keydownHandler(e) {\n    if (e.key && e.key.length === 1) {\n      input = \"\".concat(input).concat(e.key);\n      handler(input);\n\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n\n      timeoutId = setTimeout(function () {\n        input = '';\n      }, opt.timeout);\n    }\n  };\n\n  onDOM(document, 'keydown', keydownHandler);\n  return function () {\n    offDOM(document, 'keydown', keydownHandler);\n  };\n} // refer [onContinuousInput](#onContinuousInput)\n\nvar onQuickKeydown = onContinuousInput;\nfunction getUserLanguage() {\n  // @ts-ignore\n  return navigator.language || navigator.userLanguage;\n}\nvar Cache = /*#__PURE__*/function () {\n  function Cache() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_7___default()(this, Cache);\n\n    this.store = {};\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_6___default()(Cache, [{\n    key: \"has\",\n    value: function has(name) {\n      return this.store.hasOwnProperty(name);\n    }\n  }, {\n    key: \"remember\",\n    value: function remember(name, getter) {\n      if (!this.has(name)) {\n        this.store[name] = {\n          value: getter()\n        };\n      }\n\n      return this.store[name].value;\n    }\n  }, {\n    key: \"forget\",\n    value: function forget(name) {\n      if (name) {\n        if (this.has(name)) {\n          delete this.store[name];\n        }\n      } else {\n        this.store = {};\n      }\n    }\n  }]);\n\n  return Cache;\n}(); // attach cached getters to an object; can attach to self\n\nfunction attachCache(obj, toCache) {\n  var cache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Cache();\n\n  var _loop3 = function _loop3(key) {\n    var getter = toCache[key];\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        var _this9 = this;\n\n        return cache.remember(key, function () {\n          return getter.call(_this9);\n        });\n      }\n    });\n  };\n\n  for (var key in toCache) {\n    _loop3(key);\n  }\n} // for animation\n\nfunction easeInOutQuad(startValue, changeInValue, changedTime, duration) {\n  var t = changedTime,\n      d = duration,\n      b = startValue,\n      c = changeInValue;\n  t /= d / 2;\n  if (t < 1) return c / 2 * t * t + b;\n  t--;\n  return -c / 2 * (t * (t - 2) - 1) + b;\n}\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvaGVscGVyLWpzL2Rpc3QvaGVscGVyLWpzLmVzbS5qcz83ZWYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2tGO0FBQ3BDO0FBQ1U7QUFDa0M7QUFDdEI7QUFDRjtBQUNKO0FBQ007QUFDUDtBQUNhO0FBQ25DOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsZ0NBQWdDLHFCQUFxQixhQUFhLDRFQUFlLGtCQUFrQixtQ0FBbUMsaUJBQWlCLDRFQUFlLG1CQUFtQix5REFBeUQsRUFBRSxPQUFPLHVDQUF1QyxFQUFFLFFBQVEsdUZBQTBCLGVBQWUsR0FBRzs7QUFFeFYsc0NBQXNDLHdFQUF3RSwwQ0FBMEMsOENBQThDLE1BQU0sd0VBQXdFLEdBQUcsYUFBYSxFQUFFLFlBQVksY0FBYyxFQUFFOztBQUVsVSwyQkFBMkIsaUVBQW1COztBQUU5Qyx3Q0FBd0MsbUVBQW1FLGdFQUFnRSxXQUFXLHlCQUF5QixTQUFTLHdCQUF3Qiw0QkFBNEIsY0FBYyxTQUFTLDhCQUE4QixFQUFFLHFCQUFxQixVQUFVLEVBQUUsU0FBUyxFQUFFLDhKQUE4SixFQUFFLHNEQUFzRCxTQUFTLGtCQUFrQiwyQkFBMkIsRUFBRSxtQkFBbUIsc0JBQXNCLDhCQUE4QixhQUFhLEVBQUUsc0JBQXNCLGVBQWUsV0FBVyxFQUFFLG1CQUFtQixNQUFNLHlEQUF5RCxFQUFFLFVBQVUsdUJBQXVCLEVBQUUsRUFBRSxHQUFHOztBQUVqNEIsaURBQWlELGdCQUFnQixnRUFBZ0Usd0RBQXdELDZEQUE2RCxzREFBc0Qsa0hBQWtIOztBQUU5WixzQ0FBc0MsdURBQXVELHVDQUF1QyxTQUFTLE9BQU8sa0JBQWtCLEVBQUUsYUFBYTtBQUNyTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QiwrQkFBK0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVywrRUFBa0I7QUFDN0IsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsaUNBQWlDO0FBQzNEOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxpRUFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQSx5Q0FBeUM7O0FBRXpDOztBQUVBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSCxzREFBc0Q7O0FBRXREOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEI7O0FBRTFCLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCOztBQUVsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLDhCQUE4QixtQkFBbUI7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTs7QUFFQSxtQkFB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QUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDLEdBQUcsdUNBQXVDOztBQUUzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUwNEQiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvaGVscGVyLWpzL2Rpc3QvaGVscGVyLWpzLmVzbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogaGVscGVyLWpzIHYyLjAuMVxuICogKGMpIHBocGhlIDxwaHBoZUBvdXRsb29rLmNvbT4gKGh0dHBzOi8vZ2l0aHViLmNvbS9waHBoZSlcbiAqIEhvbWVwYWdlOiB1bmRlZmluZWRcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9nZXQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXQnO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mJztcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXknO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICdAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvcic7XG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknO1xuaW1wb3J0ICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5cbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgfVxuXG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbnZhciBfbWFya2VkID0gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhpdGVyYXRlQWxsKTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobykgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAobyA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkpIHsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgaXQsIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG4pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG4vLyDkuLrmraTlupPmnInpnIDopoHnmoTmlrnms5XlrZjlgqjkv6Hmga9cbi8vIEB0cy1pZ25vcmVcblxudmFyIHN0b3JlID0ge1xuICB1bmlxdWVJZDoge31cbn07IC8vIGdldCBnbG9iYWwsIHN1Y2ggYXMgd2luZG93IGluIGJyb3dzZXIuXG4vLyDov5Tlm57pobbnuqflhajlsYDlj5jph48uIOS+i+Wmgua1j+iniOWZqOeahGB3aW5kb3dgXG5cbmZ1bmN0aW9uIGdsYigpIHtcbiAgLy8gYHRoaXNgICE9PSBnbG9iYWwgb3Igd2luZG93IGJlY2F1c2Ugb2YgYnVpbGQgdG9vbC4gU28geW91IGNhbid0IHVzZSBgdGhpc2AgdG8gZ2V0IGBnbG9iYWxgXG4gIGlmIChzdG9yZS5nbGIpIHtcbiAgICByZXR1cm4gc3RvcmUuZ2xiO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc29sdmUgZ2xvYmFsXG4gICAgdmFyIHQ7XG5cbiAgICB0cnkge1xuICAgICAgdCA9IGdsb2JhbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0ID0gd2luZG93O1xuICAgIH1cblxuICAgIHN0b3JlLmdsYiA9IHQ7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbn0gLy8gZGV0ZWN0IGlmIGdsb2JhbCB2YXJpYWJsZSBgZG9jdW1lbnRgIGV4aXN0aW5nLlxuLy8g5Yik5pat5YWo5bGA5Y+Y6YePYGRvY3VtZW50YOaYr+WQpuWtmOWcqFxuXG5mdW5jdGlvbiBpc0RvY3VtZW50RXhpc3RlZCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdCA9IGRvY3VtZW50O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpc0FycmF5KHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cbmZ1bmN0aW9uIGlzQm9vbCh2KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5mdW5jdGlvbiBpc051bWVyaWModikge1xuICByZXR1cm4gaXNGaW5pdGUodikgJiYgIWlzTmFOKHBhcnNlRmxvYXQodikpO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcodikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNQcm9taXNlKHYpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nO1xufSAvLyBkZXRlY3QgaWYgYXJndW1ybnQgaXMgbnVsbCwgdW5kZWZpbmVkLCBlbXB0eSBhcnJheSwgZW1wdHkgc3RyaW5nLCBmYWxzZSwgTmFOLCBlbXB0eSBvYmplY3Rcbi8vIOajgOafpeaYr+WQpuaYr251bGwsIHVuZGVmaW5lZCwg56m65pWw57uELCDnqbrlrZfnrKbkuLIsIGZhbHNlLCBOYU4sIOepuuWvueixoVxuXG5mdW5jdGlvbiBlbXB0eSh2KSB7XG4gIGlmICh2ID09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICh2Lmxlbmd0aCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHYubGVuZ3RoID09PSAwO1xuICB9IGVsc2UgaWYgKGlzQm9vbCh2KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChpc051bWJlcih2KSkge1xuICAgIHJldHVybiBpc05hTih2KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2KS5sZW5ndGggPT09IDA7XG4gIH1cbn0gLy8gcmFuZCBpbnQgaW4gcmFuZ2UsIGluY2x1ZGluZyBtaW4gYW5kIG1heFxuLy8g6L+U5Zue5oyH5a6a6IyD5Zu06ZqP5py65pW05pWwLCDljIXmi6zojIPlm7Totbflp4vlgLzlkoznu4jmraLlgLxcblxuZnVuY3Rpb24gcmFuZEludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcbn0gLy8gcmFuZCBpdGVtIGluIGFycmF5XG4vLyDov5Tlm57mlbDnu4Tpmo/mnLrkuIDpoblcblxuZnVuY3Rpb24gcmFuZENob2ljZShhcnIpIHtcbiAgcmV0dXJuIGFycltyYW5kSW50KDAsIGFyci5sZW5ndGggLSAxKV07XG59IC8vIFBhZCBhIHN0cmluZyB0byBhIGNlcnRhaW4gbGVuZ3RoIHdpdGggYW5vdGhlciBzdHJpbmdcbi8vIOW3pui+ueihpeWFheaMh+WumuWtl+espiwg5L2/5YW26L6+5Yiw5oyH5a6a6ZW/5bqmXG5cbmZ1bmN0aW9uIHN0clBhZChzdHIsIG4pIHtcbiAgdmFyIHBhZFN0cmluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJzAnO1xuICB2YXIgciA9IHN0ci50b1N0cmluZygpO1xuICB2YXIgbGVuID0gc3RyLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG4gIHdoaWxlIChsZW4gPCBuKSB7XG4gICAgciA9IHBhZFN0cmluZyArIHI7XG4gICAgbGVuKys7XG4gIH1cblxuICBpZiAoci5sZW5ndGggPiBuKSB7XG4gICAgciA9IHIuc3Vic3RyKHIubGVuZ3RoIC0gbik7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufSAvLyBJZiBuIGxlc3MgdGhhbiBgbWluYCwgcmV0dXJuIGBtaW5gLCBlbHNlIG4uXG4vLyDlpoLmnpxu5bCP5LqObWluLCDov5Tlm55taW4sIOWQpuWImW4uXG5cbmZ1bmN0aW9uIG5vdExlc3NUaGFuKG4sIG1pbikge1xuICByZXR1cm4gbiA8IG1pbiA/IG1pbiA6IG47XG59IC8vIElmIG4gZ3JlYXRlciB0aGFuIGBtYXhgLCByZXR1cm4gYG1heGAsIGVsc2Ugbi5cbi8vIOWmguaenG7lpKfkuo5tYXgsIOi/lOWbnm1heCwg5ZCm5YiZbi5cblxuZnVuY3Rpb24gbm90R3JlYXRlclRoYW4obiwgbWF4KSB7XG4gIHJldHVybiBuIDwgbWF4ID8gbiA6IG1heDtcbn0gLy8gIyMgc3RyaW5nXG4vLyAjIyDlrZfnrKbkuLJcbi8vICdhYmMgYWJjJyB0byAnQWJjIGFiYydcblxuZnVuY3Rpb24gc3R1ZGx5Q2FzZShzdHIpIHtcbiAgcmV0dXJuIHN0ciAmJiBzdHJbMF0udG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHIoMSk7XG59IC8vIFRvIGxvd2VyIGNhc2UgYW5kIHVzZSBgLWAgYXMgZGVsaW1pdGVyLiBleGFtcGxlOiAnLUFCQyBhYmNfZGVmIGNhbWVsQ2FzZS0tIGhlbGxvTXlGcmllbmQnIHRvICdhLWItYy1hYmMtZGVmLWNhbWVsLWNhc2UtaGVsbG8tbXktZnJpZW5kJ1xuXG5mdW5jdGlvbiBrZWJhYkNhc2Uoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvIC9nLCAnLScpLnJlcGxhY2UoL18vZywgJy0nKS5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS5yZXBsYWNlKC8tLSsvZywgJy0nKS5yZXBsYWNlKC9eLXwtJHwvZywgJycpLnRvTG93ZXJDYXNlKCk7XG59IC8vIFRvIGxvd2VyIGNhc2UgYW5kIHVzZSBgX2AgYXMgZGVsaW1pdGVyLlxuXG5mdW5jdGlvbiBzbmFrZUNhc2Uoc3RyKSB7XG4gIHJldHVybiBrZWJhYkNhc2Uoc3RyKS5yZXBsYWNlKC8tL2csICdfJyk7XG59IC8vICdhYmMtYWJjLWFiY19hYmMnIHRvICdBYmNBYmNBYmNBYmMnXG5cbmZ1bmN0aW9uIGNhbWVsQ2FzZShzdHIpIHtcbiAgdmFyIHRlbXAgPSBzdHIudG9TdHJpbmcoKS5zcGxpdCgvWy1fXS8pO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgdGVtcC5sZW5ndGg7IGkrKykge1xuICAgIHRlbXBbaV0gPSBzdHVkbHlDYXNlKHRlbXBbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHRlbXAuam9pbignJyk7XG59IC8vICdBYmNBYmNBYmNBYmMnIHRvIFsnQWJjJywgJ0FiYycsICdBYmMnLCAnQWJjJ11cblxuZnVuY3Rpb24gY2FtZWxUb1dvcmRzKHN0cikge1xuICByZXR1cm4gc3RyLnRvU3RyaW5nKCkudHJpbSgpLnNwbGl0KC8oPz1bQS1aXSkvKTtcbn0gLy8gJ2FiY0FiYycgdG8gJ0FiYyBBYmMnXG5cbmZ1bmN0aW9uIHRpdGxlQ2FzZShzdHIpIHtcbiAgcmV0dXJuIGNhbWVsVG9Xb3JkcyhzdHVkbHlDYXNlKGNhbWVsQ2FzZShzdHIpKSkuam9pbignICcpLnJlcGxhY2UoL1xcYmlkXFxiL2lnLCAnSUQnKTtcbn0gLy8gZ2VuZXJhdGUgcmFuZG9tIHN0cmluZ1xuLy8g6ZqP5py65a2X56ym5LiyXG5cbmZ1bmN0aW9uIHJhbmRTdHJpbmcoKSB7XG4gIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDg7XG4gIHZhciBzZWVkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgdmFyIHIgPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgciArPSByYW5kQ2hvaWNlKHNlZWRzKTtcbiAgfVxuXG4gIHJldHVybiByO1xufSAvLyAjIyBBcnJheVxuLy8gIyMg5pWw57uEXG4vLyByZW1vdmUgaXRlbSBmcm9tIGFycmF5LiByZXR1cm4gcmVtb3ZlZCBjb3VudFxuLy8g5LuO5pWw57uE5Yig6Zmk6aG5LiDov5Tlm57liKDpmaTorqHmlbBcblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyLCB2KSB7XG4gIHZhciBpbmRleDtcbiAgdmFyIGNvdW50ID0gMDtcblxuICB3aGlsZSAoKGluZGV4ID0gYXJyLmluZGV4T2YodikpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBjb3VudCsrO1xuICB9XG5cbiAgcmV0dXJuIGNvdW50O1xufSAvLyByZW1vdmUgaXRlbXMgZnJvbSBhcnJheSBieSBzb3J0ZWQgaW5kZXhlcy4gaW5kZXhlcyBleGFtcGxlOiBbMCwgMiwgNiwgOCwgOV1cbi8vIOmAmui/h+acieW6j+eahOe0ouW8lembhuWIoOmZpOaVsOe7hOmhuS4g57Si5byV6ZuG5L6L5a2QOiBbMCwgMiwgNiwgOCwgOV1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmVCeVNvcnRlZEluZGV4ZXMoYXJyLCBzb3J0ZWRJbmRleGVzKSB7XG4gIGZvciAodmFyIGkgPSBzb3J0ZWRJbmRleGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGluZGV4ID0gc29ydGVkSW5kZXhlc1tpXTtcbiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxufSAvLyByZXR1cm4gbmV3IGFycmF5IGV4Y2x1ZGluZyBpbmRleGVzXG4vLyDov5Tlm57mlrDmlbDnu4TpmaTkuobnu5nlrprntKLlvJVcblxuZnVuY3Rpb24gbmV3QXJyYXlFeGNsdWRpbmdJbmRleGVzKGFyciwgaW5kZXhlcykge1xuICB2YXIgbWFwcGluZyA9IHt9O1xuXG4gIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpbmRleGVzKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBpbmRleCA9IF9zdGVwLnZhbHVlO1xuICAgICAgbWFwcGluZ1tpbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IuZigpO1xuICB9XG5cbiAgdmFyIG5ld0FyciA9IFtdO1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKCFtYXBwaW5nW2ldKSB7XG4gICAgICBuZXdBcnIucHVzaChhcnJbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdBcnI7XG59IC8vIGdldCBpdGVtIGZyb20gYXJyYXkgYnkgaW5kZXguIGluZGV4IGNhbiBiZSBuZWdhdGl2ZSBudW1iZXJcbi8vIOmAmui/h+aJgOS7peiOt+WPluaVsOe7hOS4gOmhuS4g5pSv5oyB6LSf5YC857Si5byVLlxuXG5mdW5jdGlvbiBhcnJheUF0KGFyciwgbikge1xuICByZXR1cm4gYXJyW24gPj0gMCA/IG4gOiBhcnIubGVuZ3RoICsgbl07XG59IC8vIGdldCBmaXJzdCBvciBhcnJheVxuLy8g6L+U5Zue5pWw57uE6aaW6aG5XG5cbmZ1bmN0aW9uIGFycmF5Rmlyc3QoYXJyKSB7XG4gIHJldHVybiBhcnJbMF07XG59IC8vIGdldCBsYXN0IG9mIGFycmF5XG4vLyDov5Tlm57mlbDnu4TmnKvpoblcblxuZnVuY3Rpb24gYXJyYXlMYXN0KGFycikge1xuICByZXR1cm4gYXJyW2Fyci5sZW5ndGggLSAxXTtcbn0gLy8gcmV0dXJuIGFycjEgLSBhcnIyXG5cbmZ1bmN0aW9uIGFycmF5U3VidHJhY3QoYXJyMSwgYXJyMikge1xuICB2YXIgbGVuID0gYXJyMS5sZW5ndGg7XG4gIHZhciBhcnIgPSBbXTtcblxuICB3aGlsZSAobGVuLS0pIHtcbiAgICBpZiAoYXJyMi5pbmRleE9mKGFycjFbbGVuXSkgPCAwKSB7XG4gICAgICBhcnIucHVzaChhcnIxW2xlbl0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnI7XG59IC8vIGdldCBhcnJheSBpdGVtIHNpYmxpbmcuIEV4YW1wbGU6IGdldEFycmF5SXRlbVNpYmxpbmcoYXJyLCBpdGVtLCAtMSksIGdldCBwcmV2aW91cyBzaWJsaW5nXG4vLyDojrflvpfmlbDnu4TpobnnmoTkuIDkuKrlkIznuqcuIOS+izogZ2V0QXJyYXlJdGVtU2libGluZyhhcnIsIGl0ZW0sIC0xKSwg6I635b6X5YmN5LiA5LiqXG5cbmZ1bmN0aW9uIGdldEFycmF5SXRlbVNpYmxpbmcoYXJyLCBpdGVtLCBvZmZzZXQpIHtcbiAgcmV0dXJuIGdldEFycmF5SXRlbVNpYmxpbmdzKGFyciwgaXRlbSwgW29mZnNldF0pWzBdO1xufSAvLyBnZXQgYXJyYXkgaXRlbSBzaWJsaW5ncy4gRXhhbXBsZTogZ2V0QXJyYXlJdGVtU2libGluZ3MoYXJyLCBpdGVtLCBbLTEsIDFdKSwgZ2V0IHByZXZpb3VzIGFuZCBuZXh0IHNpYmxpbmdcbi8vIOiOt+W+l+aVsOe7hOmhueeahOWkmuS4quWQjOe6py4g5L6LOiBnZXRBcnJheUl0ZW1TaWJsaW5ncyhhcnIsIGl0ZW0sIFstMSwgMV0pLCDojrflvpfliY3kuIDkuKrlkozlkI7kuIDkuKpcblxuZnVuY3Rpb24gZ2V0QXJyYXlJdGVtU2libGluZ3MoYXJyLCBpdGVtLCBvZmZzZXRzKSB7XG4gIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuXG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyAnaXRlbSBpcyBub3QgaW4gYXJyYXknO1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldHMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIGFycltpbmRleCArIHZdO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXlJZk5vdChhcnJPck5vdCkge1xuICByZXR1cm4gaXNBcnJheShhcnJPck5vdCkgPyBhcnJPck5vdCA6IFthcnJPck5vdF07XG59XG5mdW5jdGlvbiBzcGxpdEFycmF5KGFyciwgbikge1xuICB2YXIgciA9IFtdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKG4pKSB7XG4gICAgdmFyIGdldENodW5rTGVuZ3RoID0gbjtcbiAgICB2YXIgdGltZXMgPSAxO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgYXJyLmxlbmd0aCkge1xuICAgICAgdmFyIF9uID0gZ2V0Q2h1bmtMZW5ndGgodGltZXMpO1xuXG4gICAgICB2YXIgZW5kID0gaSArIF9uO1xuICAgICAgci5wdXNoKGFyci5zbGljZShpLCBlbmQpKTtcbiAgICAgIGkgPSBlbmQ7XG4gICAgICB0aW1lcysrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgX2kgPSAwO1xuXG4gICAgd2hpbGUgKF9pIDwgYXJyLmxlbmd0aCkge1xuICAgICAgdmFyIF9lbmQgPSBfaSArIG47XG5cbiAgICAgIHIucHVzaChhcnIuc2xpY2UoX2ksIF9lbmQpKTtcbiAgICAgIF9pID0gX2VuZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcjtcbn0gLy8gQ29tcHV0ZSBtYXJrIG9mIGVhY2ggaXRlbSwgYW5kIGdyb3VwIHRoZW0gYnkgbWFyay5cbi8vIOiuoeeul+avj+mhueeahOagh+ivhiwg6YCa6L+H5qCH6K+G5bCG5pWw57uE6aG55YiG57uELlxuXG5mdW5jdGlvbiBncm91cEFycmF5KGFyciwgZ2V0TWFyaykge1xuICB2YXIgZ3JvdXBzID0gbmV3IE1hcCgpO1xuICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgIHZhciBtYXJrID0gZ2V0TWFyayh2KTtcblxuICAgIGlmICghZ3JvdXBzLmhhcyhtYXJrKSkge1xuICAgICAgZ3JvdXBzLnNldChtYXJrLCBbXSk7XG4gICAgfVxuXG4gICAgZ3JvdXBzLmdldChtYXJrKS5wdXNoKHYpO1xuICB9KTtcbiAgcmV0dXJuIGdyb3Vwcztcbn0gLy8gRWFjaCBpdGVtIGluIHRoZSBuZXcgYXJyYXkgaXMgdW5pcXVlLlxuLy8g5paw5pWw57uE5q+P6aG55ZSv5LiALlxuXG5mdW5jdGlvbiBhcnJheURpc3RpbmN0KGFycikge1xuICAvLyBAdHMtaWdub3JlXG4gIGlmIChnbGIoKS5TZXQpIHtcbiAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KG5ldyBTZXQoYXJyKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFyci5maWx0ZXIoZnVuY3Rpb24gKHYsIGksIGEpIHtcbiAgICAgIHJldHVybiBhLmluZGV4T2YodikgPT09IGk7XG4gICAgfSk7XG4gIH1cbn0gLy8gZ2V0IGl0ZW1zIGZyb20gYXJyYXkgYnkgcmFuZ2UuIHJhbmdlIGNhbiBiZSBuZWdhdGl2ZVxuLy8g5LuO5pWw57uE6I635b6X5LiA5Liq6IyD5Zu05YaF55qE6aG5LiDojIPlm7Tlj6/ku6XkuLrotJ8uXG5cbmZ1bmN0aW9uIGFycmF5R2V0UmFuZ2UoYXJyLCBpbmRleCwgZW5kSW5kZXgpIHtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGluZGV4ICs9IGFyci5sZW5ndGg7XG4gIH1cblxuICBpZiAoZW5kSW5kZXggPT0gbnVsbCkge1xuICAgIHJldHVybiBhcnJbaW5kZXhdO1xuICB9IGVsc2Uge1xuICAgIGlmIChlbmRJbmRleCA8IDApIHtcbiAgICAgIGVuZEluZGV4ICs9IGFyci5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyci5zbGljZShpbmRleCwgZW5kSW5kZXggLSBpbmRleCArIDEpO1xuICB9XG59IC8vIHJldHVybiBuZXcgYXJyYXkgZXhjbHVkaW5nIG4gaXRlbXMgZnJvbSBlbmRcbi8vIOi/lOWbnuaWsOaVsOe7hOaOkumZpOacq+Wwvm7poblcblxuZnVuY3Rpb24gYXJyYXlXaXRob3V0RW5kKGFyciwgbikge1xuICByZXR1cm4gYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSBuKTtcbn0gLy8gZ2V0IG9uZS1kaW1lbnNpb25hbCBhcnJheSBmcm9tIG11bHRpZGltZW5zaW9uYWwgYXJyYXlcbi8vIOS7juWkmue7tOaVsOe7hOiOt+WPluS4gOe7tOaVsOe7hFxuXG5mdW5jdGlvbiBhcnJheUZsYXQoYXJyKSB7XG4gIHZhciBkZXB0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG4gIHZhciByID0gW107XG5cbiAgdmFyIHJlYyA9IGZ1bmN0aW9uIHJlYyhhcnIsIGN1cmVudERlcHRoKSB7XG4gICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhcnIpLFxuICAgICAgICBfc3RlcDI7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkoaXRlbSkgJiYgY3VyZW50RGVwdGggPCBkZXB0aCkge1xuICAgICAgICAgIHJlYyhpdGVtLCBjdXJlbnREZXB0aCArIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgIH1cbiAgfTtcblxuICByZWMoYXJyLCAwKTtcbiAgcmV0dXJuIHI7XG59IC8vICMjIE9iamVjdFxuLy8gIyMg5a+56LGhXG5cbmZ1bmN0aW9uIGFzc2lnbklmRGlmZmVyZW50KG9iaiwga2V5LCB2YWwpIHtcbiAgaWYgKG9ialtrZXldICE9PSB2YWwpIHtcbiAgICBvYmpba2V5XSA9IHZhbDtcbiAgfVxufSAvLyBsaWtlIEFycmF5Lm1hcFxuXG5mdW5jdGlvbiBvYmplY3RNYXAob2JqLCBoYW5kbGVyKSB7XG4gIHZhciByID0ge307XG4gIHZhciBpID0gMDtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcltrZXldID0gaGFuZGxlcihvYmpba2V5XSwga2V5LCBpKTtcbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIG9iamVjdE9ubHkob2JqLCBrZXlzKSB7XG4gIHZhciBrZXlzU2V0ID0gbmV3IFNldChrZXlzKTtcbiAgdmFyIHIgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGtleXNTZXQuaGFzKGtleSkpIHtcbiAgICAgIHJba2V5XSA9IG9ialtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gb2JqZWN0RXhjZXB0KG9iaiwga2V5cykge1xuICB2YXIga2V5c1NldCA9IG5ldyBTZXQoa2V5cyk7XG4gIHZhciByID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmICgha2V5c1NldC5oYXMoa2V5KSkge1xuICAgICAgcltrZXldID0gb2JqW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBpdGVyYXRlQWxsKHZhbCkge1xuICB2YXIgb3B0LFxuICAgICAgaSxcbiAgICAgIGluZm8sXG4gICAgICBfaTIsXG4gICAgICBfT2JqZWN0JGtleXMsXG4gICAgICBrZXksXG4gICAgICBfaW5mbyxcbiAgICAgIF9pMyxcbiAgICAgIF9pbmZvMixcbiAgICAgIGtleXMsXG4gICAgICBfaTQsXG4gICAgICBfa2V5cyxcbiAgICAgIF9rZXksXG4gICAgICBfaW5mbzMsXG4gICAgICBfYXJncyA9IGFyZ3VtZW50cztcblxuICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIGl0ZXJhdGVBbGwkKF9jb250ZXh0KSB7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIG9wdCA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDoge307XG5cbiAgICAgICAgICBpZiAob3B0LnJldmVyc2UpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKHZhbC5sZW5ndGggIT0gbnVsbCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAoIShpIDwgdmFsLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsW2ldLFxuICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKCEoIW9wdC5leGNsdWRlIHx8ICFvcHQuZXhjbHVkZShpbmZvKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7XG4gICAgICAgICAgcmV0dXJuIGluZm87XG5cbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGlmICghaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2kyID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXModmFsKTtcblxuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGlmICghKF9pMiA8IF9PYmplY3Qka2V5cy5sZW5ndGgpKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBrZXkgPSBfT2JqZWN0JGtleXNbX2kyXTtcbiAgICAgICAgICBfaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWxba2V5XSxcbiAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8pKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyO1xuICAgICAgICAgIHJldHVybiBfaW5mbztcblxuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIF9pMisrO1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHRocm93ICdVbnN1cHBvcnRlZCB0eXBlJztcblxuICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1ODtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgIGlmICghKHZhbC5sZW5ndGggIT0gbnVsbCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0MjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9pMyA9IHZhbC5sZW5ndGggLSAxO1xuXG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKCEoX2kzID49IDApKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfaW5mbzIgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsW19pM10sXG4gICAgICAgICAgICBpbmRleDogX2kzXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8yKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNztcbiAgICAgICAgICByZXR1cm4gX2luZm8yO1xuXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgX2kzLS07XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDMyO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU4O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgaWYgKCFpc09iamVjdCh2YWwpKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgICAgICBrZXlzLnJldmVyc2UoKTtcbiAgICAgICAgICBfaTQgPSAwLCBfa2V5cyA9IGtleXM7XG5cbiAgICAgICAgY2FzZSA0NjpcbiAgICAgICAgICBpZiAoIShfaTQgPCBfa2V5cy5sZW5ndGgpKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfa2V5ID0gX2tleXNbX2k0XTtcbiAgICAgICAgICBfaW5mbzMgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsW19rZXldLFxuICAgICAgICAgICAga2V5OiBfa2V5XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghKCFvcHQuZXhjbHVkZSB8fCAhb3B0LmV4Y2x1ZGUoX2luZm8zKSkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjtcbiAgICAgICAgICByZXR1cm4gX2luZm8zO1xuXG4gICAgICAgIGNhc2UgNTI6XG4gICAgICAgICAgX2k0Kys7XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ2O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNTU6XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU4O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgdGhyb3cgJ1Vuc3VwcG9ydGVkIHR5cGUnO1xuXG4gICAgICAgIGNhc2UgNTg6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgX21hcmtlZCk7XG59IC8vIGV4YW1wbGU6IG9iamVjdEdldCh3aW5kb3csICdkb2N1bWVudC5ib2R5LmNoaWxkcmVuLjAnKSAuIHNvdXJjZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84ODE3Mzk0L2phdmFzY3JpcHQtZ2V0LWRlZXAtdmFsdWUtZnJvbS1vYmplY3QtYnktcGFzc2luZy1wYXRoLXRvLWl0LWFzLXN0cmluZ1xuLy8g5L6LOiBvYmplY3RHZXQod2luZG93LCAnZG9jdW1lbnQuYm9keS5jaGlsZHJlbi4wJykgLiDlj4LogIM6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODgxNzM5NC9qYXZhc2NyaXB0LWdldC1kZWVwLXZhbHVlLWZyb20tb2JqZWN0LWJ5LXBhc3NpbmctcGF0aC10by1pdC1hcy1zdHJpbmdcblxuZnVuY3Rpb24gb2JqZWN0R2V0KG9iaiwgcGF0aCwgdGhyb3dFcnJvcikge1xuICB2YXIgcGF0aHMgPSBpc0FycmF5KHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGN1cnJlbnQgPSBvYmo7XG5cbiAgdHJ5IHtcbiAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBhdGhzKSxcbiAgICAgICAgX3N0ZXAzO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBrZXkgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W2tleV07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHRocm93RXJyb3IpIHtcbiAgICAgIHRocm93IFwiUGF0aCBkb2VzIG5vdCBleGlzdFwiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjdXJyZW50O1xufSAvLyByZWZlciBbb2JqZWN0R2V0XSgjb2JqZWN0R2V0KVxuXG5mdW5jdGlvbiBvYmplY3RTZXQob2JqLCBwYXRoLCB2YWx1ZSkge1xuICB2YXIgcGF0aHMgPSBpc0FycmF5KHBhdGgpID8gcGF0aCA6IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGxhc3RLZXkgPSBhcnJheUxhc3QocGF0aHMpO1xuICB2YXIgcGFyZW50ID0gb2JqZWN0R2V0KG9iaiwgcGF0aHMuc2xpY2UoMCwgcGF0aHMubGVuZ3RoIC0gMSkpO1xuXG4gIGlmICghcGFyZW50KSB7XG4gICAgdGhyb3cgXCJQYXRoIGRvZXMgbm90IGV4aXN0XCI7XG4gIH1cblxuICBwYXJlbnRbbGFzdEtleV0gPSB2YWx1ZTtcbn0gLy8gdHJ5IGRlbGV0ZSBvYmpbcHJvcF1cblxuZnVuY3Rpb24gdW5zZXQob2JqLCBwcm9wKSB7XG4gIG9ialtwcm9wXSA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGRlbGV0ZSBvYmpbcHJvcF07XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5mdW5jdGlvbiBvYmplY3RBc3NpZ25JZktleU51bGwob2JqMSwgb2JqMikge1xuICBPYmplY3Qua2V5cyhvYmoyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAob2JqMVtrZXldID09IG51bGwpIHtcbiAgICAgIG9iajFba2V5XSA9IG9iajJba2V5XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbWFwT2JqZWN0VHJlZShvYmosIGhhbmRsZXIpIHtcbiAgdmFyIGxpbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDAwMDtcbiAgdmFyIHI7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBzdGFjayA9IFt7XG4gICAgdmFsdWU6IG9ialxuICB9XTtcblxuICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKCkge1xuICAgIGlmIChjb3VudCA+PSBsaW1pdCkge1xuICAgICAgdGhyb3cgXCJtYXBPYmplY3RUcmVlOiBsaW1pdChcIi5jb25jYXQobGltaXQsIFwiKSByZWFjaGVkLCBvYmplY3QgbWF5IGhhcyBjaXJjdWxhciByZWZlcmVuY2VcIik7XG4gICAgfVxuXG4gICAgY291bnQrKzsgLy8gQHRzLWlnbm9yZVxuXG4gICAgdmFyIF9zdGFjayRzaGlmdCA9IHN0YWNrLnNoaWZ0KCksXG4gICAgICAgIHZhbHVlID0gX3N0YWNrJHNoaWZ0LnZhbHVlLFxuICAgICAgICBrZXkgPSBfc3RhY2skc2hpZnQua2V5LFxuICAgICAgICBwYXJlbnQgPSBfc3RhY2skc2hpZnQucGFyZW50LFxuICAgICAgICBuZXdQYXJlbnQgPSBfc3RhY2skc2hpZnQubmV3UGFyZW50O1xuXG4gICAgdmFyIHQgPSBoYW5kbGVyKHZhbHVlLCBrZXksIHBhcmVudCwgbmV3UGFyZW50KTtcblxuICAgIHZhciBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odmFsdWUsIGtleSwgY2FuUHVzaCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gW107XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGlmIChpc0FycmF5KG5ld1BhcmVudCkgJiYgY2FuUHVzaCkge1xuICAgICAgICAgIG5ld1BhcmVudC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdQYXJlbnRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gdmFsdWU7XG4gICAgICB9IC8vIHZhbHVlIG1heSBjaGFuZ2VkXG5cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICB2YXIgbmV3VmFsID0gdm9pZCAwLFxuICAgICAgICB2YWwgPSB2b2lkIDAsXG4gICAgICAgIHRvRGVsZXRlID0gdm9pZCAwLFxuICAgICAgICBzdG9wID0gdm9pZCAwLFxuICAgICAgICBza2lwID0gdm9pZCAwO1xuXG4gICAgaWYgKCF0KSB7XG4gICAgICAvLyBubyBjaGFuZ2VcbiAgICAgIHZhbCA9IHZhbHVlOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgIG5ld1ZhbCA9IGFzc2lnbih2YWx1ZSwga2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleTIgPSB0LmtleSxcbiAgICAgICAgICBfdmFsdWUgPSB0LnZhbHVlO1xuICAgICAgdmFsID0gX3ZhbHVlOyAvLyBAdHMtaWdub3JlXG5cbiAgICAgIGlmICh0LmRlbGV0ZSB8fCBrZXkyID09PSBmYWxzZSkge1xuICAgICAgICAvLyBkZWxcbiAgICAgICAgdG9EZWxldGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChrZXkyID09IG51bGwpIHtcbiAgICAgICAgLy8gZG9uJ3QgY2hhbmdlIGtleVxuICAgICAgICBuZXdWYWwgPSBhc3NpZ24oX3ZhbHVlLCBrZXksIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0Lmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbmV3VmFsID0gYXNzaWduKF92YWx1ZSwga2V5Mik7XG4gICAgICB9XG5cbiAgICAgIHN0b3AgPSB0LnN0b3A7XG4gICAgICBza2lwID0gdC5za2lwO1xuICAgIH1cblxuICAgIGlmICh0b0RlbGV0ZSkge1xuICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICB9XG5cbiAgICBpZiAoc2tpcCkge1xuICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RvcCkge1xuICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICB2YXIgbGVuID0gdmFsLmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgIHZhbHVlOiB2YWxbaV0sXG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHBhcmVudDogdmFsLFxuICAgICAgICAgIG5ld1BhcmVudDogbmV3VmFsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgICAgT2JqZWN0LmtleXModmFsKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogdmFsW2tleV0sXG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgcGFyZW50OiB2YWwsXG4gICAgICAgICAgbmV3UGFyZW50OiBuZXdWYWxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgX2xvb3A6IHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgdmFyIF9yZXQgPSBfbG9vcDIoKTtcblxuICAgIHN3aXRjaCAoX3JldCkge1xuICAgICAgY2FzZSBcImNvbnRpbnVlXCI6XG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBjYXNlIFwiYnJlYWtcIjpcbiAgICAgICAgYnJlYWsgX2xvb3A7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBtYXBPYmplY3RzKGFyciwgaWRLZXkpIHtcbiAgdmFyIHIgPSB7fTtcbiAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBpdGVtID0gYXJyW2ldOyAvLyBAdHMtaWdub3JlXG5cbiAgICB2YXIgaWQgPSBpc0Z1bmN0aW9uKGlkS2V5KSA/IGlkS2V5KGl0ZW0sIGkpIDogaXRlbVtpZEtleV07XG4gICAgcltpZF0gPSBpdGVtO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59IC8vIGV4YW1wbGU6IHBhaXJSb3dzKHVzZXJzLCB1c2VyUHJvZmlsZXMsICdpZCcsICd1c2VyX2lkJylcblxuZnVuY3Rpb24gcGFpclJvd3Mocm93czEsIHJvd3MyLCBrZXkxKSB7XG4gIHZhciBrZXkyID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBrZXkxO1xuICB2YXIgbWFwID0gbWFwT2JqZWN0cyhyb3dzMiwga2V5Mik7XG4gIHJldHVybiByb3dzMS5tYXAoZnVuY3Rpb24gKHJvdzEpIHtcbiAgICByZXR1cm4gW3JvdzEsIG1hcFtyb3cxW2tleTFdXV07XG4gIH0pO1xufVxuZnVuY3Rpb24gZGVwdGhGaXJzdFNlYXJjaChvYmosIGhhbmRsZXIpIHtcbiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgdmFyIHJvb3RDaGlsZHJlbiA9IGlzQXJyYXkob2JqKSA/IG9iaiA6IFtvYmpdOyAvL1xuXG4gIHZhciBTdG9wRXhjZXB0aW9uID0gZnVuY3Rpb24gU3RvcEV4Y2VwdGlvbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcEV4Y2VwdGlvbik7XG4gIH07XG5cbiAgdmFyIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKGNoaWxkcmVuLCBwYXJlbnQsIHBhcmVudFBhdGgpIHtcbiAgICBpZiAob3B0LnJldmVyc2UpIHtcbiAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uc2xpY2UoKTtcbiAgICAgIGNoaWxkcmVuLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICB2YXIgbGVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBjaGlsZHJlbltpXTtcbiAgICAgIHZhciBpbmRleCA9IG9wdC5yZXZlcnNlID8gbGVuIC0gaSAtIDEgOiBpO1xuICAgICAgdmFyIHBhdGggPSBwYXJlbnRQYXRoID8gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwYXJlbnRQYXRoKSwgW2luZGV4XSkgOiBbXTtcbiAgICAgIHZhciByID0gaGFuZGxlcihpdGVtLCBpbmRleCwgcGFyZW50LCBwYXRoKTtcblxuICAgICAgaWYgKHIgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIHN0b3BcbiAgICAgICAgdGhyb3cgbmV3IFN0b3BFeGNlcHRpb24oKTtcbiAgICAgIH0gZWxzZSBpZiAociA9PT0gJ3NraXAgY2hpbGRyZW4nKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChyID09PSAnc2tpcCBzaWJsaW5ncycpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtW2NoaWxkcmVuS2V5XSAhPSBudWxsKSB7XG4gICAgICAgIGZ1bmMoaXRlbVtjaGlsZHJlbktleV0sIGl0ZW0sIHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0cnkge1xuICAgIGZ1bmMocm9vdENoaWxkcmVuLCBudWxsLCBpc0FycmF5KG9iaikgPyBbXSA6IG51bGwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBTdG9wRXhjZXB0aW9uKSA7IGVsc2Uge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbn0gLy8gcmVmZXIgW2RlcHRoRmlyc3RTZWFyY2hdKCNkZXB0aEZpcnN0U2VhcmNoKVxuXG52YXIgd2Fsa1RyZWVEYXRhID0gZGVwdGhGaXJzdFNlYXJjaDsgLy8gdHJlZSBkYXRhIGhlbHBlcnNcblxudmFyIFRyZWVEYXRhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLy8gZGF0YSA9IG51bGw7XG4gIGZ1bmN0aW9uIFRyZWVEYXRhKCkge1xuICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmVlRGF0YSk7XG5cbiAgICB0aGlzLmNoaWxkcmVuS2V5ID0gJ2NoaWxkcmVuJztcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRyZWVEYXRhLCBbe1xuICAgIGtleTogXCJpdGVyYXRlUGF0aFwiLFxuICAgIHZhbHVlOiAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGl0ZXJhdGVQYXRoKHBhdGgpIHtcbiAgICAgIHZhciBvcHQsXG4gICAgICAgICAgY2hpbGRyZW5LZXksXG4gICAgICAgICAgcm9vdENoaWxkcmVuLFxuICAgICAgICAgIHByZXZQYXRoLFxuICAgICAgICAgIHByZXZDaGlsZHJlbixcbiAgICAgICAgICBfaXRlcmF0b3I0LFxuICAgICAgICAgIF9zdGVwNCxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBjdXJyZW50UGF0aCxcbiAgICAgICAgICBjdXJyZW50Tm9kZSxcbiAgICAgICAgICBsaXN0LFxuICAgICAgICAgIF9pdGVyYXRvcjUsXG4gICAgICAgICAgX3N0ZXA1LFxuICAgICAgICAgIF9zdGVwNSR2YWx1ZSxcbiAgICAgICAgICBwYXRoMCxcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIF9wYXRoLFxuICAgICAgICAgIF9hcmdzMiA9IGFyZ3VtZW50cztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBpdGVyYXRlUGF0aCQoX2NvbnRleHQyKSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIG9wdCA9IF9hcmdzMi5sZW5ndGggPiAxICYmIF9hcmdzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzFdIDoge307XG4gICAgICAgICAgICAgIGNoaWxkcmVuS2V5ID0gdGhpcy5jaGlsZHJlbktleSwgcm9vdENoaWxkcmVuID0gdGhpcy5yb290Q2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgaWYgKG9wdC5yZXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByZXZQYXRoID0gW107XG4gICAgICAgICAgICAgIHByZXZDaGlsZHJlbiA9IHJvb3RDaGlsZHJlbjtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBhdGgpO1xuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDY7XG5cbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5zKCk7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgaWYgKChfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpbmRleCA9IF9zdGVwNC52YWx1ZTtcbiAgICAgICAgICAgICAgY3VycmVudFBhdGggPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByZXZQYXRoKSwgW2luZGV4XSk7XG4gICAgICAgICAgICAgIGN1cnJlbnROb2RlID0gcHJldkNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdXJyZW50UGF0aCxcbiAgICAgICAgICAgICAgICBub2RlOiBjdXJyZW50Tm9kZVxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICBwcmV2UGF0aCA9IGN1cnJlbnRQYXRoO1xuICAgICAgICAgICAgICBwcmV2Q2hpbGRyZW4gPSBjdXJyZW50Tm9kZVtjaGlsZHJlbktleV07XG5cbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIxO1xuICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSg2KTtcblxuICAgICAgICAgICAgICBfaXRlcmF0b3I0LmUoX2NvbnRleHQyLnQwKTtcblxuICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNDtcblxuICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTtcblxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgyNCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgICAgICBsaXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuaXRlcmF0ZVBhdGgocGF0aCwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHQpLCB7XG4gICAgICAgICAgICAgICAgcmV2ZXJzZTogZmFsc2VcbiAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgbGlzdC5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihsaXN0KTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzMjtcblxuICAgICAgICAgICAgICBfaXRlcmF0b3I1LnMoKTtcblxuICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgICAgaWYgKChfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfc3RlcDUkdmFsdWUgPSBfc3RlcDUudmFsdWUsIHBhdGgwID0gX3N0ZXA1JHZhbHVlLnBhdGgsIG5vZGUgPSBfc3RlcDUkdmFsdWUubm9kZTtcbiAgICAgICAgICAgICAgX3BhdGggPSBwYXRoMDtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOTtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBfcGF0aCxcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ2O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0MztcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMzIpO1xuXG4gICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShfY29udGV4dDIudDEpO1xuXG4gICAgICAgICAgICBjYXNlIDQ2OlxuICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ2O1xuXG4gICAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDQ2KTtcblxuICAgICAgICAgICAgY2FzZSA0OTpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBpdGVyYXRlUGF0aCwgdGhpcywgW1s2LCAyMSwgMjQsIDI3XSwgWzMyLCA0MywgNDYsIDQ5XV0pO1xuICAgIH0pXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QWxsTm9kZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxsTm9kZXMocGF0aCkge1xuICAgICAgdmFyIGFsbCA9IFtdO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuaXRlcmF0ZVBhdGgocGF0aCkpLFxuICAgICAgICAgIF9zdGVwNjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwNi52YWx1ZS5ub2RlO1xuICAgICAgICAgIGFsbC5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3I2LmYoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Tm9kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb2RlKHBhdGgpIHtcbiAgICAgIHJldHVybiBhcnJheUxhc3QodGhpcy5nZXRBbGxOb2RlcyhwYXRoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE5vZGVJbmRleEFuZFBhcmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb2RlSW5kZXhBbmRQYXJlbnQocGF0aCkge1xuICAgICAgdmFyIHBhcmVudFBhdGggPSBwYXRoLnNsaWNlKCk7XG4gICAgICB2YXIgaW5kZXggPSBwYXJlbnRQYXRoLnBvcCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiB0aGlzLmdldE5vZGUocGFyZW50UGF0aCksXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgcGFyZW50UGF0aDogcGFyZW50UGF0aFxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Tm9kZVBhcmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb2RlUGFyZW50KHBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVJbmRleEFuZFBhcmVudChwYXRoKS5wYXJlbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFBhdGhOb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBhdGhOb2RlKHBhdGgsIG5vZGUpIHtcbiAgICAgIGlmIChwYXRoID09IG51bGwgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaGlsZHJlbktleSA9IHRoaXMuY2hpbGRyZW5LZXksXG4gICAgICAgICAgICByb290Q2hpbGRyZW4gPSB0aGlzLnJvb3RDaGlsZHJlbjtcblxuICAgICAgICB2YXIgX3RoaXMkZ2V0Tm9kZUluZGV4QW5kID0gdGhpcy5nZXROb2RlSW5kZXhBbmRQYXJlbnQocGF0aCksXG4gICAgICAgICAgICBwYXJlbnQgPSBfdGhpcyRnZXROb2RlSW5kZXhBbmQucGFyZW50LFxuICAgICAgICAgICAgaW5kZXggPSBfdGhpcyRnZXROb2RlSW5kZXhBbmQuaW5kZXg7XG5cbiAgICAgICAgdmFyIHBhcmVudENoaWxkcmVuID0gcGF0aC5sZW5ndGggPT09IDEgPyByb290Q2hpbGRyZW4gOiBwYXJlbnRbY2hpbGRyZW5LZXldO1xuICAgICAgICBwYXJlbnRDaGlsZHJlbltpbmRleF0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVOb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU5vZGUocGF0aCkge1xuICAgICAgdmFyIGNoaWxkcmVuS2V5ID0gdGhpcy5jaGlsZHJlbktleSxcbiAgICAgICAgICByb290Q2hpbGRyZW4gPSB0aGlzLnJvb3RDaGlsZHJlbjtcblxuICAgICAgdmFyIF90aGlzJGdldE5vZGVJbmRleEFuZDIgPSB0aGlzLmdldE5vZGVJbmRleEFuZFBhcmVudChwYXRoKSxcbiAgICAgICAgICBwYXJlbnQgPSBfdGhpcyRnZXROb2RlSW5kZXhBbmQyLnBhcmVudCxcbiAgICAgICAgICBpbmRleCA9IF90aGlzJGdldE5vZGVJbmRleEFuZDIuaW5kZXg7XG5cbiAgICAgIHZhciBwYXJlbnRDaGlsZHJlbiA9IHBhdGgubGVuZ3RoID09PSAxID8gcm9vdENoaWxkcmVuIDogcGFyZW50W2NoaWxkcmVuS2V5XTtcbiAgICAgIHZhciBub2RlID0gcGFyZW50Q2hpbGRyZW5baW5kZXhdO1xuICAgICAgcGFyZW50Q2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ3YWxrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdhbGsoaGFuZGxlciwgb3B0KSB7XG4gICAgICB2YXIgY2hpbGRyZW5LZXkgPSB0aGlzLmNoaWxkcmVuS2V5LFxuICAgICAgICAgIGRhdGEgPSB0aGlzLmRhdGE7IC8vIEB0cy1pZ25vcmVcblxuICAgICAgcmV0dXJuIHdhbGtUcmVlRGF0YShkYXRhLCBoYW5kbGVyLCBjaGlsZHJlbktleSwgb3B0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvbmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvbmUoKSB7XG4gICAgICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIC8vIG9wdC5hZnRlck5vZGVDcmVhdGVkKG5ld05vZGUsIHtvbGROb2RlOiBub2RlLCBpbmRleCwgcGFyZW50LCBwYXRofSlcbiAgICAgIHZhciBjaGlsZHJlbktleSA9IHRoaXMuY2hpbGRyZW5LZXk7XG4gICAgICB2YXIgdGQgPSBuZXcgVHJlZURhdGEoKTtcbiAgICAgIHRoaXMud2FsayhmdW5jdGlvbiAobm9kZSwgaW5kZXgsIHBhcmVudCwgcGF0aCkge1xuICAgICAgICB2YXIgbmV3Tm9kZSA9IE9iamVjdC5hc3NpZ24oe30sIG5vZGUpO1xuXG4gICAgICAgIGlmIChuZXdOb2RlW2NoaWxkcmVuS2V5XSkge1xuICAgICAgICAgIG5ld05vZGVbY2hpbGRyZW5LZXldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0LmFmdGVyTm9kZUNyZWF0ZWQpIHtcbiAgICAgICAgICBvcHQuYWZ0ZXJOb2RlQ3JlYXRlZChuZXdOb2RlLCB7XG4gICAgICAgICAgICBvbGROb2RlOiBub2RlLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZC5zZXRQYXRoTm9kZShwYXRoLCBuZXdOb2RlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRkLmRhdGE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvb3RDaGlsZHJlblwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGNoaWxkcmVuS2V5ID0gdGhpcy5jaGlsZHJlbktleTtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgICAgcmV0dXJuIGlzQXJyYXkoZGF0YSkgPyBkYXRhIDogZGF0YVtjaGlsZHJlbktleV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyZWVEYXRhO1xufSgpOyAvLyAjIyBmdW5jdGlvblxuLy8gIyMg5Ye95pWwXG4vLyBpZiBpdCBpcyBmdW5jdGlvbiwgcmV0dXJuIHJlc3VsdCwgZWxzZSByZXR1cm4gaXQgZGlyZWN0bHkuXG5cbmZ1bmN0aW9uIHJlc29sdmVWYWx1ZU9yR2V0dHRlcih2YWx1ZU9yR2V0dGVyKSB7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblxuICBpZiAoaXNGdW5jdGlvbih2YWx1ZU9yR2V0dGVyKSkge1xuICAgIHJldHVybiB2YWx1ZU9yR2V0dGVyLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWVPckdldHRlcjtcbiAgfVxufVxuZnVuY3Rpb24gZXhlY3V0ZVdpdGhDb3VudChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDA7XG5cbiAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW47IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGZ1bmMuY2FsbC5hcHBseShmdW5jLCBbdGhpcywgY291bnQrK10uY29uY2F0KGFyZ3MpKTtcbiAgfVxuXG4gIHJldHVybiB3cmFwcGVyO1xufVxuZnVuY3Rpb24gd2F0Y2hDaGFuZ2UoZ2V0VmFsLCBoYW5kbGVyKSB7XG4gIHZhciBvbGRWYWw7XG5cbiAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjI7IF9rZXkzKyspIHtcbiAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdmFyIG5ld1ZhbCA9IGdldFZhbC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuXG4gICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgW25ld1ZhbF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG5cbiAgICBvbGRWYWwgPSBuZXdWYWw7XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlVHJhaWxpbmcoYWN0aW9uKSB7XG4gIHZhciB3YWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICB2YXIgdDtcbiAgdmFyIGRlbGF5aW5nO1xuICB2YXIgbGFzdEFyZ3M7IC8vIHdoZW4gdHJhaWxpbmcsIHVzZSBsYXN0IGFyZ3NcblxuICB2YXIgcmVzb2x2ZXMgPSBbXTtcbiAgdmFyIHJlamVjdHMgPSBbXTtcblxuICB2YXIgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uIHdyYXBwZWRBY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuMzsgX2tleTQrKykge1xuICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlcy5wdXNoKHJlc29sdmUpO1xuICAgICAgcmVqZWN0cy5wdXNoKHJlamVjdCk7IC8vXG5cbiAgICAgIGxhc3RBcmdzID0gYXJncztcblxuICAgICAgaWYgKCFkZWxheWluZykge1xuICAgICAgICBkZWxheWluZyA9IHRydWU7XG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGFjdGlvbi5jYWxsLmFwcGx5KGFjdGlvbiwgW190aGlzXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGxhc3RBcmdzKSkpO1xuICAgICAgICAgIHQgPSBudWxsO1xuICAgICAgICAgIGRlbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgcmVzb2x2ZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNvbHZlcyA9IFtdO1xuICAgICAgICAgIHJlamVjdHMgPSBbXTtcbiAgICAgICAgfSwgd2FpdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGlmICh0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICB0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBkZWxheWluZyA9IGZhbHNlO1xuICAgIHJlc29sdmVzID0gW107XG4gICAgcmVqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWplY3QpIHtcbiAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICB9KTtcbiAgICByZWplY3RzID0gW107XG4gIH07IC8vIEB0cy1pZ25vcmVcblxuXG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiB3cmFwcGVkQWN0aW9uLFxuICAgIHN0b3A6IHN0b3BcbiAgfTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlSW1tZWRpYXRlKGFjdGlvbikge1xuICB2YXIgd2FpdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgdmFyIHQ7XG4gIHZhciBkZWxheWluZztcbiAgdmFyIHJlc3VsdDtcblxuICB2YXIgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uIHdyYXBwZWRBY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKGRlbGF5aW5nKSB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGF5aW5nID0gdHJ1ZTsgLy8gQHRzLWlnbm9yZVxuXG4gICAgICAgIHJlc3VsdCA9IGFjdGlvbi5jYWxsLmFwcGx5KGFjdGlvbiwgW190aGlzMl0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShsYXN0QXJncykpKTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdCA9IG51bGw7XG4gICAgICAgICAgZGVsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXN1bHQgPSBudWxsO1xuICAgICAgICB9LCB3YWl0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgaWYgKHQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgIHQgPSBudWxsO1xuICAgIH1cblxuICAgIGRlbGF5aW5nID0gZmFsc2U7XG4gIH07IC8vIEB0cy1pZ25vcmVcblxuXG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiB3cmFwcGVkQWN0aW9uLFxuICAgIHN0b3A6IHN0b3BcbiAgfTtcbn0gLy8gdGhlIHJldHVybmVkIGZ1bmN0aW9uIG9ubHkgYWNjZXB0IG9uZSBhcmd1bWVudFxuXG5mdW5jdGlvbiBqb2luRnVuY3Rpb25zQnlSZXN1bHQoZnVuY3MpIHtcbiAgdmFyIHdyYXBwZWRGdW5jID0gZnVuY3NbMF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBmdW5jcy5sZW5ndGg7IGkrKykge1xuICAgIHdyYXBwZWRGdW5jID0gam9pbjJmdW5jKHdyYXBwZWRGdW5jLCBmdW5jc1tpXSk7XG4gIH1cblxuICByZXR1cm4gd3JhcHBlZEZ1bmM7XG5cbiAgZnVuY3Rpb24gam9pbjJmdW5jKGZ1bmMxLCBmdW5jMikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICB2YXIgcmVzdWx0MSA9IGZ1bmMxKGFyZyk7XG4gICAgICByZXR1cm4gZnVuYzIocmVzdWx0MSk7XG4gICAgfTtcbiAgfVxufSAvLyBtdXN0IHBhc3MgYXJndW1lbnRzIHRvIGBuZXh0YCBtYW51YWxseVxuXG5mdW5jdGlvbiBqb2luRnVuY3Rpb25zQnlOZXh0KGZ1bmNzKSB7XG4gIHZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHt9O1xuXG4gIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlcmF0ZUFsbChmdW5jcywge1xuICAgIHJldmVyc2U6IHRydWVcbiAgfSkpLFxuICAgICAgX3N0ZXA3O1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBmdW5jID0gX3N0ZXA3LnZhbHVlLnZhbHVlO1xuICAgICAgdmFyIGN1cnJlbnROZXh0ID0gbmV4dDtcbiAgICAgIG5leHQgPSB3cmFwRnVuY1dpdGhOZXh0KGZ1bmMsIGN1cnJlbnROZXh0KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjcuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjcuZigpO1xuICB9XG5cbiAgcmV0dXJuIG5leHQ7XG5cbiAgZnVuY3Rpb24gd3JhcEZ1bmNXaXRoTmV4dChmdW5jLCBuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNDsgX2tleTUrKykge1xuICAgICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHZvaWQgMCwgW25leHRdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgfVxufSAvLyAjIyBwcm9taXNlXG4vLyBleGVjdXRlIHByb21pc2UgaW4gc2VxdWVuY2VcblxuZnVuY3Rpb24gZXhlY3V0ZVByb21pc2VHZXR0ZXJzKGdldHRlcnMpIHtcbiAgdmFyIGNvbmN1cnJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7XG4gIHZhciBzdG9wcGVkO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICB2YXIgY2h1bmtzLCBwcm9taXNlcywgX2l0ZXJhdG9yOCwgX3N0ZXA4LCBjaHVuaywgY2h1bmtQcm9taXNlcztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dDMpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgY2h1bmtzID0gc3BsaXRBcnJheShnZXR0ZXJzLCBjb25jdXJyZW50KTtcbiAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNodW5rcyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMztcblxuICAgICAgICAgICAgICBfaXRlcmF0b3I4LnMoKTtcblxuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBpZiAoKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNodW5rID0gX3N0ZXA4LnZhbHVlO1xuICAgICAgICAgICAgICBjaHVua1Byb21pc2VzID0gY2h1bmsubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHYoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHByb21pc2VzLnB1c2guYXBwbHkocHJvbWlzZXMsIF90b0NvbnN1bWFibGVBcnJheShjaHVua1Byb21pc2VzKSk7XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjaHVua1Byb21pc2VzKTtcblxuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgaWYgKCFzdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwiYnJlYWtcIiwgMTUpO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNztcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oMyk7XG5cbiAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5lKF9jb250ZXh0My50MCk7XG5cbiAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjA7XG5cbiAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5mKCk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMjApO1xuXG4gICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTcsIDIwLCAyM11dKTtcbiAgICB9KSk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHByb21pc2VUaW1lb3V0KHByb21pc2UsIHRpbWVvdXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgdCwgcmVqZWN0ZWQ7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgIHJlc29sdmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghcmVqZWN0ZWQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICByZWplY3QuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlamVjdGVkID0gdHJ1ZTtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdQcm9taXNlIHRpbWVvdXQhJyk7XG4gICAgICBlLm5hbWUgPSAndGltZW91dCc7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSwgdGltZW91dCk7XG4gIH0pO1xufSAvLyAjIyB1cmxcblxuZnVuY3Rpb24gZ2V0VXJsUGFyYW0ocGFyKSB7XG4gIC8vIOiOt+WPluW9k+WJjVVSTFxuICB2YXIgbG9jYWxfdXJsID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjsgLy8g6I635Y+W6KaB5Y+W5b6X55qEZ2V05Y+C5pWw5L2N572uXG5cbiAgdmFyIGdldCA9IGxvY2FsX3VybC5pbmRleE9mKHBhciArICc9Jyk7XG5cbiAgaWYgKGdldCA9PSAtMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyDmiKrlj5blrZfnrKbkuLJcblxuXG4gIHZhciBnZXRfcGFyID0gbG9jYWxfdXJsLnNsaWNlKHBhci5sZW5ndGggKyBnZXQgKyAxKTsgLy8g5Yik5pat5oiq5Y+W5ZCO55qE5a2X56ym5Liy5piv5ZCm6L+Y5pyJ5YW25LuWZ2V05Y+C5pWwXG5cbiAgdmFyIG5leHRQYXIgPSBnZXRfcGFyLmluZGV4T2YoJyYnKTtcblxuICBpZiAobmV4dFBhciAhPSAtMSkge1xuICAgIGdldF9wYXIgPSBnZXRfcGFyLnNsaWNlKDAsIG5leHRQYXIpO1xuICB9XG5cbiAgcmV0dXJuIGdldF9wYXI7XG59IC8vICMjIGRvbVxuLy8gcmV0dXJuIE5vZGVMaXN0IGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB0b3AtbGV2ZWwgbm9kZXNcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG5cbiAgaWYgKGRpdi5jaGlsZE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gZGl2LmNoaWxkTm9kZXM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpdi5jaGlsZE5vZGVzWzBdO1xuICB9XG59XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgdmFyIHByZWZpeCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ2lkXyc7XG4gIHZhciBpZCA9IHByZWZpeCArIHJhbmRTdHJpbmcoKTtcbiAgaWYgKCFzdG9yZS51bmlxdWVJZCkgc3RvcmUudW5pcXVlSWQgPSB7fTtcbiAgdmFyIGdlbmVyYXRlZElkcyA9IHN0b3JlLnVuaXF1ZUlkO1xuXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgfHwgZ2VuZXJhdGVkSWRzW2lkXSkge1xuICAgIHJldHVybiB1bmlxdWVJZChwcmVmaXgpO1xuICB9IGVsc2Uge1xuICAgIGdlbmVyYXRlZElkc1tpZF0gPSB0cnVlO1xuICAgIHJldHVybiBpZDtcbiAgfVxufVxuZnVuY3Rpb24gaXNEZXNjZW5kYW50T2YoZWwsIHBhcmVudCkge1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChlbC5wYXJlbnRFbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGVsLnBhcmVudEVsZW1lbnQgPT09IHBhcmVudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUVsKGVsKSB7XG4gIGlmIChlbC5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICB9XG59IC8vIHJlZmVyOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NzEzOTkvY3Jvc3MtYnJvd3Nlci1tZXRob2QtZm9yLWRldGVjdGluZy10aGUtc2Nyb2xsdG9wLW9mLXRoZS1icm93c2VyLXdpbmRvd1xuXG5mdW5jdGlvbiBnZXRTY3JvbGwoKSB7XG4gIGlmICh0eXBlb2YgcGFnZVlPZmZzZXQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvL21vc3QgYnJvd3NlcnMgZXhjZXB0IElFIGJlZm9yZSAjOVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHBhZ2VZT2Zmc2V0LFxuICAgICAgbGVmdDogcGFnZVhPZmZzZXRcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBCID0gZG9jdW1lbnQuYm9keTsgLy9JRSAncXVpcmtzJ1xuXG4gICAgdmFyIEQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vSUUgd2l0aCBkb2N0eXBlXG5cbiAgICBEID0gRC5jbGllbnRIZWlnaHQgPyBEIDogQjtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBELnNjcm9sbFRvcCxcbiAgICAgIGxlZnQ6IEQuc2Nyb2xsTGVmdFxuICAgIH07XG4gIH1cbn0gLy8gcmVmZXI6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2FkZXJhYWlqLzg5NTQ3ZTM0NjE3Yjk1YWMyOWQxXG5cbmZ1bmN0aW9uIGdldE9mZnNldChlbCkge1xuICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG4gIHZhciBzY3JvbGwgPSBnZXRTY3JvbGwoKTtcbiAgcmV0dXJuIHtcbiAgICB4OiByZWN0LmxlZnQgKyBzY3JvbGwubGVmdCxcbiAgICB5OiByZWN0LnRvcCArIHNjcm9sbC50b3BcbiAgfTtcbn0gLy8gdGhlcmUgaXMgc29tZSB0cmFwIGluIGVsLm9mZnNldFBhcmVudCwgc28gdXNlIHRoaXMgZnVuYyB0byBmaXhcblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsKSB7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBlbC5vZmZzZXRQYXJlbnQ7XG5cbiAgaWYgKCFvZmZzZXRQYXJlbnQgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudC5ib2R5ICYmIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldFBhcmVudDtcbn0gLy8gZ2V0IGVsIGN1cnJlbnQgcG9zaXRpb24uIGxpa2UgalF1ZXJ5LnBvc2l0aW9uLiBUaGUgcG9zaXRpb24gaXMgcmVsYXRpdmUgdG8gb2Zmc2V0UGFyZW50IHZpZXdwb3J0IGxlZnQgdG9wLiBpdCBpcyBmb3Igc2V0IGFic29sdXRlIHBvc2l0aW9uLCBhYnNvbHV0ZSBwb3NpdGlvbiBpcyByZWxhdGl2ZSB0byBvZmZzZXRQYXJlbnQgdmlld3BvcnQgbGVmdCB0b3AuXG4vLyDnm7jlr7nkuo5vZmZzZXRQYXJlbnTlj6/op4bljLrln5/lt6bkuIrop5IoZWwub2Zmc2V0TGVmdOaIlnRvcOWMheWQq+eItuWFg+e0oOeahOa7muWKqOi3neemuywg5omA5Lul6KaB5YeP5Y67KS4gcG9zaXRpb27kuIDoiKznlKjkuo7orr7nva7nu53lr7nlrprkvY3nmoTmg4XlhrUsIOiAjOe7neWvueWumuS9jeWwseaYr+S7peWPr+inhuWMuuWfn+W3puS4iuinkuS4uuWOn+eCuS5cblxuZnVuY3Rpb24gZ2V0UG9zaXRpb24oZWwpIHtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChlbCk7XG4gIHZhciBwcyA9IHtcbiAgICB4OiBlbC5vZmZzZXRMZWZ0LFxuICAgIHk6IGVsLm9mZnNldFRvcFxuICB9O1xuICB2YXIgcGFyZW50ID0gZWw7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcblxuICAgIGlmIChwYXJlbnQgPT09IG9mZnNldFBhcmVudCB8fCAhcGFyZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBwcy54IC09IHBhcmVudC5zY3JvbGxMZWZ0O1xuICAgIHBzLnkgLT0gcGFyZW50LnNjcm9sbFRvcDtcbiAgfVxuXG4gIHJldHVybiBwcztcbn0gLy8gbGlrZSBqUXVlcnkub2Zmc2V0KHgsIHkpLCBidXQgaXQganVzdCByZXR1cm4gY21wdXRlZCBwb3NpdGlvbiwgZG9uJ3QgdXBkYXRlIHN0eWxlXG4vLyDnsbvkvLwgalF1ZXJ5Lm9mZnNldOeahOiuvue9ruWKn+iDvSwg5L2G5piv5a6D5Y+q6L+U5Zue6K6h566X55qEcG9zaXRpb24sIOS4jeaUueWPmOWFg+e0oOagt+W8jy5cblxuZnVuY3Rpb24gZ2V0UG9zaXRpb25Gcm9tT2Zmc2V0KGVsLCBvZikge1xuICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGVsKTtcbiAgdmFyIHBhcmVudE9mID0gZ2V0T2Zmc2V0KG9mZnNldFBhcmVudCk7XG4gIHJldHVybiB7XG4gICAgeDogb2YueCAtIHBhcmVudE9mLngsXG4gICAgeTogb2YueSAtIHBhcmVudE9mLnlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCkge1xuICAvLyByZWZlcjogaHR0cDovL3d3dy41MXh1ZWRpYW5uYW8uY29tL2phdmFzY3JpcHQvZ2V0Qm91bmRpbmdDbGllbnRSZWN0Lmh0bWxcbiAgdmFyIHh5ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciB0b3AgPSB4eS50b3AgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wLFxuICAgICAgLy9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wIOWcqElFNjfkuK3lp4vnu4jkuLoy77yM5YW25LuW6auY57qn54K555qE5rWP6KeI5Zmo5Li6MFxuICBib3R0b20gPSB4eS5ib3R0b20sXG4gICAgICBsZWZ0ID0geHkubGVmdCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0LFxuICAgICAgLy9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdCDlnKhJRTY35Lit5aeL57uI5Li6Mu+8jOWFtuS7lumrmOe6p+eCueeahOa1j+iniOWZqOS4ujBcbiAgcmlnaHQgPSB4eS5yaWdodCxcbiAgICAgIHdpZHRoID0geHkud2lkdGggfHwgcmlnaHQgLSBsZWZ0LFxuICAgICAgLy9JRTY35LiN5a2Y5Zyod2lkdGgg5L2/55SocmlnaHQgLSBsZWZ06I635b6XXG4gIGhlaWdodCA9IHh5LmhlaWdodCB8fCBib3R0b20gLSB0b3A7XG4gIHZhciB4ID0gbGVmdDtcbiAgdmFyIHkgPSB0b3A7XG4gIHJldHVybiB7XG4gICAgdG9wOiB0b3AsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xufSAvLyByZWZlciBbZ2V0Qm91bmRpbmdDbGllbnRSZWN0XSgjZ2V0Qm91bmRpbmdDbGllbnRSZWN0KVxuXG52YXIgZ2V0Vmlld3BvcnRQb3NpdGlvbiA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdDsgLy8gVE9ETyBub3QgdGVzdGVkXG5cbmZ1bmN0aW9uIHZpZXdwb3J0UG9zaXRpb25Ub09mZnNldChwb3NpdGlvbikge1xuICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIHZhciBib2R5T2YgPSBnZXRPZmZzZXQoYm9keSk7XG4gIHZhciBib2R5VlAgPSBnZXRWaWV3cG9ydFBvc2l0aW9uKGJvZHkpO1xuICByZXR1cm4ge1xuICAgIHg6IHBvc2l0aW9uLnggKyBib2R5T2YueCAtIGJvZHlWUC54LFxuICAgIHk6IHBvc2l0aW9uLnkgKyBib2R5T2YueSAtIGJvZHlWUC55XG4gIH07XG59IC8vIFRPRE8gbm90IHRlc3RlZFxuXG5mdW5jdGlvbiBvZmZzZXRUb1ZpZXdwb3J0UG9zaXRpb24ob2Zmc2V0KSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIGJvZHlPZiA9IGdldE9mZnNldChib2R5KTtcbiAgdmFyIGJvZHlWUCA9IGdldFZpZXdwb3J0UG9zaXRpb24oYm9keSk7XG4gIHJldHVybiB7XG4gICAgeDogb2Zmc2V0LnggKyBib2R5VlAueCAtIGJvZHlPZi54LFxuICAgIHk6IG9mZnNldC55ICsgYm9keVZQLnkgLSBib2R5T2YueVxuICB9O1xufVxuZnVuY3Rpb24gZmluZFBhcmVudChlbCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciBjdXIgPSBvcHQgJiYgb3B0LndpdGhTZWxmID8gZWwgOiBlbC5wYXJlbnRFbGVtZW50O1xuXG4gIHdoaWxlIChjdXIpIHtcbiAgICB2YXIgciA9IGNhbGxiYWNrKGN1cik7XG5cbiAgICBpZiAociA9PT0gJ2JyZWFrJykge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAocikge1xuICAgICAgcmV0dXJuIGN1cjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VyID0gY3VyLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBiYWNrdXBBdHRyKGVsLCBuYW1lKSB7XG4gIHZhciBrZXkgPSBcIm9yaWdpbmFsX1wiLmNvbmNhdChuYW1lKTtcbiAgZWxba2V5XSA9IGVsLmdldEF0dHJpYnV0ZShuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVBdHRyKGVsLCBuYW1lKSB7XG4gIHZhciBrZXkgPSBcIm9yaWdpbmFsX1wiLmNvbmNhdChuYW1lKTtcbiAgdmFyIHZhbHVlID0gZWxba2V5XTtcblxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9XG59IC8vIHNvdXJjZTogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXG5cbmZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChlbC5jbGFzc05hbWUpO1xuICB9XG59IC8vIHNvdXJjZTogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgaWYgKCFoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSkge1xuICAgIGlmIChlbC5jbGFzc0xpc3QpIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbiAgICB9XG4gIH1cbn0gLy8gc291cmNlOiBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS9cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEVsU2l6ZUV2ZW5JbnZpc2libGUoZWwpIHtcbiAgYmFja3VwQXR0cihlbCwgJ3N0eWxlJyk7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB2YXIgdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbCk7XG4gIHZhciBzaXplID0ge1xuICAgIHdpZHRoOiB0LndpZHRoLFxuICAgIGhlaWdodDogdC5oZWlnaHRcbiAgfTtcbiAgcmVzdG9yZUF0dHIoZWwsICdzdHlsZScpO1xuICByZXR1cm4gc2l6ZTtcbn1cbi8qKlxyXG4gKiBbaXNPZmZzZXRJbkVsXVxyXG4gKiBAcGFyYW0ge051bWJlcn0geFxyXG4gKiBAcGFyYW0ge051bWJlcn0geVxyXG4gKiBAcGFyYW0ge09iamVjdH0gZWwgSFRNTCBFbGVtZW50XHJcbiAqL1xuXG5mdW5jdGlvbiBpc09mZnNldEluRWwoeCwgeSwgZWwpIHtcbiAgdmFyIG9mZnNldCA9IGdldE9mZnNldChlbCk7XG4gIHJldHVybiBvZmZzZXQueCA8PSB4ICYmIG9mZnNldC54ICsgZWwub2Zmc2V0V2lkdGggPj0geCAmJiBvZmZzZXQueSA8PSB5ICYmIG9mZnNldC55ICsgZWwub2Zmc2V0SGVpZ2h0ID49IHk7XG59IC8vIGdldCBib3JkZXJcblxuZnVuY3Rpb24gZ2V0Qm9yZGVyKGVsKSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgdmFyIHdvcmtBcmVhID0gZmluZFBhcmVudChlbCwgZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gaGFzQ2xhc3ModiwgJ3dvcmstYXJlYScpO1xuICB9KTtcbiAgdmFyIG9mID0gZ2V0T2Zmc2V0KHdvcmtBcmVhKTtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBvZi54LFxuICAgIHJpZ2h0OiBvZi54ICsgd29ya0FyZWEub2Zmc2V0V2lkdGgsXG4gICAgdG9wOiBvZi55ICsgNTAsXG4gICAgYm90dG9tOiBib2R5Lm9mZnNldEhlaWdodCA8IGdsYigpLmlubmVySGVpZ2h0ID8gZ2xiKCkuaW5uZXJIZWlnaHQgOiBib2R5Lm9mZnNldEhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gc2V0RWxDaGlsZEJ5SW5kZXgoZWwsIGNoaWxkLCBpbmRleCkge1xuICAvLyBAdHMtaWdub3JlXG4gIGNoaWxkLmNoaWxkQ29tcG9uZW50SW5kZXggPSBpbmRleDtcbiAgdmFyIGxlbiA9IGVsLmNoaWxkTm9kZXMubGVuZ3RoO1xuXG4gIGlmIChsZW4gPT09IDApIHtcbiAgICBlbC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICBlbC5pbnNlcnRCZWZvcmUoY2hpbGQsIGVsLmNoaWxkTm9kZXNbMF0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBfYmluYXJ5U2VhcmNoID0gYmluYXJ5U2VhcmNoKGVsLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGVsLmNoaWxkQ29tcG9uZW50SW5kZXggLSBpbmRleDtcbiAgICB9LCB7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGVuZDogbm90R3JlYXRlclRoYW4oaW5kZXgsIGxlbiAtIDEpLFxuICAgICAgcmV0dXJuTmVhcmVzdElmTm9IaXQ6IHRydWVcbiAgICB9KSxcbiAgICAgICAgbmVhcmVzdEluZGV4ID0gX2JpbmFyeVNlYXJjaC5pbmRleCxcbiAgICAgICAgbmVhcmVzdCA9IF9iaW5hcnlTZWFyY2gudmFsdWUsXG4gICAgICAgIGdyZWF0ZXIgPSBfYmluYXJ5U2VhcmNoLmdyZWF0ZXI7XG5cbiAgICBpZiAoZ3JlYXRlcikge1xuICAgICAgZWwuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZWFyZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5leHQgPSBlbC5jaGlsZE5vZGVzW25lYXJlc3RJbmRleCArIDFdO1xuXG4gICAgICBpZiAobmV4dCkge1xuICAgICAgICBlbC5pbnNlcnRCZWZvcmUoY2hpbGQsIG5leHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gb25ET00oZWwsIG5hbWUsIGhhbmRsZXIpIHtcbiAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41ID4gMyA/IF9sZW41IC0gMyA6IDApLCBfa2V5NiA9IDM7IF9rZXk2IDwgX2xlbjU7IF9rZXk2KyspIHtcbiAgICBhcmdzW19rZXk2IC0gM10gPSBhcmd1bWVudHNbX2tleTZdO1xuICB9XG5cbiAgaWYgKGVsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAvLyDmiYDmnInkuLvmtYHmtY/op4jlmajvvIzpmaTkuoYgSUUgOCDlj4rmm7Tml6kgSUXniYjmnKxcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyLmFwcGx5KGVsLCBbbmFtZSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTsgLy8gQHRzLWlnbm9yZVxuICB9IGVsc2UgaWYgKGVsLmF0dGFjaEV2ZW50KSB7XG4gICAgLy8gSUUgOCDlj4rmm7Tml6kgSUUg54mI5pysXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGVsLmF0dGFjaEV2ZW50LmFwcGx5KGVsLCBbXCJvblwiLmNvbmNhdChuYW1lKSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTtcbiAgfVxufVxuZnVuY3Rpb24gb2ZmRE9NKGVsLCBuYW1lLCBoYW5kbGVyKSB7XG4gIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiA+IDMgPyBfbGVuNiAtIDMgOiAwKSwgX2tleTcgPSAzOyBfa2V5NyA8IF9sZW42OyBfa2V5NysrKSB7XG4gICAgYXJnc1tfa2V5NyAtIDNdID0gYXJndW1lbnRzW19rZXk3XTtcbiAgfVxuXG4gIGlmIChlbC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgLy8g5omA5pyJ5Li75rWB5rWP6KeI5Zmo77yM6Zmk5LqGIElFIDgg5Y+K5pu05pepIElF54mI5pysXG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseShlbCwgW25hbWUsIGhhbmRsZXJdLmNvbmNhdChhcmdzKSk7IC8vIEB0cy1pZ25vcmVcbiAgfSBlbHNlIGlmIChlbC5kZXRhY2hFdmVudCkge1xuICAgIC8vIElFIDgg5Y+K5pu05pepIElFIOeJiOacrFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBlbC5kZXRhY2hFdmVudC5hcHBseShlbCwgW1wib25cIi5jb25jYXQobmFtZSksIGhhbmRsZXJdLmNvbmNhdChhcmdzKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG9uRE9NTWFueShlbHMsIG5hbWVzLCBoYW5kbGVyKSB7XG4gIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyA+IDMgPyBfbGVuNyAtIDMgOiAwKSwgX2tleTggPSAzOyBfa2V5OCA8IF9sZW43OyBfa2V5OCsrKSB7XG4gICAgYXJnc1tfa2V5OCAtIDNdID0gYXJndW1lbnRzW19rZXk4XTtcbiAgfVxuXG4gIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZWxzKSxcbiAgICAgIF9zdGVwOTtcblxuICB0cnkge1xuICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7XG4gICAgICB2YXIgZWwgPSBfc3RlcDkudmFsdWU7XG5cbiAgICAgIHZhciBfaXRlcmF0b3IxMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG5hbWVzKSxcbiAgICAgICAgICBfc3RlcDEyO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjEyLnMoKTsgIShfc3RlcDEyID0gX2l0ZXJhdG9yMTIubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBuYW1lID0gX3N0ZXAxMi52YWx1ZTtcbiAgICAgICAgICBvbkRPTS5hcHBseSh2b2lkIDAsIFtlbCwgbmFtZSwgaGFuZGxlcl0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjEyLmYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjkuZShlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIF9pdGVyYXRvcjkuZigpO1xuICB9XG5cbiAgdmFyIGRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGVscyksXG4gICAgICAgIF9zdGVwMTA7XG5cbiAgICB0cnkge1xuICAgICAgZm9yIChfaXRlcmF0b3IxMC5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm4oKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGVsID0gX3N0ZXAxMC52YWx1ZTtcblxuICAgICAgICB2YXIgX2l0ZXJhdG9yMTEgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihuYW1lcyksXG4gICAgICAgICAgICBfc3RlcDExO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IxMS5zKCk7ICEoX3N0ZXAxMSA9IF9pdGVyYXRvcjExLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gX3N0ZXAxMS52YWx1ZTtcbiAgICAgICAgICAgIG9mZkRPTShlbCwgbmFtZSwgaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IxMS5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMTEuZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IxMC5lKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIF9pdGVyYXRvcjEwLmYoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGRlc3Ryb3k7XG59XG5mdW5jdGlvbiBnZXRJbWFnZVNpemVCeVVybCh1cmwpIHtcbiAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgb25ET00oaW1hZ2UsICdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmVzb2x2ZSh7XG4gICAgICAgIHdpZHRoOiBpbWFnZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9uRE9NKGltYWdlLCAnZXJyb3InLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0pO1xuICAgIGltYWdlLnNyYyA9IHVybDtcbiAgfSk7XG59XG5mdW5jdGlvbiBmaW5kTm9kZUxpc3QobGlzdCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciBpdGVyYXRvciA9IGl0ZXJhdGVBbGwobGlzdCwge1xuICAgIHJldmVyc2U6IG9wdC5yZXZlcnNlXG4gIH0pO1xuXG4gIHZhciBfaXRlcmF0b3IxMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGl0ZXJhdG9yKSxcbiAgICAgIF9zdGVwMTM7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDEzID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykge1xuICAgICAgdmFyIF9zdGVwMTMkdmFsdWUgPSBfc3RlcDEzLnZhbHVlLFxuICAgICAgICAgIHZhbHVlID0gX3N0ZXAxMyR2YWx1ZS52YWx1ZSxcbiAgICAgICAgICBpbmRleCA9IF9zdGVwMTMkdmFsdWUuaW5kZXg7XG5cbiAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvcjEzLmUoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfaXRlcmF0b3IxMy5mKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGZpbmROb2RlTGlzdFJldmVyc2UobGlzdCwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZpbmROb2RlTGlzdChsaXN0LCBjYWxsYmFjaywge1xuICAgIHJldmVyc2U6IHRydWVcbiAgfSk7XG59XG5mdW5jdGlvbiBlbGVtZW50c0Zyb21Qb2ludCh4LCB5KSB7XG4gIHZhciBhcmdzID0gW3gsIHldOyAvLyBAdHMtaWdub3JlXG5cbiAgdmFyIGZ1bmMgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCB8fCBkb2N1bWVudC5tc0VsZW1lbnRzRnJvbVBvaW50IHx8IGVsZW1lbnRzRnJvbVBvaW50O1xuICByZXR1cm4gZnVuYy5hcHBseShkb2N1bWVudCwgYXJncyk7XG5cbiAgZnVuY3Rpb24gZWxlbWVudHNGcm9tUG9pbnQoeCwgeSkge1xuICAgIHZhciBwYXJlbnRzID0gW107XG4gICAgdmFyIHBhcmVudCA9IHZvaWQgMDtcblxuICAgIGRvIHtcbiAgICAgIGlmIChwYXJlbnQgIT09IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSkpIHtcbiAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICAgIHBhcmVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSB3aGlsZSAocGFyZW50KTtcblxuICAgIHBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICByZXR1cm4gcGFyZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJztcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyZW50cztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0T3V0ZXJBdHRhY2hlZEhlaWdodChlbCkge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgb3B0ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgbWFyZ2luOiB0cnVlLFxuICAgIGJvcmRlcjogdHJ1ZVxuICB9LCBvcHQpO1xuICB2YXIgc3RsID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIHZhciByID0gMDtcbiAgdmFyIGFyciA9IFtdO1xuXG4gIGlmIChvcHQubWFyZ2luKSB7XG4gICAgYXJyLnB1c2goJ21hcmdpbi10b3AnLCAnbWFyZ2luLWJvdHRvbScpO1xuICB9XG5cbiAgaWYgKG9wdC5ib3JkZXIpIHtcbiAgICBhcnIucHVzaCgnYm9yZGVyLXRvcC13aWR0aCcsICdib3JkZXItYm90dG9tLXdpZHRoJyk7XG4gIH1cblxuICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgciArPSBwYXJzZUZsb2F0KHN0bFtrZXldKTtcbiAgfSk7XG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gZ2V0T3V0ZXJBdHRhY2hlZFdpZHRoKGVsKSB7XG4gIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBvcHQgPSBPYmplY3QuYXNzaWduKHtcbiAgICBtYXJnaW46IHRydWUsXG4gICAgYm9yZGVyOiB0cnVlXG4gIH0sIG9wdCk7XG4gIHZhciBzdGwgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgdmFyIHIgPSAwO1xuICB2YXIgYXJyID0gW107XG5cbiAgaWYgKG9wdC5tYXJnaW4pIHtcbiAgICBhcnIucHVzaCgnbWFyZ2luLWxlZnQnLCAnbWFyZ2luLXJpZ2h0Jyk7XG4gIH1cblxuICBpZiAob3B0LmJvcmRlcikge1xuICAgIGFyci5wdXNoKCdib3JkZXItbGVmdC13aWR0aCcsICdib3JkZXItcmlnaHQtd2lkdGgnKTtcbiAgfVxuXG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByICs9IHBhcnNlRmxvYXQoc3RsW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIHI7XG59XG4vKiBzY3JvbGwgdG8gYSBwb3NpdG9uIHdpdGggZHVyYXRpb25cclxuZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9hbmRqb3NoLzY3NjQ5MzlcclxuaW50ZXJmYWNlIG9wdGlvbnN7XHJcbiAgeDogbnVtYmVyIC8vIG51bGxhYmxlLiBkb24ndCBzY3JvbGwgaG9yaXpvbnRhbGx5IHdoZW4gbnVsbFxyXG4gIHk6IG51bWJlciAvLyBudWxsYWJsZS4gZG9uJ3Qgc2Nyb2xsIHZlcnRpY2FsbHkgd2hlbiBudWxsXHJcbiAgZHVyYXRpb246IG51bWJlciAvLyBkZWZhdWx0IDBcclxuICBlbGVtZW50OiBFbGVtZW50IC8vIGRlZmF1bHQgaXMgdGhlIHRvcCBzY3JvbGxhYmxlIGVsZW1lbnQuXHJcbiAgYmVmb3JlRXZlcnlGcmFtZTogKGNvdW50OiBudW1iZXIpID0+IGJvb2xlYW58dm9pZCAvLyBjYWxsIGJlZm9yZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZXhlY3V0aW9uLiByZXR1cm4gZmFsc2UgdG8gc3RvcFxyXG59XHJcbnJldHVybiBzdG9wXHJcbiovXG5cbmZ1bmN0aW9uIHNjcm9sbFRvKG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zLmVsZW1lbnQpIHtcbiAgICBvcHRpb25zLmVsZW1lbnQgPSBkb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmR1cmF0aW9uID09IG51bGwpIHtcbiAgICBvcHRpb25zLmR1cmF0aW9uID0gMDtcbiAgfVxuXG4gIHZhciB4ID0gb3B0aW9ucy54LFxuICAgICAgeSA9IG9wdGlvbnMueSxcbiAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgIGVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XG4gIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZDtcbiAgdmFyIGNvdW50ID0gMDtcblxuICB2YXIgc3RhcnRZID0gZWxlbWVudC5zY3JvbGxUb3AsXG4gICAgICBjaGFuZ2VZID0geSAtIHN0YXJ0WSxcbiAgICAgIHN0YXJ0WCA9IGVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIGNoYW5nZVggPSB4IC0gc3RhcnRYLFxuICAgICAgc3RhcnREYXRlID0gK25ldyBEYXRlKCksXG4gICAgICBhbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24gYW5pbWF0ZVNjcm9sbCgpIHtcbiAgICBpZiAob3B0aW9ucy5iZWZvcmVFdmVyeUZyYW1lICYmIG9wdGlvbnMuYmVmb3JlRXZlcnlGcmFtZShjb3VudCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGNoYW5nZWRUaW1lID0gY3VycmVudERhdGUgLSBzdGFydERhdGU7XG5cbiAgICBpZiAoeSAhPSBudWxsKSB7XG4gICAgICBlbGVtZW50LnNjcm9sbFRvcCA9IHBhcnNlSW50KGNhbGMoc3RhcnRZLCBjaGFuZ2VZLCBjaGFuZ2VkVGltZSwgZHVyYXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoeCAhPSBudWxsKSB7XG4gICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSBwYXJzZUludChjYWxjKHN0YXJ0WCwgY2hhbmdlWCwgY2hhbmdlZFRpbWUsIGR1cmF0aW9uKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWRUaW1lIDwgZHVyYXRpb24pIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGVTY3JvbGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoeSAhPSBudWxsKSB7XG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0geTtcbiAgICAgIH1cblxuICAgICAgaWYgKHggIT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB4O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvdW50Kys7XG4gIH07XG5cbiAgdmFyIHN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RBbmltYXRpb25GcmFtZUlkKTtcbiAgfTtcblxuICBhbmltYXRlU2Nyb2xsKCk7IC8vIHJldHVybiBzdG9wXG5cbiAgcmV0dXJuIHN0b3A7XG5cbiAgZnVuY3Rpb24gY2FsYyhzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCBjaGFuZ2VkVGltZSwgZHVyYXRpb24pIHtcbiAgICByZXR1cm4gc3RhcnRWYWx1ZSArIGNoYW5nZUluVmFsdWUgKiAoY2hhbmdlZFRpbWUgLyBkdXJhdGlvbik7XG4gIH1cbn0gLy8gIyMjIERPTSBzdHJ1Y3R1cmVcblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKGVsLCB0YXJnZXQpIHtcbiAgdGFyZ2V0LnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGVsLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIoZWwsIHRhcmdldCkge1xuICB0YXJnZXQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZWwsIHRhcmdldC5uZXh0U2libGluZyk7XG59XG5mdW5jdGlvbiBwcmVwZW5kVG8oZWwsIHRhcmdldCkge1xuICB0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG59XG5mdW5jdGlvbiBhcHBlbmRUbyhlbCwgdGFyZ2V0KSB7XG4gIHRhcmdldC5hcHBlbmRDaGlsZChlbCk7XG59IC8vICMjIERhdGVcblxuZnVuY3Rpb24gY2xvbmVEYXRlKGRhdGVPYmopIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGVPYmouZ2V0VGltZSgpKTtcbn0gLy8gZGF5IGFuZCBkYXRlIGlzIHNhbWVcblxuZnVuY3Rpb24gYWRkRGF0ZShkYXRlT2JqLCBuLCB0eXBlKSB7XG4gIGlmICghWyd5ZWFyJywgJ21vbnRoJywgJ2RheScsICdkYXRlJ10uaW5jbHVkZXModHlwZSkpIHtcbiAgICB0eXBlICs9ICdzJztcbiAgfVxuXG4gIHZhciB0eXBlMiA9IHN0dWRseUNhc2UodHlwZSk7XG5cbiAgaWYgKHR5cGUyID09PSAnRGF5Jykge1xuICAgIHR5cGUyID0gJ0RhdGUnO1xuICB9XG5cbiAgdmFyIHNldEZ1bmNOYW1lID0gJ3NldCcgKyB0eXBlMjtcbiAgdmFyIGdldEZ1bmNOYW1lID0gJ2dldCcgKyB0eXBlMjtcbiAgZGF0ZU9ialtzZXRGdW5jTmFtZV0oZGF0ZU9ialtnZXRGdW5jTmFtZV0oKSArIG4pO1xuICByZXR1cm4gZGF0ZU9iajtcbn1cbmZ1bmN0aW9uIGdldE1vbnRoU3RhcnQoZGF0ZU9iaikge1xuICB2YXIgY2xvbmVkT2JqID0gY2xvbmVEYXRlKGRhdGVPYmopO1xuICBjbG9uZWRPYmouc2V0RGF0ZSgxKTtcbiAgcmV0dXJuIGNsb25lZE9iajtcbn1cbmZ1bmN0aW9uIGdldE1vbnRoRW5kKGRhdGVPYmopIHtcbiAgdmFyIHIgPSBjbG9uZURhdGUoZGF0ZU9iaik7XG4gIGFkZERhdGUociwgMSwgJ21vbnRoJyk7XG4gIHIuc2V0RGF0ZSgwKTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiBnZXRDYWxlbmRhcih5ZWFyLCBtb250aCkge1xuICB2YXIgc3RhcnRXZWVrRGF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSk7XG4gIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgdmFyIG1vbnRoU3RhcnQgPSBnZXRNb250aFN0YXJ0KGRhdGUpO1xuICB2YXIgbW9udGhTdGFydERheSA9IG1vbnRoU3RhcnQuZ2V0RGF5KCk7XG4gIHZhciBjYWxlbmRhclN0YXJ0ID0gYWRkRGF0ZShjbG9uZURhdGUobW9udGhTdGFydCksIC0obW9udGhTdGFydERheSArIHN0YXJ0V2Vla0RheSksICdkYXknKTtcblxuICBpZiAobW9udGhTdGFydERheSA+IHN0YXJ0V2Vla0RheSkge1xuICAgIHZhciBzdGFydERhdGUgPSBjYWxlbmRhclN0YXJ0LmdldERhdGUoKTtcblxuICAgIHZhciBfeWVhciA9IGNhbGVuZGFyU3RhcnQuZ2V0RnVsbFllYXIoKTtcblxuICAgIHZhciBfbW9udGggPSBjYWxlbmRhclN0YXJ0LmdldE1vbnRoKCkgKyAxO1xuXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0V2Vla0RheTsgaSA8IG1vbnRoU3RhcnREYXk7IGkrKykge1xuICAgICAgdmFyIF9kYXRlID0gc3RhcnREYXRlICsgaTtcblxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgeWVhcjogX3llYXIsXG4gICAgICAgIG1vbnRoOiBfbW9udGgsXG4gICAgICAgIGRhdGU6IF9kYXRlLFxuICAgICAgICB0ZXh0OiBfZGF0ZSxcbiAgICAgICAgcHJldk1vbnRoOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gLy9cblxuXG4gIHZhciBtb250aEVuZCA9IGdldE1vbnRoRW5kKGRhdGUpO1xuICB2YXIgbW9udGhFbmR0RGF0ZSA9IG1vbnRoRW5kLmdldERhdGUoKTtcblxuICBmb3IgKHZhciBfaTUgPSAxOyBfaTUgPD0gbW9udGhFbmR0RGF0ZTsgX2k1KyspIHtcbiAgICB2YXIgX2RhdGUyID0gX2k1O1xuICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICB5ZWFyOiB5ZWFyLFxuICAgICAgbW9udGg6IG1vbnRoLFxuICAgICAgZGF0ZTogX2RhdGUyLFxuICAgICAgdGV4dDogX2RhdGUyLFxuICAgICAgY3VycmVudE1vbnRoOiB0cnVlXG4gICAgfSk7XG4gIH0gLy9cblxuXG4gIHZhciBtb250aEVuZERheSA9IG1vbnRoRW5kLmdldERheSgpO1xuICB2YXIgZW5kV2Vla0RheSA9IDYgLSBzdGFydFdlZWtEYXk7XG5cbiAgaWYgKG1vbnRoRW5kRGF5IDwgZW5kV2Vla0RheSkge1xuICAgIHZhciBuZXh0TW9udGggPSBhZGREYXRlKGNsb25lRGF0ZShkYXRlKSwgMSwgJ21vbnRoJyk7XG5cbiAgICB2YXIgX3llYXIyID0gbmV4dE1vbnRoLmdldEZ1bGxZZWFyKCk7XG5cbiAgICB2YXIgX21vbnRoMiA9IG5leHRNb250aC5nZXRNb250aCgpICsgMTtcblxuICAgIGZvciAodmFyIF9pNiA9IG1vbnRoRW5kRGF5ICsgMSwgX2RhdGUzID0gMTsgX2k2IDw9IGVuZFdlZWtEYXk7IF9pNisrLCBfZGF0ZTMrKykge1xuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgeWVhcjogX3llYXIyLFxuICAgICAgICBtb250aDogX21vbnRoMixcbiAgICAgICAgZGF0ZTogX2RhdGUzLFxuICAgICAgICB0ZXh0OiBfZGF0ZTMsXG4gICAgICAgIG5leHRNb250aDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9IC8vXG5cblxuICByZXR1cm4gc3BsaXRBcnJheShyZXN1bHRzLCA3KTtcbn0gLy8gZWc6IDIwMTgtMDktMDdUMDM6Mzg6MzcuODg4WlxuLy8gdGltZXpvbmUgbXVzdCBiZSBVVENcblxuZnVuY3Rpb24gaXNJc29Gb3JtYXQoc3RyKSB7XG4gIHJldHVybiBCb29sZWFuKHN0ci5sZW5ndGggPiAxNSAmJiBzdHIubGVuZ3RoIDwgMzAgJiYgc3RyLm1hdGNoKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1ULipaJC8pKTtcbn0gLy8gdGltZXN0YW1wIGVnOiAyMDE4LTA5LTA3VDAzOjM4OjM3Ljg4OFpcblxuZnVuY3Rpb24gcGFyc2VJU08odGltZXN0YW1wKSB7XG4gIHZhciBfdGltZXN0YW1wJHNwbGl0ID0gdGltZXN0YW1wLnNwbGl0KCdUJyksXG4gICAgICBfdGltZXN0YW1wJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF90aW1lc3RhbXAkc3BsaXQsIDIpLFxuICAgICAgZGF0ZVBhcnQgPSBfdGltZXN0YW1wJHNwbGl0MlswXSxcbiAgICAgIHRpbWVQYXJ0ID0gX3RpbWVzdGFtcCRzcGxpdDJbMV07XG5cbiAgdmFyIHksXG4gICAgICBtLFxuICAgICAgZCxcbiAgICAgIGggPSAwLFxuICAgICAgbWluID0gMCxcbiAgICAgIHMgPSAwO1xuXG4gIHZhciBfZGF0ZVBhcnQkc3BsaXQkbWFwID0gZGF0ZVBhcnQuc3BsaXQoJy0nKS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodik7XG4gIH0pO1xuXG4gIHZhciBfZGF0ZVBhcnQkc3BsaXQkbWFwMiA9IF9zbGljZWRUb0FycmF5KF9kYXRlUGFydCRzcGxpdCRtYXAsIDMpO1xuXG4gIHkgPSBfZGF0ZVBhcnQkc3BsaXQkbWFwMlswXTtcbiAgbSA9IF9kYXRlUGFydCRzcGxpdCRtYXAyWzFdO1xuICBkID0gX2RhdGVQYXJ0JHNwbGl0JG1hcDJbMl07XG4gIG0gPSBtIC0gMTtcblxuICBpZiAodGltZVBhcnQpIHtcbiAgICB2YXIgdCA9IHRpbWVQYXJ0LnNwbGl0KCctJykubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2KTtcbiAgICB9KTtcbiAgICBoID0gdFswXTtcblxuICAgIGlmICh0WzFdICE9IG51bGwpIHtcbiAgICAgIG1pbiA9IHRbMV07XG4gICAgfVxuXG4gICAgaWYgKHRbMl0gIT0gbnVsbCkge1xuICAgICAgcyA9IHRbMl07XG4gICAgfVxuICB9XG5cbiAgdmFyIGR0ID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgbWluLCBzKTsgLy8gdGhlIGR0IHRpbWV6b25lIGlzIGN1cnJlbnQsIHNvIHJlc2V0IGhvdXIgd2l0aCBzZXRVVENIb3Vyc1xuXG4gIGR0LnNldFVUQ0hvdXJzKGgpO1xuICByZXR1cm4gZHQ7XG59XG5mdW5jdGlvbiBiaW5hcnlTZWFyY2goYXJyLCBjYWxsYmFjaykge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgb3B0ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgc3RhcnQ6IDAsXG4gICAgZW5kOiBhcnIubGVuZ3RoIC0gMSxcbiAgICBtYXhUaW1lczogMTAwMFxuICB9LCBvcHQpO1xuICB2YXIgX29wdCA9IG9wdCxcbiAgICAgIHN0YXJ0ID0gX29wdC5zdGFydCxcbiAgICAgIGVuZCA9IF9vcHQuZW5kO1xuICB2YXIgX29wdDIgPSBvcHQsXG4gICAgICByZXR1cm5OZWFyZXN0SWZOb0hpdCA9IF9vcHQyLnJldHVybk5lYXJlc3RJZk5vSGl0LFxuICAgICAgbWF4VGltZXMgPSBfb3B0Mi5tYXhUaW1lcztcbiAgdmFyIG1pZE51bTtcbiAgdmFyIG1pZDtcblxuICBpZiAoc3RhcnQgPT0gbnVsbCkge1xuICAgIHN0YXJ0ID0gMDtcbiAgICBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIHZhciBpID0gMDtcbiAgdmFyIHI7XG5cbiAgd2hpbGUgKHN0YXJ0ID49IDAgJiYgc3RhcnQgPD0gZW5kKSB7XG4gICAgaWYgKGkgPj0gbWF4VGltZXMpIHtcbiAgICAgIHRocm93IEVycm9yKFwiYmluYXJ5U2VhcmNoOiBsb29wIHRpbWVzIGlzIG92ZXIgXCIuY29uY2F0KG1heFRpbWVzLCBcIiwgeW91IGNhbiBpbmNyZWFzZSB0aGUgbGltaXQuXCIpKTtcbiAgICB9XG5cbiAgICBtaWROdW0gPSBNYXRoLmZsb29yKChlbmQgLSBzdGFydCkgLyAyICsgc3RhcnQpO1xuICAgIG1pZCA9IGFyclttaWROdW1dO1xuICAgIHIgPSBjYWxsYmFjayhtaWQsIGkpO1xuXG4gICAgaWYgKHIgPiAwKSB7XG4gICAgICBlbmQgPSBtaWROdW0gLSAxO1xuICAgIH0gZWxzZSBpZiAociA8IDApIHtcbiAgICAgIHN0YXJ0ID0gbWlkTnVtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXg6IG1pZE51bSxcbiAgICAgICAgdmFsdWU6IG1pZCxcbiAgICAgICAgY291bnQ6IGkgKyAxLFxuICAgICAgICBoaXQ6IHRydWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaSsrO1xuICB9XG5cbiAgcmV0dXJuIHJldHVybk5lYXJlc3RJZk5vSGl0ID8ge1xuICAgIGluZGV4OiBtaWROdW0sXG4gICAgdmFsdWU6IG1pZCxcbiAgICBjb3VudDogaSArIDEsXG4gICAgaGl0OiBmYWxzZSxcbiAgICBncmVhdGVyOiByID4gMFxuICB9IDogbnVsbDtcbn0gLy9cblxuZnVuY3Rpb24gd2luZG93TG9hZGVkKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsYigpLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiBvbmNlKCkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIGdsYigpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbmNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB3YWl0VGltZShtaWxsaXNlY29uZHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0sIG1pbGxpc2Vjb25kcyk7XG4gIH0pO1xufVxuZnVuY3Rpb24gd2FpdEZvcihjb25kaXRpb24pIHtcbiAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDtcbiAgdmFyIG1heFRpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDAwO1xuICB2YXIgaW50ZXJ2YWw7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICBmdW5jdGlvbiBqdWRnZSgpIHtcbiAgICAgIGlmIChjb3VudCA8PSBtYXhUaW1lcykge1xuICAgICAgICBpZiAoY29uZGl0aW9uKCkpIHtcbiAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9wKCk7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3dhaXRGb3I6IExpbWl0IGlzIHJlYWNoZWQnKSk7XG4gICAgICB9XG5cbiAgICAgIGNvdW50Kys7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICBqdWRnZSgpO1xuICAgIH0sIHRpbWUpO1xuICAgIGp1ZGdlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2U6IHByb21pc2UsXG4gICAgc3RvcDogc3RvcFxuICB9O1xuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJldHJ5KGFjdGlvbikge1xuICB2YXIgbGltaXRUaW1lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMztcbiAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICB2YXIgaW5kZXg7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQ0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpbmRleCA9IDE7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBpZiAoIShpbmRleCA8PSBsaW1pdFRpbWVzKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyO1xuICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbigpO1xuXG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0LnNlbnQpO1xuXG4gICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA4O1xuICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0W1wiY2F0Y2hcIl0oMik7XG5cbiAgICAgICAgICAgIGlmICghKGluZGV4ID09PSBsaW1pdFRpbWVzKSkge1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ0LnQwO1xuXG4gICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCA4XV0pO1xuICB9KSk7XG59IC8vIGNsaXBib2FyZC1wb2x5ZmlsbCBpcyBtb3JlIHBvd2VyZnVsXG4vLyDlpI3liLbmloflrZfliLDliarotLTmnb8uIOS7hemZkOS6jueugOWNleS9v+eUqC4g5aSN5p2C546v5aKD5o6o6I2QY2xpcGJvYXJkLXBvbHlmaWxsXG5cbmZ1bmN0aW9uIGNvcHlUZXh0VG9DbGlwYm9hcmQodGV4dCkge1xuICB0cnkge1xuICAgIC8vIHVzZSBsYXRlc3QgYXBpXG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgcmV0dXJuO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7IC8vXG4gIC8vICoqKiBUaGlzIHN0eWxpbmcgaXMgYW4gZXh0cmEgc3RlcCB3aGljaCBpcyBsaWtlbHkgbm90IHJlcXVpcmVkLiAqKipcbiAgLy9cbiAgLy8gV2h5IGlzIGl0IGhlcmU/IFRvIGVuc3VyZTpcbiAgLy8gMS4gdGhlIGVsZW1lbnQgaXMgYWJsZSB0byBoYXZlIGZvY3VzIGFuZCBzZWxlY3Rpb24uXG4gIC8vIDIuIGlmIGVsZW1lbnQgd2FzIHRvIGZsYXNoIHJlbmRlciBpdCBoYXMgbWluaW1hbCB2aXN1YWwgaW1wYWN0LlxuICAvLyAzLiBsZXNzIGZsYWt5bmVzcyB3aXRoIHNlbGVjdGlvbiBhbmQgY29weWluZyB3aGljaCAqKm1pZ2h0Kiogb2NjdXIgaWZcbiAgLy8gICAgdGhlIHRleHRhcmVhIGVsZW1lbnQgaXMgbm90IHZpc2libGUuXG4gIC8vXG4gIC8vIFRoZSBsaWtlbGlob29kIGlzIHRoZSBlbGVtZW50IHdvbid0IGV2ZW4gcmVuZGVyLCBub3QgZXZlbiBhIGZsYXNoLFxuICAvLyBzbyBzb21lIG9mIHRoZXNlIGFyZSBqdXN0IHByZWNhdXRpb25zLiBIb3dldmVyIGluIElFIHRoZSBlbGVtZW50XG4gIC8vIGlzIHZpc2libGUgd2hpbHN0IHRoZSBwb3B1cCBib3ggYXNraW5nIHRoZSB1c2VyIGZvciBwZXJtaXNzaW9uIGZvclxuICAvLyB0aGUgd2ViIHBhZ2UgdG8gY29weSB0byB0aGUgY2xpcGJvYXJkLlxuICAvL1xuICAvLyBQbGFjZSBpbiB0b3AtbGVmdCBjb3JuZXIgb2Ygc2NyZWVuIHJlZ2FyZGxlc3Mgb2Ygc2Nyb2xsIHBvc2l0aW9uLlxuXG4gIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgdGV4dEFyZWEuc3R5bGUudG9wID0gJzAnO1xuICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gJzAnOyAvLyBFbnN1cmUgaXQgaGFzIGEgc21hbGwgd2lkdGggYW5kIGhlaWdodC4gU2V0dGluZyB0byAxcHggLyAxZW1cbiAgLy8gZG9lc24ndCB3b3JrIGFzIHRoaXMgZ2l2ZXMgYSBuZWdhdGl2ZSB3L2ggb24gc29tZSBicm93c2Vycy5cblxuICB0ZXh0QXJlYS5zdHlsZS53aWR0aCA9ICcyZW0nO1xuICB0ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSAnMmVtJzsgLy8gV2UgZG9uJ3QgbmVlZCBwYWRkaW5nLCByZWR1Y2luZyB0aGUgc2l6ZSBpZiBpdCBkb2VzIGZsYXNoIHJlbmRlci5cblxuICB0ZXh0QXJlYS5zdHlsZS5wYWRkaW5nID0gJzAnOyAvLyBDbGVhbiB1cCBhbnkgYm9yZGVycy5cblxuICB0ZXh0QXJlYS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gIHRleHRBcmVhLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJzsgLy8gQXZvaWQgZmxhc2ggb2Ygd2hpdGUgYm94IGlmIHJlbmRlcmVkIGZvciBhbnkgcmVhc29uLlxuXG4gIHRleHRBcmVhLnN0eWxlLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xuICB0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xuICB0ZXh0QXJlYS5zZWxlY3QoKTtcblxuICB0cnkge1xuICAgIHZhciBzdWNjZXNzZnVsID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICB2YXIgbXNnID0gc3VjY2Vzc2Z1bCA/ICdzdWNjZXNzZnVsJyA6ICd1bnN1Y2Nlc3NmdWwnO1xuICAgIGNvbnNvbGUubG9nKCdDb3B5aW5nIHRleHQgY29tbWFuZCB3YXMgJyArIG1zZyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKCdPb3BzLCB1bmFibGUgdG8gY29weScpO1xuICB9XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XG59XG5mdW5jdGlvbiBpc1dpbmRvd0RlZmluZWQoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdyAmJiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gaXNOb2RlKCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHJldHVybiBCb29sZWFuKHR5cGVvZiBnbGIoKS5tb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIGdsYigpLm1vZHVsZS5leHBvcnRzKTtcbn1cbmZ1bmN0aW9uIGlzSUUoKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIEJvb2xlYW4od2luZG93LkFjdGl2ZVhPYmplY3QgfHwgXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93KTtcbn1cbi8qXHJcbmh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9XaW5kb3cvb3BlblxyXG5odHRwOi8vd3d3Lnczc2Nob29sLmNvbS5jbi9odG1sZG9tL21ldF93aW5fb3Blbi5hc3Ajd2luZG93ZmVhdHVyZXNcclxuKi9cblxuZnVuY3Rpb24gb3BlbldpbmRvdyh1cmwsIG5hbWUpIHtcbiAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGdsYigpLm9wZW4odXJsLCBuYW1lLCBPYmplY3Qua2V5cyhvcHQpLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBcIlwiLmNvbmNhdChrLCBcIj1cIikuY29uY2F0KG9wdFtrXSk7XG4gIH0pLmpvaW4oJywnKSk7XG59XG5mdW5jdGlvbiBvcGVuQ2VudGVyV2luZG93KHVybCwgbmFtZSwgd2lkdGgsIGhlaWdodCkge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgdmFyIHQgPSB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHRvcDogKGdsYigpLnNjcmVlbi5hdmFpbEhlaWdodCAtIDMwIC0gaGVpZ2h0KSAvIDIsXG4gICAgbGVmdDogKGdsYigpLnNjcmVlbi5hdmFpbFdpZHRoIC0gMzAgLSB3aWR0aCkgLyAyXG4gIH07XG4gIE9iamVjdC5hc3NpZ24odCwgb3B0KTtcbiAgb3BlbldpbmRvdyh1cmwsIG5hbWUsIHQpO1xufVxudmFyIFVSTEhlbHBlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFVSTEhlbHBlcihiYXNlVXJsKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVVJMSGVscGVyKTtcblxuICAgIHRoaXMuYmFzZVVybCA9ICcnOyAvLyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIHBhc3RuYW1lXG5cbiAgICB0aGlzLnNlYXJjaCA9IHt9O1xuICAgIHZhciB0ID0gZGVjb2RlVVJJKGJhc2VVcmwpLnNwbGl0KCc/Jyk7XG4gICAgdGhpcy5iYXNlVXJsID0gdFswXTtcblxuICAgIGlmICh0WzFdKSB7XG4gICAgICB0WzFdLnNwbGl0KCcmJykuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICB2YXIgdDIgPSB2LnNwbGl0KCc9Jyk7XG4gICAgICAgIF90aGlzMy5zZWFyY2hbdDJbMF1dID0gdDJbMV0gPT0gbnVsbCA/ICcnIDogZGVjb2RlVVJJQ29tcG9uZW50KHQyWzFdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhVUkxIZWxwZXIsIFt7XG4gICAga2V5OiBcImdldEhyZWZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SHJlZigpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgdCA9IFt0aGlzLmJhc2VVcmxdO1xuICAgICAgdmFyIHNlYXJjaFN0ciA9IE9iamVjdC5rZXlzKHRoaXMuc2VhcmNoKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGssIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzNC5zZWFyY2hba10pKTtcbiAgICAgIH0pLmpvaW4oJyYnKTtcblxuICAgICAgaWYgKHNlYXJjaFN0cikge1xuICAgICAgICB0LnB1c2goc2VhcmNoU3RyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHQuam9pbignPycpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBVUkxIZWxwZXI7XG59KCk7XG4vKiByZXNvbHZlIGFyZ3VtZW50cyB0byBoZWxwIG92ZXJsb2FkLiDop6PmnpDlh73mlbDlj4LmlbAsIOW4ruWKqemHjei9vVxyXG5gYGBqc1xyXG50eXBlcyBlZzogWydPYmplY3QnLCAoaSkgPT4gaSA+IDMsIFsnTnVtYmVyJywgZGVmYXVsdF0sIG51bGwgXVxyXG5udWxsIHJlcHJlc2VudCBhbGwgdHlwZXMgb2YgYXJndW1lbnRcclxucmVzb2x2ZUFyZ3NCeVR5cGUoWzEsJ3N0ciddLCBbJ051bWJlcicsICdCb29sZWFuJyAsJ1N0cmluZyddKSAtPiBbMSwgbnVsbCwgJ3N0ciddXHJcbnJlc29sdmVBcmdzQnlUeXBlKFsxLCdzdHInXSwgWydOdW1iZXInLCBbJ0Jvb2xlYW4nLCB0cnVlXSAsJ1N0cmluZyddKSAtPiBbMSwgdHJ1ZSwgJ3N0ciddXHJcbmBgYFxyXG4qL1xuXG5mdW5jdGlvbiByZXNvbHZlQXJnc0J5VHlwZShhcmdzLCB0eXBlcykge1xuICB2YXIgYXJnSW5kZXggPSAwO1xuICByZXR1cm4gdHlwZXMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgLy8gbWFrZSBydWxlXG4gICAgdmFyIHJ1bGUsIGRmdDtcblxuICAgIGlmIChpc0FycmF5KHYpKSB7XG4gICAgICBydWxlID0gdlswXTtcbiAgICAgIGRmdCA9IHZbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJ1bGUgPSB2O1xuICAgICAgZGZ0ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghaXNGdW5jdGlvbihydWxlKSkge1xuICAgICAgaWYgKHJ1bGUgPT0gbnVsbCkge1xuICAgICAgICBydWxlID0gZnVuY3Rpb24gcnVsZSgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ID0gcnVsZTtcblxuICAgICAgICBydWxlID0gZnVuY3Rpb24gcnVsZSh4KSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IFwiLmNvbmNhdCh0LCBcIl1cIik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFyZyA9IGFyZ3NbYXJnSW5kZXhdO1xuXG4gICAgaWYgKHJ1bGUoYXJnKSkge1xuICAgICAgYXJnSW5kZXgrKztcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZnQ7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG1ha2VTdG9yYWdlSGVscGVyKHN0b3JhZ2UpIHtcbiAgcmV0dXJuIHtcbiAgICBzdG9yYWdlOiBzdG9yYWdlLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5hbWUsIHZhbHVlLCBtaW51dGVzKSB7XG4gICAgICAvLyBzZXQgbnVsbCBjYW4gcmVtb3ZlIGEgaXRlbVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIGV4cGlyZWRfYXQ6IG1pbnV0ZXMgPyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MCAqIDEwMDAgOiBudWxsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0obmFtZSk7XG5cbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHQgPSBKU09OLnBhcnNlKHQpO1xuXG4gICAgICAgIGlmICghdC5leHBpcmVkX2F0IHx8IHQuZXhwaXJlZF9hdCA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UyKCkge1xuICBpZiAoIXN0b3JlLmxvY2FsU3RvcmFnZTIpIHtcbiAgICBzdG9yZS5sb2NhbFN0b3JhZ2UyID0gbWFrZVN0b3JhZ2VIZWxwZXIobG9jYWxTdG9yYWdlKTtcbiAgfVxuXG4gIHJldHVybiBzdG9yZS5sb2NhbFN0b3JhZ2UyO1xufVxuZnVuY3Rpb24gZ2V0U2Vzc2lvblN0b3JhZ2UyKCkge1xuICBpZiAoIXN0b3JlLnNlc3Npb25TdG9yYWdlMikge1xuICAgIHN0b3JlLnNlc3Npb25TdG9yYWdlMiA9IG1ha2VTdG9yYWdlSGVscGVyKGdsYigpLnNlc3Npb25TdG9yYWdlKTtcbiAgfVxuXG4gIHJldHVybiBzdG9yZS5zZXNzaW9uU3RvcmFnZTI7XG59IC8vIOS6i+S7tuWkhOeQhlxuXG52YXIgRXZlbnRQcm9jZXNzb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFdmVudFByb2Nlc3NvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRQcm9jZXNzb3IpO1xuXG4gICAgdGhpcy5ldmVudFN0b3JlID0gW107XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRXZlbnRQcm9jZXNzb3IsIFt7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKG5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIHRoaXMuZXZlbnRTdG9yZS5wdXNoKHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgaGFuZGxlcjogaGFuZGxlclxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShuYW1lLCBoYW5kbGVyKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIG9mZiA9IGZ1bmN0aW9uIG9mZigpIHtcbiAgICAgICAgX3RoaXM1Lm9mZihuYW1lLCB3cmFwcGVkSGFuZGxlcik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgd3JhcHBlZEhhbmRsZXIgPSBmdW5jdGlvbiB3cmFwcGVkSGFuZGxlcigpIHtcbiAgICAgICAgaGFuZGxlci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgIG9mZigpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vbihuYW1lLCB3cmFwcGVkSGFuZGxlcik7XG4gICAgICByZXR1cm4gb2ZmO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbmNlVGltZW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlVGltZW91dChuYW1lLCBoYW5kbGVyLCB0aW1lb3V0KSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIG9mZjtcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgd3JhcHBlZEhhbmRsZXIgPSBmdW5jdGlvbiB3cmFwcGVkSGFuZGxlcigpIHtcbiAgICAgICAgICBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgb2ZmID0gX3RoaXM2Lm9uY2UobmFtZSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgICAgICB3YWl0VGltZSh0aW1lb3V0KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvZmYoKTtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG9mZjIgPSBmdW5jdGlvbiBvZmYyKCkge1xuICAgICAgICBvZmYgJiYgb2ZmKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBvZmY6IG9mZjIsXG4gICAgICAgIHByb21pc2U6IHByb21pc2VcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYobmFtZSwgaGFuZGxlcikge1xuICAgICAgdmFyIGluZGV4ZXMgPSBbXTsgLy8gdG8gcmVtb3ZlIGluZGV4ZXM7IHJldmVyc2U7IOWAkuW6j+eahFxuXG4gICAgICB2YXIgbGVuID0gdGhpcy5ldmVudFN0b3JlLmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuZXZlbnRTdG9yZVtpXTtcblxuICAgICAgICBpZiAoaXRlbS5uYW1lID09PSBuYW1lICYmIGl0ZW0uaGFuZGxlciA9PT0gaGFuZGxlcikge1xuICAgICAgICAgIGluZGV4ZXMudW5zaGlmdChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaTcgPSAwLCBfaW5kZXhlcyA9IGluZGV4ZXM7IF9pNyA8IF9pbmRleGVzLmxlbmd0aDsgX2k3KyspIHtcbiAgICAgICAgdmFyIGluZGV4ID0gX2luZGV4ZXNbX2k3XTtcbiAgICAgICAgdGhpcy5ldmVudFN0b3JlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdChuYW1lKSB7XG4gICAgICAvLyDph43opoE6IOWFiOaJvuWIsOimgeaJp+ihjOeahOmhueaUvuWcqOaWsOaVsOe7hOmHjCwg5Zug5Li65omn6KGM6aG55Lya5pS55Y+Y5LqL5Lu26aG55a2Y5YKo5pWw57uEXG4gICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjE0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5ldmVudFN0b3JlKSxcbiAgICAgICAgICBfc3RlcDE0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjE0LnMoKTsgIShfc3RlcDE0ID0gX2l0ZXJhdG9yMTQubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfaXRlbSA9IF9zdGVwMTQudmFsdWU7XG5cbiAgICAgICAgICBpZiAoX2l0ZW0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgaXRlbXMucHVzaChfaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yMTQuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMTQuZigpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuOCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjggPiAxID8gX2xlbjggLSAxIDogMCksIF9rZXk5ID0gMTsgX2tleTkgPCBfbGVuODsgX2tleTkrKykge1xuICAgICAgICBhcmdzW19rZXk5IC0gMV0gPSBhcmd1bWVudHNbX2tleTldO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaTggPSAwLCBfaXRlbXMgPSBpdGVtczsgX2k4IDwgX2l0ZW1zLmxlbmd0aDsgX2k4KyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBfaXRlbXNbX2k4XTtcbiAgICAgICAgaXRlbS5oYW5kbGVyLmFwcGx5KGl0ZW0sIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBFdmVudFByb2Nlc3Nvcjtcbn0oKTtcbnZhciBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRXZlbnRQcm9jZXNzb3IpIHtcbiAgX2luaGVyaXRzKENyb3NzV2luZG93RXZlbnRQcm9jZXNzb3IsIF9FdmVudFByb2Nlc3Nvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yKTtcblxuICAvLyBpZFxuICBmdW5jdGlvbiBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yKG9wdCkge1xuICAgIHZhciBfdGhpczc7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ3Jvc3NXaW5kb3dFdmVudFByb2Nlc3Nvcik7XG5cbiAgICBfdGhpczcgPSBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICBfdGhpczcuc3RvcmFnZU5hbWUgPSAnX2Nyb3NzV2luZG93JztcbiAgICBfdGhpczcud2luZG93cyA9IFtdO1xuICAgIF90aGlzNy50aW1lb3V0ID0gMjAwO1xuICAgIF90aGlzNy5CUk9BRENBU1QgPSAnX19CUk9BRENBU1RfXyc7XG5cbiAgICBpZiAob3B0KSB7XG4gICAgICBPYmplY3QuYXNzaWduKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM3KSwgb3B0KTtcbiAgICB9XG5cbiAgICBvbkRPTSh3aW5kb3csICdzdG9yYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICBpZiAoZXYua2V5ID09PSBfdGhpczcuc3RvcmFnZU5hbWUpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShldi5uZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKCFldmVudC50YXJnZXRzIHx8IGV2ZW50LnRhcmdldHMuaW5jbHVkZXMoX3RoaXM3LmlkKSkge1xuICAgICAgICAgIHZhciBfdGhpczg7XG5cbiAgICAgICAgICAoX3RoaXM4ID0gX3RoaXM3KS5lbWl0TG9jYWwuYXBwbHkoX3RoaXM4LCBbZXZlbnQubmFtZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShldmVudC5hcmdzKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vIHNvY2lhbCBwYXJ0cyDpm4bkvZPpg6jliIZcbiAgICAvLyBqb2luXG5cbiAgICBfdGhpczcuaWQgPSByYW5kU3RyaW5nKCk7XG4gICAgX3RoaXM3LndpbmRvd3MgPSBbX3RoaXM3LmlkXTtcbiAgICBfdGhpczcucmVhZHkgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpczcub25jZVRpbWVvdXQoJ193aW5kb3dzX3VwZGF0ZWQnLCBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIgd2luZG93cyA9IF9yZWYud2luZG93cztcbiAgICAgICAgX3RoaXM3LndpbmRvd3MgPSB3aW5kb3dzO1xuICAgICAgfSwgX3RoaXM3LnRpbWVvdXQpLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc29sdmUoKTsgLy8gcmVzcG9uc2VkIOiiq+WTjeW6lFxuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBubyByZXNwb25zZSDml6Dlk43lupRcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzNy5icm9hZGNhc3QoJ19qb2luJywgX3RoaXM3LmlkKTtcbiAgICB9KTtcblxuICAgIF90aGlzNy5yZWFkeS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG9uIGpvaW5cbiAgICAgIF90aGlzNy5vbignX2pvaW4nLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgX3RoaXM3LndpbmRvd3MucHVzaChpZCk7XG5cbiAgICAgICAgaWYgKF90aGlzNy5pc01haW4oKSkge1xuICAgICAgICAgIF90aGlzNy5icm9hZGNhc3QoJ193aW5kb3dzX3VwZGF0ZWQnLCB7XG4gICAgICAgICAgICB3aW5kb3dzOiBfdGhpczcud2luZG93cyxcbiAgICAgICAgICAgIHR5cGU6ICdqb2luJyxcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTsgLy8gb24gX3dpbmRvd3NfdXBkYXRlZFxuXG5cbiAgICAgIF90aGlzNy5vbignX3dpbmRvd3NfdXBkYXRlZCcsIGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgd2luZG93cyA9IF9yZWYyLndpbmRvd3M7XG4gICAgICAgIF90aGlzNy53aW5kb3dzID0gd2luZG93cztcbiAgICAgIH0pOyAvLyBvbiBleGl0XG5cblxuICAgICAgX3RoaXM3Lm9uKCdfZXhpdCcsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgb2xkTWFpbiA9IF90aGlzNy53aW5kb3dzWzBdO1xuICAgICAgICBhcnJheVJlbW92ZShfdGhpczcud2luZG93cywgaWQpO1xuXG4gICAgICAgIGlmIChfdGhpczcuaXNNYWluKCkpIHtcbiAgICAgICAgICBfdGhpczcuZW1pdCgnX3dpbmRvd3NfdXBkYXRlZCcsIHtcbiAgICAgICAgICAgIHdpbmRvd3M6IF90aGlzNy53aW5kb3dzLFxuICAgICAgICAgICAgdHlwZTogJ2V4aXQnLFxuICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAob2xkTWFpbiAhPSBfdGhpczcuaWQpIHtcbiAgICAgICAgICAgIF90aGlzNy5lbWl0KCdfbWFpbl91cGRhdGVkJywge1xuICAgICAgICAgICAgICB3aW5kb3dzOiBfdGhpczcud2luZG93cyxcbiAgICAgICAgICAgICAgb2xkOiBvbGRNYWluLFxuICAgICAgICAgICAgICAnbmV3JzogX3RoaXM3LmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBvbkRPTSh3aW5kb3csICdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNy5leGl0R3JvdXAoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF90aGlzNztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yLCBbe1xuICAgIGtleTogXCJpc01haW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNNYWluKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQgPT09IHRoaXMud2luZG93c1swXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFRvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXRUbyhuYW1lLCB0YXJnZXRzKSB7XG4gICAgICBmb3IgKHZhciBfbGVuOSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjkgPiAyID8gX2xlbjkgLSAyIDogMCksIF9rZXkxMCA9IDI7IF9rZXkxMCA8IF9sZW45OyBfa2V5MTArKykge1xuICAgICAgICBhcmdzW19rZXkxMCAtIDJdID0gYXJndW1lbnRzW19rZXkxMF07XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXRzID09PSB0aGlzLkJST0FEQ0FTVCkge1xuICAgICAgICB0YXJnZXRzID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YXJnZXRzICYmICFpc0FycmF5KHRhcmdldHMpKSB7XG4gICAgICAgICAgdGFyZ2V0cyA9IFt0YXJnZXRzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRzLmluY2x1ZGVzKHRoaXMuaWQpKSB7XG4gICAgICAgICAgdmFyIF9nZXQyO1xuXG4gICAgICAgICAgKF9nZXQyID0gX2dldChfZ2V0UHJvdG90eXBlT2YoQ3Jvc3NXaW5kb3dFdmVudFByb2Nlc3Nvci5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzLCBuYW1lXS5jb25jYXQoYXJncykpOyAvLyBlbWl0IHRvIGN1cnJlbnQgd2luZG93XG5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBnbGIoKS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VOYW1lLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHRhcmdldHM6IHRhcmdldHMsXG4gICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgIC8vIHVzZSByYW5kb20gbWFrZSBzdG9yYWdlIGV2ZW50IHRyaWdnZXJlZCBldmVyeSB0aW1lXG4gICAgICAgIC8vIOWKoOWFpemaj+acuuS/neivgeinpuWPkXN0b3JhZ2Xkuovku7ZcbiAgICAgICAgcmFuZG9tOiBNYXRoLnJhbmRvbSgpXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtaXRMb2NhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0TG9jYWwobmFtZSkge1xuICAgICAgZm9yICh2YXIgX2xlbjEwID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMTAgPiAxID8gX2xlbjEwIC0gMSA6IDApLCBfa2V5MTEgPSAxOyBfa2V5MTEgPCBfbGVuMTA7IF9rZXkxMSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTExIC0gMV0gPSBhcmd1bWVudHNbX2tleTExXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0VG8uYXBwbHkodGhpcywgW25hbWUsIHRoaXMuaWRdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImJyb2FkY2FzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBicm9hZGNhc3QobmFtZSkge1xuICAgICAgZm9yICh2YXIgX2xlbjExID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMTEgPiAxID8gX2xlbjExIC0gMSA6IDApLCBfa2V5MTIgPSAxOyBfa2V5MTIgPCBfbGVuMTE7IF9rZXkxMisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTEyIC0gMV0gPSBhcmd1bWVudHNbX2tleTEyXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0VG8uYXBwbHkodGhpcywgW25hbWUsIHRoaXMuQlJPQURDQVNUXS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbWl0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQobmFtZSkge1xuICAgICAgZm9yICh2YXIgX2xlbjEyID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMTIgPiAxID8gX2xlbjEyIC0gMSA6IDApLCBfa2V5MTMgPSAxOyBfa2V5MTMgPCBfbGVuMTI7IF9rZXkxMysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTEzIC0gMV0gPSBhcmd1bWVudHNbX2tleTEzXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0VG8uYXBwbHkodGhpcywgW25hbWUsIHRoaXMud2luZG93c10uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpdEdyb3VwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4aXRHcm91cCgpIHtcbiAgICAgIHRoaXMuYnJvYWRjYXN0KCdfZXhpdCcsIHRoaXMuaWQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDcm9zc1dpbmRvd0V2ZW50UHJvY2Vzc29yO1xufShFdmVudFByb2Nlc3Nvcik7IC8vIERlcHJlY2F0ZWQgaW4gbmV4dCB2ZXJzaW9uXG5cbnZhciBDcm9zc1dpbmRvdyA9IENyb3NzV2luZG93RXZlbnRQcm9jZXNzb3I7IC8vIG9uIGNvbnRpbnVvdXMgaW5wdXQuIHJldHVybiBkZXN0cm95XG4vLyDnm5HlkKzov57nu63ovpPlhaXkuovku7YuIOi/lOWbnuWPlua2iOebkeWQrOWHveaVsC5cblxuZnVuY3Rpb24gb25Db250aW51b3VzSW5wdXQoaGFuZGxlcikge1xuICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgb3B0ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgdGltZW91dDogMTAwMFxuICB9LCBvcHQpO1xuICB2YXIgaW5wdXQgPSAnJztcbiAgdmFyIHRpbWVvdXRJZDtcblxuICB2YXIga2V5ZG93bkhhbmRsZXIgPSBmdW5jdGlvbiBrZXlkb3duSGFuZGxlcihlKSB7XG4gICAgaWYgKGUua2V5ICYmIGUua2V5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgaW5wdXQgPSBcIlwiLmNvbmNhdChpbnB1dCkuY29uY2F0KGUua2V5KTtcbiAgICAgIGhhbmRsZXIoaW5wdXQpO1xuXG4gICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5wdXQgPSAnJztcbiAgICAgIH0sIG9wdC50aW1lb3V0KTtcbiAgICB9XG4gIH07XG5cbiAgb25ET00oZG9jdW1lbnQsICdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG9mZkRPTShkb2N1bWVudCwgJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gIH07XG59IC8vIHJlZmVyIFtvbkNvbnRpbnVvdXNJbnB1dF0oI29uQ29udGludW91c0lucHV0KVxuXG52YXIgb25RdWlja0tleWRvd24gPSBvbkNvbnRpbnVvdXNJbnB1dDtcbmZ1bmN0aW9uIGdldFVzZXJMYW5ndWFnZSgpIHtcbiAgLy8gQHRzLWlnbm9yZVxuICByZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlIHx8IG5hdmlnYXRvci51c2VyTGFuZ3VhZ2U7XG59XG52YXIgQ2FjaGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYWNoZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FjaGUpO1xuXG4gICAgdGhpcy5zdG9yZSA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhY2hlLCBbe1xuICAgIGtleTogXCJoYXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1lbWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1lbWJlcihuYW1lLCBnZXR0ZXIpIHtcbiAgICAgIGlmICghdGhpcy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhpcy5zdG9yZVtuYW1lXSA9IHtcbiAgICAgICAgICB2YWx1ZTogZ2V0dGVyKClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmVbbmFtZV0udmFsdWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JnZXQobmFtZSkge1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3RvcmVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2FjaGU7XG59KCk7IC8vIGF0dGFjaCBjYWNoZWQgZ2V0dGVycyB0byBhbiBvYmplY3Q7IGNhbiBhdHRhY2ggdG8gc2VsZlxuXG5mdW5jdGlvbiBhdHRhY2hDYWNoZShvYmosIHRvQ2FjaGUpIHtcbiAgdmFyIGNhY2hlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBuZXcgQ2FjaGUoKTtcblxuICB2YXIgX2xvb3AzID0gZnVuY3Rpb24gX2xvb3AzKGtleSkge1xuICAgIHZhciBnZXR0ZXIgPSB0b0NhY2hlW2tleV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlLnJlbWVtYmVyKGtleSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChfdGhpczkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gdG9DYWNoZSkge1xuICAgIF9sb29wMyhrZXkpO1xuICB9XG59IC8vIGZvciBhbmltYXRpb25cblxuZnVuY3Rpb24gZWFzZUluT3V0UXVhZChzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCBjaGFuZ2VkVGltZSwgZHVyYXRpb24pIHtcbiAgdmFyIHQgPSBjaGFuZ2VkVGltZSxcbiAgICAgIGQgPSBkdXJhdGlvbixcbiAgICAgIGIgPSBzdGFydFZhbHVlLFxuICAgICAgYyA9IGNoYW5nZUluVmFsdWU7XG4gIHQgLz0gZCAvIDI7XG4gIGlmICh0IDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICB0LS07XG4gIHJldHVybiAtYyAvIDIgKiAodCAqICh0IC0gMikgLSAxKSArIGI7XG59XG5cbmV4cG9ydCB7IENhY2hlLCBDcm9zc1dpbmRvdywgQ3Jvc3NXaW5kb3dFdmVudFByb2Nlc3NvciwgRXZlbnRQcm9jZXNzb3IsIFRyZWVEYXRhLCBVUkxIZWxwZXIsIGFkZENsYXNzLCBhZGREYXRlLCBhcHBlbmRUbywgYXJyYXlBdCwgYXJyYXlEaXN0aW5jdCwgYXJyYXlGaXJzdCwgYXJyYXlGbGF0LCBhcnJheUdldFJhbmdlLCBhcnJheUxhc3QsIGFycmF5UmVtb3ZlLCBhcnJheVJlbW92ZUJ5U29ydGVkSW5kZXhlcywgYXJyYXlTdWJ0cmFjdCwgYXJyYXlXaXRob3V0RW5kLCBhc3NpZ25JZkRpZmZlcmVudCwgYXR0YWNoQ2FjaGUsIGJhY2t1cEF0dHIsIGJpbmFyeVNlYXJjaCwgY2FtZWxDYXNlLCBjYW1lbFRvV29yZHMsIGNsb25lRGF0ZSwgY29weVRleHRUb0NsaXBib2FyZCwgY3JlYXRlRWxlbWVudEZyb21IVE1MLCBkZWJvdW5jZUltbWVkaWF0ZSwgZGVib3VuY2VUcmFpbGluZywgZGVwdGhGaXJzdFNlYXJjaCwgZWFzZUluT3V0UXVhZCwgZWxlbWVudHNGcm9tUG9pbnQsIGVtcHR5LCBleGVjdXRlUHJvbWlzZUdldHRlcnMsIGV4ZWN1dGVXaXRoQ291bnQsIGZpbmROb2RlTGlzdCwgZmluZE5vZGVMaXN0UmV2ZXJzZSwgZmluZFBhcmVudCwgZ2V0QXJyYXlJdGVtU2libGluZywgZ2V0QXJyYXlJdGVtU2libGluZ3MsIGdldEJvcmRlciwgZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBnZXRDYWxlbmRhciwgZ2V0RWxTaXplRXZlbkludmlzaWJsZSwgZ2V0SW1hZ2VTaXplQnlVcmwsIGdldExvY2FsU3RvcmFnZTIsIGdldE1vbnRoRW5kLCBnZXRNb250aFN0YXJ0LCBnZXRPZmZzZXQsIGdldE9mZnNldFBhcmVudCwgZ2V0T3V0ZXJBdHRhY2hlZEhlaWdodCwgZ2V0T3V0ZXJBdHRhY2hlZFdpZHRoLCBnZXRQb3NpdGlvbiwgZ2V0UG9zaXRpb25Gcm9tT2Zmc2V0LCBnZXRTY3JvbGwsIGdldFNlc3Npb25TdG9yYWdlMiwgZ2V0VXJsUGFyYW0sIGdldFVzZXJMYW5ndWFnZSwgZ2V0Vmlld3BvcnRQb3NpdGlvbiwgZ2xiLCBncm91cEFycmF5LCBoYXNDbGFzcywgaW5zZXJ0QWZ0ZXIsIGluc2VydEJlZm9yZSwgaXNBcnJheSwgaXNCb29sLCBpc0Rlc2NlbmRhbnRPZiwgaXNEb2N1bWVudEV4aXN0ZWQsIGlzRnVuY3Rpb24sIGlzSUUsIGlzSXNvRm9ybWF0LCBpc05vZGUsIGlzTnVtYmVyLCBpc051bWVyaWMsIGlzT2JqZWN0LCBpc09mZnNldEluRWwsIGlzUHJvbWlzZSwgaXNTdHJpbmcsIGlzV2luZG93RGVmaW5lZCwgaXRlcmF0ZUFsbCwgam9pbkZ1bmN0aW9uc0J5TmV4dCwgam9pbkZ1bmN0aW9uc0J5UmVzdWx0LCBrZWJhYkNhc2UsIG1ha2VTdG9yYWdlSGVscGVyLCBtYXBPYmplY3RUcmVlLCBtYXBPYmplY3RzLCBuZXdBcnJheUV4Y2x1ZGluZ0luZGV4ZXMsIG5vdEdyZWF0ZXJUaGFuLCBub3RMZXNzVGhhbiwgb2JqZWN0QXNzaWduSWZLZXlOdWxsLCBvYmplY3RFeGNlcHQsIG9iamVjdEdldCwgb2JqZWN0TWFwLCBvYmplY3RPbmx5LCBvYmplY3RTZXQsIG9mZkRPTSwgb2Zmc2V0VG9WaWV3cG9ydFBvc2l0aW9uLCBvbkNvbnRpbnVvdXNJbnB1dCwgb25ET00sIG9uRE9NTWFueSwgb25RdWlja0tleWRvd24sIG9wZW5DZW50ZXJXaW5kb3csIG9wZW5XaW5kb3csIHBhaXJSb3dzLCBwYXJzZUlTTywgcHJlcGVuZFRvLCBwcm9taXNlVGltZW91dCwgcmFuZENob2ljZSwgcmFuZEludCwgcmFuZFN0cmluZywgcmVtb3ZlQ2xhc3MsIHJlbW92ZUVsLCByZXNvbHZlQXJnc0J5VHlwZSwgcmVzb2x2ZVZhbHVlT3JHZXR0dGVyLCByZXN0b3JlQXR0ciwgcmV0cnksIHNjcm9sbFRvLCBzZXRFbENoaWxkQnlJbmRleCwgc25ha2VDYXNlLCBzcGxpdEFycmF5LCBzdG9yZSwgc3RyUGFkLCBzdHVkbHlDYXNlLCB0aXRsZUNhc2UsIHRvQXJyYXlJZk5vdCwgdW5pcXVlSWQsIHVuc2V0LCB2aWV3cG9ydFBvc2l0aW9uVG9PZmZzZXQsIHdhaXRGb3IsIHdhaXRUaW1lLCB3YWxrVHJlZURhdGEsIHdhdGNoQ2hhbmdlLCB3aW5kb3dMb2FkZWQgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/helper-js/dist/helper-js.esm.js\n");

/***/ }),

/***/ "./node_modules/vue-functions/node_modules/regenerator-runtime/runtime.js":
/*!********************************************************************************!*\
  !*** ./node_modules/vue-functions/node_modules/regenerator-runtime/runtime.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLWZ1bmN0aW9ucy9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzP2E1MmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEtBQUs7QUFDTCxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxjQUFjO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBMEIsb0JBQW9CLFNBQUU7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbnMvbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCBhbmQgb3V0ZXJGbi5wcm90b3R5cGUgaXMgYSBHZW5lcmF0b3IsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIHByb3RvR2VuZXJhdG9yID0gb3V0ZXJGbiAmJiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IG91dGVyRm4gOiBHZW5lcmF0b3I7XG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgICB2YXIgY29udGV4dCA9IG5ldyBDb250ZXh0KHRyeUxvY3NMaXN0IHx8IFtdKTtcblxuICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMuXG4gICAgZ2VuZXJhdG9yLl9pbnZva2UgPSBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRvcjtcbiAgfVxuICBleHBvcnRzLndyYXAgPSB3cmFwO1xuXG4gIC8vIFRyeS9jYXRjaCBoZWxwZXIgdG8gbWluaW1pemUgZGVvcHRpbWl6YXRpb25zLiBSZXR1cm5zIGEgY29tcGxldGlvblxuICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGRcbiAgLy8gaGF2ZSBiZWVuIChhbmQgd2FzIHByZXZpb3VzbHkpIGRlc2lnbmVkIHRvIHRha2UgYSBjbG9zdXJlIHRvIGJlXG4gIC8vIGludm9rZWQgd2l0aG91dCBhcmd1bWVudHMsIGJ1dCBpbiBhbGwgdGhlIGNhc2VzIHdlIGNhcmUgYWJvdXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZFxuICAvLyB0byBjcmVhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0LiBXZSBjYW4gZXZlbiBnZXQgYXdheSB3aXRoIGFzc3VtaW5nXG4gIC8vIHRoZSBtZXRob2QgdGFrZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIHNpbmNlIHRoYXQgaGFwcGVucyB0byBiZSB0cnVlXG4gIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZVxuICAvLyBvbmx5IGFkZGl0aW9uYWwgYWxsb2NhdGlvbiByZXF1aXJlZCBpcyB0aGUgY29tcGxldGlvbiByZWNvcmQsIHdoaWNoXG4gIC8vIGhhcyBhIHN0YWJsZSBzaGFwZSBhbmQgc28gaG9wZWZ1bGx5IHNob3VsZCBiZSBjaGVhcCB0byBhbGxvY2F0ZS5cbiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogZm4uY2FsbChvYmosIGFyZykgfTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiBlcnIgfTtcbiAgICB9XG4gIH1cblxuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9IFwic3VzcGVuZGVkU3RhcnRcIjtcbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSBcInN1c3BlbmRlZFlpZWxkXCI7XG4gIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9IFwiZXhlY3V0aW5nXCI7XG4gIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9IFwiY29tcGxldGVkXCI7XG5cbiAgLy8gUmV0dXJuaW5nIHRoaXMgb2JqZWN0IGZyb20gdGhlIGlubmVyRm4gaGFzIHRoZSBzYW1lIGVmZmVjdCBhc1xuICAvLyBicmVha2luZyBvdXQgb2YgdGhlIGRpc3BhdGNoIHN3aXRjaCBzdGF0ZW1lbnQuXG4gIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307XG5cbiAgLy8gRHVtbXkgY29uc3RydWN0b3IgZnVuY3Rpb25zIHRoYXQgd2UgdXNlIGFzIHRoZSAuY29uc3RydWN0b3IgYW5kXG4gIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvclxuICAvLyBvYmplY3RzLiBGb3IgZnVsbCBzcGVjIGNvbXBsaWFuY2UsIHlvdSBtYXkgd2lzaCB0byBjb25maWd1cmUgeW91clxuICAvLyBtaW5pZmllciBub3QgdG8gbWFuZ2xlIHRoZSBuYW1lcyBvZiB0aGVzZSB0d28gZnVuY3Rpb25zLlxuICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cblxuICAvLyBUaGlzIGlzIGEgcG9seWZpbGwgZm9yICVJdGVyYXRvclByb3RvdHlwZSUgZm9yIGVudmlyb25tZW50cyB0aGF0XG4gIC8vIGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuICBJdGVyYXRvclByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7XG4gIGlmIChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAmJlxuICAgICAgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgIT09IE9wICYmXG4gICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7XG4gICAgLy8gVGhpcyBlbnZpcm9ubWVudCBoYXMgYSBuYXRpdmUgJUl0ZXJhdG9yUHJvdG90eXBlJTsgdXNlIGl0IGluc3RlYWRcbiAgICAvLyBvZiB0aGUgcG9seWZpbGwuXG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9XG4gICAgR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHcC5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uO1xuICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZVt0b1N0cmluZ1RhZ1N5bWJvbF0gPVxuICAgIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIGV4cG9ydHMubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgICAgaWYgKCEodG9TdHJpbmdUYWdTeW1ib2wgaW4gZ2VuRnVuKSkge1xuICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-functions/node_modules/regenerator-runtime/runtime.js\n");

/***/ }),

/***/ "./node_modules/vue-runtime-helpers/dist/normalize-component.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/vue-runtime-helpers/dist/normalize-component.mjs ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (normalizeComponent);\n//# sourceMappingURL=normalize-component.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnVlLXJ1bnRpbWUtaGVscGVycy9kaXN0L25vcm1hbGl6ZS1jb21wb25lbnQubWpzP2QwM2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUY7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsaUZBQWtCLEVBQUM7QUFDbEMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLXJ1bnRpbWUtaGVscGVycy9kaXN0L25vcm1hbGl6ZS1jb21wb25lbnQubWpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50KHRlbXBsYXRlLCBzdHlsZSwgc2NyaXB0LCBzY29wZUlkLCBpc0Z1bmN0aW9uYWxUZW1wbGF0ZSwgbW9kdWxlSWRlbnRpZmllciAvKiBzZXJ2ZXIgb25seSAqLywgc2hhZG93TW9kZSwgY3JlYXRlSW5qZWN0b3IsIGNyZWF0ZUluamVjdG9yU1NSLCBjcmVhdGVJbmplY3RvclNoYWRvdykge1xyXG4gICAgaWYgKHR5cGVvZiBzaGFkb3dNb2RlICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgICBjcmVhdGVJbmplY3RvclNTUiA9IGNyZWF0ZUluamVjdG9yO1xyXG4gICAgICAgIGNyZWF0ZUluamVjdG9yID0gc2hhZG93TW9kZTtcclxuICAgICAgICBzaGFkb3dNb2RlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBWdWUuZXh0ZW5kIGNvbnN0cnVjdG9yIGV4cG9ydCBpbnRlcm9wLlxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHR5cGVvZiBzY3JpcHQgPT09ICdmdW5jdGlvbicgPyBzY3JpcHQub3B0aW9ucyA6IHNjcmlwdDtcclxuICAgIC8vIHJlbmRlciBmdW5jdGlvbnNcclxuICAgIGlmICh0ZW1wbGF0ZSAmJiB0ZW1wbGF0ZS5yZW5kZXIpIHtcclxuICAgICAgICBvcHRpb25zLnJlbmRlciA9IHRlbXBsYXRlLnJlbmRlcjtcclxuICAgICAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IHRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcclxuICAgICAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gZnVuY3Rpb25hbCB0ZW1wbGF0ZVxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uYWxUZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBvcHRpb25zLmZ1bmN0aW9uYWwgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNjb3BlZElkXHJcbiAgICBpZiAoc2NvcGVJZCkge1xyXG4gICAgICAgIG9wdGlvbnMuX3Njb3BlSWQgPSBzY29wZUlkO1xyXG4gICAgfVxyXG4gICAgbGV0IGhvb2s7XHJcbiAgICBpZiAobW9kdWxlSWRlbnRpZmllcikge1xyXG4gICAgICAgIC8vIHNlcnZlciBidWlsZFxyXG4gICAgICAgIGhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAvLyAyLjMgaW5qZWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnRleHQgPVxyXG4gICAgICAgICAgICAgICAgY29udGV4dCB8fCAvLyBjYWNoZWQgY2FsbFxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLiR2bm9kZSAmJiB0aGlzLiR2bm9kZS5zc3JDb250ZXh0KSB8fCAvLyBzdGF0ZWZ1bFxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQpOyAvLyBmdW5jdGlvbmFsXHJcbiAgICAgICAgICAgIC8vIDIuMiB3aXRoIHJ1bkluTmV3Q29udGV4dDogdHJ1ZVxyXG4gICAgICAgICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gX19WVUVfU1NSX0NPTlRFWFRfXztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpbmplY3QgY29tcG9uZW50IHN0eWxlc1xyXG4gICAgICAgICAgICBpZiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmNhbGwodGhpcywgY3JlYXRlSW5qZWN0b3JTU1IoY29udGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGNvbXBvbmVudCBtb2R1bGUgaWRlbnRpZmllciBmb3IgYXN5bmMgY2h1bmsgaW5mZXJlbmNlXHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQobW9kdWxlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHVzZWQgYnkgc3NyIGluIGNhc2UgY29tcG9uZW50IGlzIGNhY2hlZCBhbmQgYmVmb3JlQ3JlYXRlXHJcbiAgICAgICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWRcclxuICAgICAgICBvcHRpb25zLl9zc3JSZWdpc3RlciA9IGhvb2s7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzdHlsZSkge1xyXG4gICAgICAgIGhvb2sgPSBzaGFkb3dNb2RlXHJcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlLmNhbGwodGhpcywgY3JlYXRlSW5qZWN0b3JTaGFkb3coY29udGV4dCwgdGhpcy4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgc3R5bGUuY2FsbCh0aGlzLCBjcmVhdGVJbmplY3Rvcihjb250ZXh0KSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaG9vaykge1xyXG4gICAgICAgIGlmIChvcHRpb25zLmZ1bmN0aW9uYWwpIHtcclxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUmVuZGVyID0gb3B0aW9ucy5yZW5kZXI7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyV2l0aFN0eWxlSW5qZWN0aW9uKGgsIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGhvb2suY2FsbChjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFJlbmRlcihoLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGluamVjdCBjb21wb25lbnQgcmVnaXN0cmF0aW9uIGFzIGJlZm9yZUNyZWF0ZSBob29rXHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gb3B0aW9ucy5iZWZvcmVDcmVhdGU7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuYmVmb3JlQ3JlYXRlID0gZXhpc3RpbmcgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGhvb2spIDogW2hvb2tdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzY3JpcHQ7XHJcbn1cblxuZXhwb3J0IGRlZmF1bHQgbm9ybWFsaXplQ29tcG9uZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9ybWFsaXplLWNvbXBvbmVudC5tanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-runtime-helpers/dist/normalize-component.mjs\n");

/***/ })

}]);